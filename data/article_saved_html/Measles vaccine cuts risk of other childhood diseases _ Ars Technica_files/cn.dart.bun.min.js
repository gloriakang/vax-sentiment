if("undefined"==typeof CN||!CN)var CN={};CN.isBoolean=function(e){return"boolean"==typeof e},CN.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},CN.isEmpty=function(e){return!/\S/.test(e||"")},CN.isNull=function(e){return null===e},CN.isNumber=function(e){return"number"==typeof e&&isFinite(e)},CN.isObject=function(e){return"object"==typeof e},CN.isString=function(e){return"string"==typeof e},CN.isUndefined=function(e){return"undefined"==typeof e},CN.url=function(){var e=[];return{domain:function(e){var t=(e?e.replace(/^https*:\/\/|(:|\/).*$/g,""):location.hostname).split("."),n=t.length;return t.slice(n-2,n).join(".")},section:function(){return((location.pathname.split("/")[1]||"").match(/^[^\.]*$/)||[""])[0]},isSecure:function(){return"https:"===location.protocol},params:function(e,t,n){var i=CN.utils.parseStr(t||location.search,n||"query");return e?i[e]||"":i},path:function(){return 0===e.length&&(e=location.pathname.match(/([^\/]+)/g)||[""]),e},getFragment:function(){return location.hash.substring(1)||!1},setFragment:function(e){return location.hash=e||"",this}}}(),CN.utils=function(){var e={},t={query:/([^?=&]+)(=([^&]*))?/g,hash:/([^#=&]+)(=([^&]*))?/g,usercookie:/([^=|]+)(=([^|]*))?/g};return{parseStr:function(n,i){return e[n+"_"+i]?e[n+"_"+i]:(e[n+"_"+i]={},(n||"").replace(t[i],function(t,a,r,o){e[n+"_"+i][a]=o}),e[n+"_"+i])},uriencdec:function(e,t){return t?encodeURIComponent(e):decodeURIComponent(e)}}}(),CN.debug=function(e){var t={error:{f:"error",msg:"ERROR"},warn:{f:"warn",msg:"WARNING"},info:{f:"info",msg:"INFO"},user:{f:"error",msg:"USER"}},n={DEV:"Development",STAG:"Staging",PREV:"Preview",PROD:"Production"},i=function(e,n,i){var a=t[e]||t.debug;if(("PROD"!==CN.site.env||CN.site.debug)&&(n=n||"NO MSG",i=i||[],"object"==typeof console)){var r=console[a.f]||console.info;i.unshift(a.msg,n);for(var o=0;o<i.length-1;o+=2){var s=i.splice(0,o+1);s.push(" :: "),i=s.concat(i)}console.firebug?r.apply(this,i):console[a.f](i)}};return"true"===CN.url.params("debugOff")&&(i=function(){}),{error:function(e,t){return i("error",e,t),this},warn:function(e,t){return i("warn",e,t),this},info:function(e,t){return i("info",e,t),this},user:function(e,t){return i("user",e.message,[t,e.fileName,e.lineNumber,e.name,e.stack]),this},speedtest:function(t,n,i){var a,r;if(CN.isNumber(n)&&(i=n,n=[]),e.isArray(n)||(n=[]),i=i||1e4,!e.isFunction(t))return CN.debug.error("Not a function",[t]),this;if("object"==typeof console)if(console.time){for(a="timer"+Math.floor(1e6*Math.random()),console.time(a),r=0;i>r;r++)t.apply(this,n);console.timeEnd(a)}else{for(a=new Date-0,r=0;i>r;r++)t.apply(this,n);a=new Date-a,console.log(a)}else{for(a=new Date-0,r=0;i>r;r++)t.apply(this,n);a=new Date-a,alert(a)}return this},app:function(){var t={},a=function(e,n,a){t[CN.site.env][e]&&i(e,n,a)};return{setLevel:function(i,a){return i&&e.isArray(i)&&0!==i.length?(a=a&&a in n?a:"DEV",t[a]=i,this):this},getLevel:function(e){return e?t[e]||"":t},error:function(e,t){return a("error",e,t),this},warn:function(e,t){return a("warn",e,t),this},info:function(e,t){return a("info",e,t),this},user:function(e,t){return a("user",e.message,[t,e.fileName,e.lineNumber,e.name,e.stack]),this}}}}}("function"==typeof CNjQuery&&CNjQuery||jQuery),CN.site=function(){return{code:"",title:"",name:"",alias:"",env:"",cnd:!1,debug:!!CN.url.params("magdebug")&&!this.cnd,noads:!!CN.url.params("magnoads")&&!this.cnd,testads:CN.url.params("dartAdOverride")&&!this.cnd,init:function(e){e=e||{};for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this[this.name]={},this.domain=CN.url.domain();try{this.domain&&(document.domain=this.domain),CN.debug.info("Document domain was set",[this.domain])}catch(n){CN.debug.error(n)}return CN.debug.info("CN Started",[this.code,this.title,this.env,this.name,this.alias,this.cnd,this.debug,this.noads]),this}}}(),CN.cookie=function(){var e={};return{get:function(t){if(e[t])return e[t];for(var n=document.cookie.split("; "),i=[],a=0,r=n.length;r>a;a++)if(i=n[a].split("="),e[i[0]]=decodeURIComponent(i.slice(1).join("=")),i[0]===t)return e[i[0]];return this.delCache(t),""},del:function(e,t){return t=t||{},t.expires=-1,this.set(e,"",t)},set:function(t,n,i){this.delCache(t),i=i||{},n=n||"",i.expires=CN.isDate(i.expires)?i.expires.toUTCString():CN.isNumber(i.expires)?new Date(+new Date+60*i.expires*60*1e3).toUTCString():"";var a,r,o=!0;return void 0!==i.encode&&(o=i.encode),a=o?encodeURIComponent(n):n,r=[t+"="+a],i.expires&&r.push("expires="+i.expires),i.path&&r.push("path="+i.path),i.domain&&r.push("domain="+i.domain),i.secure&&r.push("secure"),document.cookie=r.join("; "),e[t]=n,!0},delCache:function(t){return delete e[t],this}}}(),CN.frame=function(e){var t=function(n){var i=n.data&&n.data.use?n.data.use:this;try{var a=i.contentWindow.document.body}catch(n){return CN.debug.user(n,[i,i.id])}"undefined"==typeof n.data&&e("iframe",a).bind("load",{use:i},t),e(".textAd",a).length&&e("#adHolder a",a).eq(0).text()||e("#adHolder",a).css({"font-size":0,"line-height":0}),e(i).css({border:"none",margin:0,height:e(a).css({overflow:"hidden",margin:0,border:0}).outerHeight()})};return{bindResize:function(n){return e(n).bind("load",t),this},refresh:function(n,i,a,r){return n=CN.isString(n)?n.split(/,|\s+/):e.isArray(n)?n:[],n.length?(CN.isObject(a)&&(r=a,a=!0),CN.isObject(i)&&(r=i,i=""),CN.isBoolean(i)&&(a=i,i=""),a=null==a?!0:a,e.each(n,function(n,o){if(!/\S/.test(o))return!0;var s=e(o);if(!s.length)return!0;a&&s.bind("load",t),CN.callwhen.run(r,s),i=i||s[0].src;try{s[0].contentWindow.location.replace(i),CN.debug.info("CN Frame Refresh",[o,i,a])}catch(d){CN.debug.user(d,[o,i,a])}}),this):this},resize:function(n){return e(n).bind("load",t).triggerHandler("load"),this}}}("function"==typeof CNjQuery&&CNjQuery||jQuery),CN.modules=function(e){CN.customEvents=CN.customEvents||{},CN.customEvents.moduleLoaded={};var t,n=[];return t=function(t){CN.modules.loaded.push(t),e(window).trigger("CN.customEvents.moduleLoaded."+t)},{register:t,loaded:n}}("function"==typeof CNjQuery&&CNjQuery||jQuery);var googletag=window.googletag=window.googletag||{};if(window.googletag.cmd=window.googletag.cmd||[],function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),CN.ad=window.CN.ad||{},CN.ad.proximic=CN.ad.proximic||{},function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//segment-data.zqtk.net/conde-nast?url="+encodeURIComponent(window.location.href);var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),CN.dart=window.CN.dart=function(e,t,n){var i,a=e(window),r={},o=[],d=!1,l=[],c=[],u=[],f=!1,p=0,g={},m=!1,h={ad:{},params:{},charmap:{},container:"_frame",dcopt:!0,frameurl:"/ads/newad.html",embed:!1,initialized:!1,ready:!1,pvid:Math.floor(1e13*Math.random()).toString(),sov:Math.floor(20*Math.random()+1).toString(),cm:Math.floor(20*Math.random()+1).toString(),remote:"/services/dart/",retry:!1,gptCallback:void 0,gptEvent:[],contentType:"",useOneAdCall:!1,moat_isInteracting:!1,moatParam:{},contentId:"",targetGenre:"",targetProximic:"",targetCnds:"",etfThreshold:0,adCreativeIdArr:[],adLineItemIdArr:[],triggerEFT:!1,etfCalledOnce:!1,version:"4.20.4",errors:[],interstitialDivCreated:!1,warnings:[],dfpRefresh:"0",maxDfpRefresh:100,adSeqTargeting:"1",adSeqCap:"1",socialRef:"",socialKey:"",trafficKey:"",mbid:"",site:"",gptAdKey:3379,tiles:[],tile:0,transparency:!0,url:location.protocol+"//ad.doubleclick.net/adj/",zone:"",configFile:"/ads/cn.dartconfig.js",configLoaded:!1,configData:{},gptAdsParams:{},oneAdCallIInit:!1,domDelay:{defaultVal:1e3},deviceDefault:"desktop",targetMap:{kw:"kw",contentId:"ctid",contentType:"cttp",dfpRefresh:"rfsh",adSeqTargeting:"sqt",CAP:"CAP",socialRef:"sclr",socialKey:"scl",trafficKey:"tfc",mbid:"mbid",pvid:"pvid",sov:"sov",targetGenre:"gn",targetProximic:"px",targetCnds:"cnds",cm:"cm"},gptAdSlotSizes:{desktop:{"728x90_topLargeDesktop":[[728,90],[970,66],[970,418],[970,250],[1140,380],[970,90],[9,1]],"728x90_topDesktop":[[728,90],[970,66],[970,418],[970,250],[900,300],[970,90],[9,1]],"728x90_topArticle":[[728,90],[970,66],[970,418],[970,90],[9,1]],"728x90_topTablet":[[728,90],[690,230],[9,1]],"728x90_bannerTablet":[[728,90],[9,1]],"728x90_bannerDesktop":[[728,90],[9,1]],"728x90_top":[[728,90],[970,418],[970,250],[980,300],[970,90],[970,66],[62,88],[88,31],[196,31],[2048,1534],[9,1]],"728x90_bottom":[[728,91]],"728x90_nmtop":[[728,90],[865,165],[1300,250],[970,250],[970,66],[9,1]],"728x91_contentbody":[[728,91],[2048,1535]],"728x92_contentbody":[[728,92],[2048,1536]],"970x418_top":[[970,418],[970,250],[980,300],[970,90],[970,66],[728,92],[88,31],[62,88],[196,31],[1140,380],[900,300]],"970x67_pushdown":[[728,92],[970,67],[970,419],[970,251],[970,91],[62,89],[88,32],[196,32],[1140,380],[900,300]],"300x250_side":[[300,250],[300,600],[300,1050]],"300x250_sideArticle":[[300,250],[300,600]],"300x250_boxDesktop":[[300,250]],"300x250_boxTablet":[[300,250]],"300x600_fullGalleryInterstitialTablet":[[300,600],[640,900]],"300x600_inlineGalleryInterstitialTablet":[[300,250],[630,639]],"300x600_interstitial_fullGalleryInterstitialTablet":[[300,600],[640,900]],"300x600_interstitial_inlineGalleryInterstitialTablet":[[300,250],[630,639]],"300x250_top":[[300,250],[300,600],[300,1050]],"300x250_bottom":[[300,251],[300,601],[300,1051]],"300x250_sponsor":[[300,250],[300,600]],"300x250_instream":[[300,255],[300,605],[300,1055]],"300x250_interstitial_top":[[300,252],[300,602],[440,330],[620,440],[900,600],[832,380]],"300x250_interstitial_full":[[300,252],[640,480],[1280,960]],"300x250_wmag":[[300,250],[300,600],[610,730]],"300x250_spot_c":[[300,253]],"300x250_left":[[300,254],[300,604]],"300x250_infeed1":[[300,250],[610,300]],"300x250_infeed2":[[300,251],[610,301]],"300x250_infeed3":[[300,252],[610,302]],"160x600_left":[[160,600],[200,700],[300,900]],"160x600_right":[[160,601],[200,701],[300,901]],"120x60_top":[[120,60]],"120x60_bottom":[[120,61]],"220x25_top":[[220,25]],"450x266_top":[[450,266]],"220x25_top_snap":[[230,96]],"220x25":[[230,96]],"1x1_top":[[1,1]],"3x1_top":[[447,100],[3,1]],"4x1_top":[[4,1]],"948x461_top":[[948,461]],"180x150_top":[[180,150]],"300x200_top":[[300,200]],"165x31_top":[[165,31]],"460x608":[[460,608],[460,150]],"320x50_top":[[300,50],[320,50],[300,150],[320,150],[300,259]],"320x51_bottom":[[300,58],[320,58],[300,158],[320,158],[300,258],[300,608]],"300x250_takeover_mobile":[[300,250],[320,250],[320,480]],"300x50_bannerMobile":[[300,50]],"300x250_boxMobile":[[300,250]],"300x250_interstitial_boxMobile":[[300,250]],"300x250_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x250_interstitial_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x50_wwd_top":[[300,50],[300,250]],"1300x250_top":[[1300,250]],"1300x98_top":[[1300,98]],"980x1100_top":[[980,1100]],"88x32_top":[[88,32]]},wideDesktop:{},mobile:{"320x50_top":[[300,50],[320,50],[300,150],[320,150],[300,259],[9,1]],"320x51_bottom":[[300,58],[320,58],[300,158],[320,158],[300,258],[300,608]],"300x250_takeover_mobile":[[300,250],[320,250],[320,480]],"300x50_bannerMobile":[[300,50],[9,1]],"300x250_boxMobile":[[300,250]],"300x250_interstitial_boxMobile":[[300,250]],"300x250_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x250_interstitial_fullGalleryInterstitialMobile":[[300,250],[320,480]],"300x50_wwd_top":[[300,50],[300,250]]},tablet:{}},isURLHasKeywords:!1},v="CN Ad ",y={"true":{gen:"Success",call:"Request Fired",embed:"Set to Embedded Mode.  Operating with degraded feature-set.",queue:"Request Added to Queue",plug:"Plugin Registered",valid:"Plugin Action Passed Validation",finished:"All Plugins Finished Running.",drawing:"All Ads Have Completed Drawing",drawn:"Ad Drawn",config:"Config file found"},"false":{gen:"Error",call:"Request Aborted",embed:"Set to Iframe Mode. Good job.",queue:"Request Faled To Be Added to Queue",plug:"Plugin Skipped",valid:"Plugin Action Failed Validation",finished:"Plugins Still Running",drawing:"Ads Still Drawing",drawn:"Ad Failed To Draw",config:"Config file not found"}},w={mark:function(e){this[e]=("start"===e,(new Date).getTime())}},C=function(e,t){return v+y[(t!==!1).toString()][e||"gen"]},k=function(e){var t,n=h.params,i="";for(t in n)n.hasOwnProperty(t)&&(n[t].noKey?i=n[t].refresh&&e.kws.length!==h.ad.kws.length?n[t].refresh(e):n[t].defaultValue+i:(i+=t+"=",i+=n[t].refresh&&e.kws.length!==h.ad.kws.length?n[t].refresh(e):n[t].defaultValue));return i},b=function(n,i){var a=n+i.sz,s=a+"_frame",d=!1;if(h.initialized||F("not initialized, but ads will load with no options"),""===n)return void h.errors.push({description:"Missing ad div id in CN.dart.call()",divID:n||"undefined",adSize:i.sz||"undefined",kws:i.kws||"undefined"});if(m===!1)for(var l=0;l<o.length;l++)if(o[l].adplacement===s){d=!0;break}if(d===!1||m===!0){var c=r[a]={tile:h.tiles.push(a),el:e("#"+a+h.container),kws:X(h.ad.kws,Y.kws(i.kws)||[]),store:i.store===!1?!1:h.ad.store,sz:i.sz,isDrawn:!1,xkws:Y.kws(i.kws)||[],zone:i.zone?Y.adzone(i.zone):!1,collapse:i.collapse===!0},u=c.sz.split("x"),f=(location.pathname&&"/"!==location.pathname?location.pathname:"",h.zone?h.zone.replace(/;/gi,"/"):""),p=h.adUnit3?h.adUnit3.replace(/;/gi,"/"):void 0,v=h.adUnit4?h.adUnit4.replace(/;/gi,"/"):void 0;f&&(f=rt(f,p,v));for(var l=0;l<u.length;l++)u[l]=parseInt(u[l],10);if(m===!0){var y=!1;g.drawn===!0&&(y=!0),g={url:"/"+h.gptAdKey+"/"+h.site+f,adsize:u,adname:a,adplacement:s,tiles:c.tile,kws:c.kws,drawn:y,xkws:c.xkws},t.dart.renderGPTAds()}else o.push({url:"/"+h.gptAdKey+"/"+A(i)+f,adsize:u,adname:a,adplacement:s,tiles:c.tile,kws:c.kws,drawn:!1,xkws:c.xkws}),I(c,f,"gptAds")}return this},N=function(e){return h.initialized?(n.warn(v+"Initialization called more than once.  This should only happen once per page."),!1):(w.mark("startInit"),void Q(e))},x=function(e){var i,o=h.configLoaded&&h.configData.sponsorParameter?h.configData.sponsorParameter:["kw"];Y.charmap(e.charmap),h.device=e.device?e.device:h.deviceDefault,h.initialized=!0,h.site=e.adUnits?e.adUnits.unit1:e.site,h.zone=Y.adzone(e.adUnits?e.adUnits.unit2:e.zone),h.adUnit3=e.adUnits?"undefined"==typeof e.adUnits.unit3?void 0:Y.adzone(e.adUnits.unit3):void 0,h.adUnit4=e.adUnits?"undefined"==typeof e.adUnits.unit4?void 0:Y.adzone(e.adUnits.unit4):void 0,h.contentId=e.contentId,h.contentType=e.contentType,h.targetGenre=e.genre?e.genre.toString():"",h.useOneAdCall=e.useOneAdCall||!1,h.gptCallback=e.gptCallback&&"function"==typeof e.gptCallback?e.gptCallback:function(e){n.info("Cid: "+e.creativeId+" is rendered to slot of size: "+e.size[0]+"x"+e.size[1])},i=W(o,e),q(),h.ad={store:!0,kws:i,tile:h.tile},h.configLoaded&&h.configData.docReferrer&&E(),h.configLoaded&&h.configData&&h.configData.constellation&&z(),t.url.params("getAdLog",location.search)&&ft(),t.url.params("mbid",location.search)&&(h.mbid=t.url.params("mbid",location.search)),P(),_(),R(),Z(),U.run(),h.configLoaded&&h.configData.refresh?("undefined"==typeof t.ad.viewableRefresh&&n.info(v+"Refresh plugin not installed",[]),h.configData.refresh.type&&"auto"===h.configData.refresh.type&&h.configData.refresh.refreshTimeMsec>0&&L(h.configData.refresh.refreshTimeMsec)):h.configLoaded&&h.configData.dartRefresh&&"undefined"!=typeof h.configData.dartRefresh.active&&h.configData.dartRefresh.dartRefreshTimeMsec>0&&L(h.configData.dartRefresh.dartRefreshTimeMsec),h.embed=e.embed||h.embed,h.embed&&n.info(C("embed",!0),[]),w.mark("init"),n.info(v+"Initialized",[r]),S(h.useOneAdCall),a.trigger("CN.customEvents.dartInitialized")},A=function(e){var t;return t=h.site,"undefined"!=typeof e.isCM&&e.isCM&&(t=h.site.split(".").splice(0,1)+".cm"),t},S=function(i){i?n.info(" CN dart using oneAdCall() ",[{}]):(n.info(" CN dart using call() ",[{}]),e(function(){var n=setInterval(function(){for(var i=!1,a=t.dart.getGPTAds(),r=0;r<a.length;r++){var o=e("#"+e.trim(a[r].adplacement));if("interstitial1x1_frame"!==a[r].adplacement&&o.length>0&&""===o.html()){i=!0;break}}i===!0?t.dart.renderGPTAds():(t.dart.setGPTAdsRenderStatus(!0),clearInterval(n),e(window).trigger("CN.customEvents.GPTAdsRendered"))},t.dart.getDomDelay())}))},T=function(){var n,i,a,r=0;for(n=t.dart.getGPTAds(),i=t.dart.getMoreAdsCollection(),a=e.extend(i,n);r<a.length;r++)0===e("#"+a[r].adplacement).length&&(w.mark("div_missing_"+a[r].adplacement),h.errors.push({description:"Missing ad div",divID:a[r].adplacement||"undefined"}))},D=function(t){var n,i,a;0!==e("#"+t.divId).length||t.divInDom||(n="append"===t.insertMethod||"prepend"===t.insertMethod||"after"===t.insertMethod||"before"===t.insertMethod?t.insertMethod:"append",i='<div id="'+t.divId+'_frame" class="displayAd" style="display:none;'+t.css+'" data-jivox-ad-id="'+t.dataId+'"></div>',a=t.location,e(a)[n](i),t.divInDom=!0,h.warnings.push({description:"Ad library created constellation div",divID:t.divId,adSize:t.adWidth+"x"+t.adHeight,generateAdCall:t.generateAdCall,insertMethod:n,location:a})),t.generateAdCall&&b(t.name,{sz:t.adWidth+"x"+t.adHeight,kws:t.kws})},z=function(){var n=h.configData.constellation;for(key in n)e(function(n){var i,a,r;a=10,r=1,i=setInterval(function(){var o=e(n.location);o.length>0?(clearInterval(i),t.dart.createAdDiv(n)):(r++,r==a&&(clearInterval(i),t.dart.getCommon().errors.push({description:"Constellation div injection error",locationNotFound:n.location,injectionAttempts:"Max injections reached: "+r,divID:n.divId,adSize:n.adWidth+"x"+n.adHeight})))},300)}(n[key]))},I=function(t,n,i){var a=[1,1],r=a[0]+"x"+a[1],s="interstitial"+r,d=s+"_frame";0!==e("#"+d).length||h.interstitialDivCreated||(e("body").prepend('<div id="'+d+'" class="displayAd displayAd'+r+'Js" style="width:'+a[0]+'px;height: 0px;" data-cb-ad-id="'+d+'"></div>'),h.interstitialDivCreated=!0,h.warnings.push({description:"Ad library created 1x1 interstitial div",divID:"interstitial1x1_frame",adSize:"1x1",kws:""})),"gptAds"===i&&1===o.length&&o.push({url:"/"+h.gptAdKey+"/"+h.site+n,adsize:a,adname:s,adplacement:d,tiles:t.tile,kws:t.kws,drawn:!1,xkws:t.xkws})},P=function(){var e,t=document.referrer.match(/([^\/]+)/g)||[""],n={"(^|\\.)taboola.com$":"tb","(^|\\.)taboolasyndication.com$":"tb","(^|\\.)aorpum.com$":"ap","(^|\\.)stumbleupon.com$":"su","(^|\\.)outbrain.com$":"ob"};if(e=t[1],"undefined"!=typeof e)for(var i in n)null!==e.match(i)&&(h.trafficKey=n[i])},_=function(){var e,t=document.referrer.match(/([^\/]+)/g)||[""],n={"(^|\\.)facebook.com$":"fb","(^|\\.)twitter.com$":"tw","(^|\\.)reddit.com$":"rd","(^|\\.)pinterest.com$":"pn","(^|\\.)instagram.com$":"ig","(^|\\.)plus.url.google.com$":"gpl","^t.co$":"tw","(^|\\.)tumblr.com$":"tbl","(^|\\.)qzone.qq.com$":"qq","(^|\\.)weibo.com$":"we","(^|\\.)habbo.com$":"hb","(^|\\.)vk.com$":"vk","(^|\\.)renren.com$":"rr","(^|\\.)orkut.google.com$":"or"};if(e=t[1],"undefined"!=typeof e)for(var i in n)null!==e.match(i)&&(h.socialKey=n[i],h.socialRef="any")},R=function(){setTimeout(function(){"object"==typeof s&&(s.eVar41=h.pvid)},200)},E=function(){var e=document.referrer.match(/([^\/]+)/g)||[""],t=e[e.length-1];t&&(t=t.replace(/\?.*$/g,"").replace(".html","","gi"),h.ad.kws[h.ad.kws.length]=""+Y.kws("rfr_"+t))},j={options:{domain:t.url.domain(),path:"/"},check:function(e){return t.cookie.get(e)},read:function(e){var t=j.check(e);return""!==t?t:!1},remove:function(e){t.cookie.del(e,j.options)},write:function(e,n,i){j.options.expires=i,t.cookie.set(e,n,j.options)}},O=function(e,t,n){var i,a,r,o={},s=j.read(e);s?(n||("cn_adsqt"===e?n="adSeqTargeting":"cn_adcap"===e?n="adSeqCap":F("There is no ads tracking cookie: "+e)),o=JSON.parse(j.check(e)),i=Number(o.expire)-(new Date).getTime(),a=i/36e5,o.count=Number(o.count)+1,h[n]=""+o.count,o=JSON.stringify(o),j.write(e,o,a)):(r=6e4*t,i=(new Date).getTime()+r,o.count=Number(h[n]),o.expire=i,a=t/60,o=JSON.stringify(o),j.write(e,o,a))},q=function(){if(O("cn_adsqt",1380,"adSeqTargeting"),O("cn_adcap",10,"adSeqCap"),j.read("cn_cm"))h.cm=j.check("cn_cm");else{var e=87600;j.write("cn_cm",h.cm,e)}},F=function(e,t){var t=t?t:[];n.warn(v+e,t),h.warnings.push(e)},M=function(e,t){var n,i=h.targetMap;if(arguments.length>1){googletag.pubads().setTargeting(e,t);for(var a in i)i[a]===e&&(h[a]=t)}else for(var a in e)n=i[a]?i[a]:a,googletag.pubads().setTargeting(n,e[a]),void 0!==h[a]&&(h[a]=e[a])},L=function(e){var a=e;if("undefined"!=typeof h.configData.overrides&&"undefined"!=typeof h.configData.overrides.refresh&&"undefined"!=typeof h.configData.overrides.refresh.zone){var r=h.zone.replace(/[^\w\s]/gi,"");for(prop in h.configData.overrides.refresh.zone)r===prop&&(a=h.configData.overrides.refresh.zone[prop].dartRefreshTimeMsec)}a&&(i=setInterval(function(){return h.configData.maxRefreshes&&"undefined"!=typeof h.configData.maxRefreshes&&Number(h.dfpRefresh)>=h.configData.maxRefreshes?(clearInterval(i),void n.info(v+"Max refreshes reached. Stopping refresh",[])):(t.dart.refresh(),void n.info(v+"Refreshed ",[]))},a),n.info(v+"Refresh Initialized to "+a+"ms",[]))},Q=function(i){if(t.dart.inlineConfig)return V(t.dart.inlineConfig),x(i),void n.info(v+"inline dartConfig loaded",[]);var a=i.configFile?i.configFile:h.configFile;e.ajax({url:a,dataType:"json",async:!1,error:function(){n.info(C("config",!1),[]),h.configLoaded=!1},cache:!0,success:function(e){V(e)},complete:function(){n.info(v+"dartConfig call complete",[]),x(i)}})},V=function(e){var i=e[t.site.name];if(i){for(prop in i)if(h.configData[prop]=i[prop],"object"==typeof i[prop]&&null!==i[prop])for(prop2 in i[prop])if("object"==typeof i[prop][prop2]&&null!==i[prop][prop2])for(prop3 in i[prop][prop2])if("gptAdSlotSizes"===prop2)if("[object Array]"==Object.prototype.toString.call(i[prop][prop2][prop3])&&null!==i[prop][prop2][prop3])"undefined"==typeof h[prop2]?(h[prop2][h.deviceDefault]={},h[prop2][h.deviceDefault][prop3]=i[prop][prop2][prop3]):h[prop2][h.deviceDefault][prop3]=i[prop][prop2][prop3];else for(prop4 in i[prop][prop2][prop3])"undefined"==typeof h[prop2]?(h[prop2][prop3]={},h[prop2][prop3][prop4]=i[prop][prop2][prop3][prop4]):h[prop2][prop3][prop4]=i[prop][prop2][prop3][prop4];else"undefined"==typeof h[prop2]?(h[prop2]={},h[prop2][prop3]=i[prop][prop2][prop3]):h[prop2][prop3]=i[prop][prop2][prop3];h.configLoaded=!0,n.info(v+"config file loaded successfully",[])}else h.configLoaded=!1,F("Sitename not found in config file or refresh is disabled. Ads will not refresh"),w.mark("siteNameNotFound")},U={queue:[],register:function(e){return e&&e.init&&void 0!==e.isFinished&&e.callbacks?(this.queue.push(e),n.info(C("plug"),[e.name||"",e]),a.unbind("CN.customEvents.dartInitialized"),!0):(n.info(C("plug",!1),[e?e.name:"",e||{}]),!1)},run:function(){for(var e,t=0,i=this.queue.length;i>t;t++)e=this.queue[t],n.info(v+"Running Plugin",[e.name]),e.init({queue:this.queue,position:t,plugin:e})},reRun:function(t){for(var i,a=this.queue.length,r=t.length,o={cnds:"CN Ad CNDS kws",proximic:"CN Ad Proximic"},s=function(t){e('script[src="'+t+'"]').remove(),e("<script>").attr("src",t).appendTo("head")},d=0;r>d;d++){"proximic"===t[d]&&s("//segment-data.zqtk.net/conde-nast?url="+encodeURIComponent(window.location.href));for(var l=0;a>l;l++)i=this.queue[l],i.name===o[t[d]]&&(n.info(v+"re-running Plugin",[i.name]),i.init({queue:this.queue,position:l,plugin:i}))}},finished:function(e,i,a){var r=0,o=e.data,s=o.queue.length,d=o.validate(a);for(n.info(C("valid",d),[i.name,a]);s>r;r++)if(o.queue[r].isFinished===!1)return n.info(C("finished",!1),[i.name]),!1;n.info(C("finished",!0)),G.call(t.dart)},validate:function(e){var t,n=!0;for(t in e)e.hasOwnProperty(t)&&(n=Y[t]&&Y[t](e[t])&&n);return n||!1}},G=function(){return h.ready=!0,w.mark("ready"),n.info(v+"Call State Set to Ready"),a.trigger("CN.customEvents.dartRequest"),this},K=function(e,t){var t=t||{};if(h.moatParam.isInteracting)return void n.info(v+"refresh skipped user interacting",[]);if(h.configData.minRefreshDurationMsec&&"undefined"!=typeof h.configData.minRefreshDurationMsec&&!t.lazyload){h.startRefreshTimer||(h.startRefreshTimer=(new Date).getTime());var i=(new Date).getTime(),a=h.configData.minRefreshDurationMsec,r=i-h.moatParam.startTime,s=i-h.startAutoRefreshTimer;if(a>r&&a>s)return void n.info(v+"refresh skipped minimum refresh not met",[])}if(t.contentType&&M("cttp",t.contentType),t.lazyload&&M("ll",t.lazyload),t.rerunPlugins&&U.reRun(t.rerunPlugins),t.kws){h.gptAdsParams.kw=[];for(var d=0;d<t.kws.length;d++)h.gptAdsParams.kw.push(t.kws[d]);h.gptAdsParams.kw=X(h.gptAdsParams.kw),M("kw",h.gptAdsParams.kw)}if(h.isURLHasKeywords===!1){var c=[],u=e?e.toString().split(/,|\s+/):[];if(h.embed)return this;if(e&&0!==u.length)for(var d=0;d<u.length;d++)for(var f=0;f<o.length;f++)if(o[f].adname.toString()===u[d].toString()){o[f].lazyDisplay=!0,c.push(o[f].slot);break}M("crid",h.adCreativeIdArr.toString()),M("liid",h.adLineItemIdArr.toString()),M("cm",h.cm),c&&0!==c.length?googletag.pubads().refresh(c):(Math.round(h.dfpRefresh)<h.maxDfpRefresh&&J(),O("cn_adsqt",1380,"adSeqTargeting"),M("sqt",h.adSeqTargeting),M("rfsh",h.dfpRefresh),googletag.pubads().refresh(l))}return h.startAutoRefreshTimer=(new Date).getTime(),this},$=function(e){var t=e?e.toString().split(/,|\s+/):[];if(e&&0!==t.length)for(var n=0;n<t.length;n++)for(var i=0;i<l.length;i++){var a=l[i].b.d||!1;a||(a=l[i].b.f),a.toString()===t[n].toString()+"_frame"&&l.splice(i,1)}else l=[]},H=function(t){var i=t?t.toString().split(/,|\s+/):[];if(t&&0!==i.length)for(var a=0;a<i.length;a++)for(var r=0;r<o.length;r++)o[r].adname.toString()===i[a].toString()&&(googletag.pubads().clear(o[r].slot),delete o[r],o.splice(r,1),$(i[a].toString()),e("#"+t.toString()+"_frame").empty(),n.info(v+t+" ad slot removed",[]));else googletag.pubads().clear(),o={};return this},B=function(e,t){var i,a=[];for(key in e){var r,s,d,c;d=e[key].sz.split("x"),d[0]=parseInt(d[0],10),d[1]=parseInt(d[1],10),i=key.toString(),c=key+"_frame",r=e[key].kws&&e[key].kws.length>1?"_"+e[key].kws[1]:"",s=e[key].kws&&e[key].kws.length>=1?h.gptAdSlotSizes[h.device][e[key].sz+"_"+e[key].kws[0]+r]:h.gptAdSlotSizes[h.device][e[key].sz],"undefined"==typeof s&&(s=[d[0],d[1]]),t?(googletag.cmd.push(function(){a.push(googletag.defineSlot(URIZone,s,key).addService(googletag.pubads()))}),n.info(v+key+" ad call zone changed ",[])):(googletag.cmd.push(function(){a.push(googletag.defineSlot(o[1].url,s,c).addService(googletag.pubads()).setTargeting("st",key))}),googletag.cmd.push(function(){googletag.display(c)}),n.info(v+key+" ad slot appended",[])),o.push({url:o[1].url,adsize:d,adname:key,adplacement:c,tiles:"",kws:e[key].kws,drawn:!1,xkws:r,slot:a[0]}),l.push(a[0])}return this},W=function(e,n){var i,a,r=[];if("string"==typeof e){var o=e.split();e=o}for(i=0;i<e.length;i++)t.url.params(e[i],location.search)?(r.push(Y.kws(t.url.params(e[i],location.search))),h.isURLHasKeywords=!0):(a=Y.kws(n.kws),h.isURLHasKeywords=!1);return r.length>0&&(a=Y.kws(r.join().split(","))),a},J=function(){var e=Math.round(h.dfpRefresh),e=e+1,e=""+e;h.dfpRefresh=e},Z=function(){var e;for(e in r)r.hasOwnProperty(e)&&(r[e].kws=X(h.ad.kws,r[e].kws))},Y=function(){var n=/([\?\+\\\^\$\*\.\(\)\[\]\|])/g,i=function(e){if(t.site.testads)return h.site;for(var n=e.split("."),i=h.site.split("."),a=0,r=i.length>n.length?i.length:n.length,o=[];r>a;a++)o[a]=n[a]||i[a];return o.join(".")},a=/^https?:/,r=/;$|$/,o=new RegExp(t.site.testads?"testads;$":"[\\w_;]+$"),s=function(e){var t,n=h.charmap;if(o.test(e)){for(t in n)n.hasOwnProperty(t)&&(e=e.replace(new RegExp(t,"gi"),n[t]));return e.replace(r,";")}return F("CN Dart zoneResolver",["Invalid Dart Zone",e]),e},d=function(e){var t,n=h.charmap;for(t in n)n.hasOwnProperty(t)&&(e=e.replace(new RegExp(t,"gi"),n[t]));return e};return{ad:function(t){return t.kws?(h.ad.kws=e.isArray(t.kws)?X(t.kws):h.ad.kws,Z(),!0):!1},addparam:function(e){var t,n,i;if(!e)return!1;for(n="[object Array]"===Object.prototype.toString.call(e)?e:[e],i=0;i<n.length;i+=1){if(!n[i].pKey)return!1;t={},t.defaultValue=n[i].pValue,t.refresh=n[i].refresh,t.noKey=n[i].noKey||!1,h.params[n[i].pKey]=t}return!0},charmap:function(e){var t,i=h.charmap={};for(t in e)e.hasOwnProperty(t)&&(i[t.replace(n,"\\$1")]=e[t]);return!0},dcopt:function(e){return t.isBoolean(e)?(h.dcopt=e,!0):!1},embed:function(e){return t.isBoolean(e)?(h.embed=e,!0):!1},site:function(e){return h.site=i(e),!0},url:function(e){return t.isString(e)?(h.url=e.replace(a,location.protocol),!0):!1},zone:function(e){var t=s(e);return t?(h.zone=t,!0):!1},adzone:s,kws:function(e){for(var t=e?[].concat(e):[],n=0,i=t.length;i>n;n++)t[n]=d(t[n]);return t}}}(),X=function(){for(var e,t=0,n=[].concat.apply([],arguments).sort(),i=n.length;i>t;t++)e=n.shift(),n[0]!==e&&n.push(e);return et(n.join(",")).split(",")},et=function(e){return e.replace(/^,|\s*|,^/g,"")},tt={init:function(e,i,a){return!i||h.initialized?(n.info(v+"Remote Init error.  No calls will be made.",["site : "+e]),this):(h.frameurl=e+h.frameurl,h.remoteSite=e,h.remoteInit=e+h.remote+"init/"+i+"/kw="+t.url.path().join(";kw=")+";"+a,void nt(h.remoteInit))}},nt=function(e){document.write('<script type="text/javascript" src="'+e+'"></script>')},it=function(){var n=h.device;if(m===!1){for(var i=0;i<o.length;i++)if(o[i].drawn===!1){var a=void 0;if("interstitial1x1_frame"===o[i].adplacement)a=googletag.defineOutOfPageSlot(o[i].url,o[i].adplacement).addService(googletag.pubads());else{var r=o[i].xkws&&o[i].xkws.length>1?"_"+o[i].xkws[1]:"",s=o[i].xkws&&o[i].xkws.length>=1?h.gptAdSlotSizes[n][o[i].adsize[0]+"x"+o[i].adsize[1]+"_"+o[i].xkws[0]+r]:h.gptAdSlotSizes[n][o[i].adsize[0]+"x"+o[i].adsize[1]];a=s&&0!==s.length?googletag.defineSlot(o[i].url,s,o[i].adplacement).addService(googletag.pubads()).setTargeting("st",o[i].adname).setCollapseEmptyDiv(!0,!0):googletag.defineSlot(o[i].url,o[i].adsize,o[i].adplacement).addService(googletag.pubads()).setTargeting("st",o[i].adname).setCollapseEmptyDiv(!0,!0)}o[i].slot=a,o[i].drawn=!0,h.gptAdsParams.kw||(h.gptAdsParams.kw=[]);for(var d=0;d<o[i].kws.length;d++)h.gptAdsParams.kw.push(o[i].kws[d]);if(i===o.length-1){var l,c=k(o[0]),u=t.cookie.get("aam_uuid");if(c&&-1!==c.indexOf("=")){c.indexOf(";")&&(l=c.split(";"));for(var d=0;d<l.length;d++)if(""!==e.trim(l[d])&&-1!==l[d].indexOf("=")){var f=l[d].split("=");M(f[0],f[1])}}if(t.slideshow&&h.gptAdsParams.kw.push("slideshow"),u&&M("aamId",u),h.gptAdsParams.kw){for(var p=0;p<h.ad.kws.length;p++)h.gptAdsParams.kw.push(h.ad.kws[p]);h.gptAdsParams.kw=X(h.gptAdsParams.kw),M("kw",h.gptAdsParams.kw)}M("ctid",h.contentId),M("cttp",h.contentType),M("rfsh",h.dfpRefresh),M("sqt",h.adSeqTargeting),M("CAP",h.adSeqCap),M("sclr",h.socialRef),M("scl",h.socialKey),M("tfc",h.trafficKey),M("mbid",h.mbid),M("pvid",h.pvid),M("sov",h.sov),M("gn",h.targetGenre),M("px",h.targetProximic),M("cnds",h.targetCnds),M("cm",h.cm),M("crid",h.adCreativeIdArr.toString()),M("liid",h.adLineItemIdArr.toString()),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.pubads().enableAsyncRendering(),googletag.enableServices(),googletag.pubads().addEventListener("slotRenderEnded",h.gptCallback),googletag.pubads().addEventListener("slotRenderEnded",function(e){h.gptEvent.push(e),w.mark("GPTAdsRendered"),h.etfCalledOnce||ot(),ut()})}}}else{var l,a,c=k(g),r=g.xkws&&g.xkws.length>1?"_"+g.xkws[1]:"",s=g.xkws&&g.xkws.length>=1?h.gptAdSlotSizes[n][g.adsize[0]+"x"+g.adsize[1]+"_"+g.xkws[0]+r]:h.gptAdSlotSizes[n][g.adsize[0]+"x"+g.adsize[1]],u=t.cookie.get("aam_uuid");if(g.served=!1,a=s&&0!==s.length?googletag.defineSlot(g.url,s,g.adplacement).addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0):googletag.defineSlot(g.url,g.adsize,g.adplacement).addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0),g.slot=a,g.drawn=!0,u&&M("aamId",u),c&&-1!==c.indexOf("=")){c.indexOf(";")&&(l=c.split(";"));for(var d=0;d<l.length;d++)if(""!==e.trim(l[d])&&-1!==l[d].indexOf("=")){var f=l[d].split("=");
M(f[0],f[1])}}}},at=function(t,n){if("undefined"==typeof t)return F("no ad parameters were passed in."),!1;if(!h.initialized)return F("ads library needs to be initialized first."),!1;if(h.oneAdCallIInit)return F("oneAdCall() should only be used once per page. Please consider using moreAds()."),w.mark("oneAddCallUsedMoreThanOnce"),!1;for(key in t){var i=key,a=t[key];b(i,a)}"undefined"==typeof googletag.defineSlot?setTimeout(function(){it(),pt(),m=!0,n&&M(n),e(window).trigger("CN.customEvents.GPTAdsRendered")},1e3):setTimeout(function(){it(),pt(),m=!0,n&&M(n),e(window).trigger("CN.customEvents.GPTAdsRendered")},300),h.oneAdCallIInit=!0},rt=function(e,t,n){return e&&("/"!==e.charAt(0)&&(e="/"+e),"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),t&&("/"!==t.charAt(0)&&(t="/"+t),"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),e+=t),n&&("/"!==n.charAt(0)&&(n="/"+n),"/"===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),e+=n)),e},ot=function(){function e(e,t){return Math.floor(Math.random()*(t-e+1))+e}var t,n,i;return t=!1,h.etfCalledOnce=!0,i=e(1,100),"undefined"!=typeof h.configData.etfThreshold&&parseInt(h.configData.etfThreshold,10)>0&&(n=parseInt(h.configData.etfThreshold,10),n>=i&&(h.triggerEFT=!0,T(),st())),t},st=function(){var i,a;i=function(){e.ajax({type:"GET",url:"//event.condenastdigital.com/images/event.gif?"+a(),error:function(){n.info("ETF track error",[])},cache:!1,success:function(){n.info("ETF track success")},complete:function(){n.info("ETF call complete")}})},a=function(){function n(){var e,t=navigator.appName,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie|trident)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(i[2]=e[1]),i=i?[i[1],i[2]]:[t,navigator.appVersion,"-?"],i.toString()}var i,a;return a=e.param(t.dart.timer,!0),a=a.replace(/&/g,"|"),i={e0_id:h.pvid,e0_ec:"abandoned",e0_env:"dart",e0_sc:t.site.name,e0_ct:h.version.toString(),e0_tit:n(),e0_sctn:"contentType="+h.contentType+"|contentId="+h.contentId+"|useOneAdCall="+h.useOneAdCall+"|zone="+h.zone,e0_url:a},e.param(i)},i()},dt=function(){var n,i=k(o[0]),a=t.cookie.get("aam_uuid");if(i&&-1!==i.indexOf("=")){i.indexOf(";")&&(n=i.split(";"));for(var r=0;r<n.length;r++)if(""!==e.trim(n[r])&&-1!==n[r].indexOf("=")){var s=n[r].split("=");M(s[0],s[1])}}if(a&&M("aamId",a),h.gptAdsParams.kw){for(var d=0;d<h.ad.kws.length;d++)h.gptAdsParams.kw.push(h.ad.kws[d]);h.gptAdsParams.kw=X(h.gptAdsParams.kw),M("kw",h.gptAdsParams.kw)}M("ctid",h.contentId),M("cttp",h.contentType),M("rfsh",h.dfpRefresh),M("sqt",h.adSeqTargeting),M("CAP",h.adSeqCap),M("sclr",h.socialRef),M("scl",h.socialKey),M("tfc",h.trafficKey),M("mbid",h.mbid),M("pvid",h.pvid),M("sov",h.sov),M("gn",h.targetGenre),M("px",h.targetProximic),M("cnds",h.targetCnds),M("cm",h.cm),googletag.pubads().collapseEmptyDivs(!0),googletag.pubads().disableInitialLoad(),googletag.pubads().enableSingleRequest(),googletag.pubads().enableAsyncRendering(),googletag.enableServices(),googletag.pubads().addEventListener("slotRenderEnded",h.gptCallback),googletag.pubads().addEventListener("slotRenderEnded",function(e){h.gptEvent.push(e),w.mark("GPTAdsRendered"),h.etfCalledOnce||ot()})},lt=function(e,t){var i,a,r=[],s=0;if(!h.initialized)return void F("ads library needs to be initialized first.");if("undefined"==typeof e)return void F("missiing ad parameters object.");h.interstitialDivCreated||dt(),t?(i="/"+h.gptAdKey+"/"+h.site+rt(t.adUnit2,t.adUnit3,t.adUnit4),t.contentType&&M("cttp",t.contentType),a=Y.kws(t.targetKws)||[],M("kw",a),t.disableTracking&&"undefined"!=typeof t.disableTracking||(q(),M("sqt",h.adSeqTargeting)),t.rerunPlugins&&U.reRun(t.rerunPlugins)):(q(),M("sqt",h.adSeqTargeting));for(key in e){var d,l,u;u=e[key].sz.split("x"),u[0]=parseInt(u[0],10),u[1]=parseInt(u[1],10),d=e[key].kws&&e[key].kws.length>1?"_"+e[key].kws[1]:"",l=e[key].kws&&e[key].kws.length>=1?h.gptAdSlotSizes[h.device][e[key].sz+"_"+e[key].kws[0]+d]:h.gptAdSlotSizes[h.device][e[key].sz],"undefined"==typeof l&&(l=[u[0],u[1]]),t?(googletag.cmd.push(function(){r.push(googletag.defineSlot(i,l,key).addService(googletag.pubads()))}),n.info(v+key+" ad call zone changed ",[])):googletag.cmd.push(function(){r.push(googletag.defineSlot(o[1].url,l,key).addService(googletag.pubads()))}),googletag.cmd.push(function(){googletag.display(key)}),n.info(v+key+" ad call requested ",[]),c.push({adplacement:key,slot:r,adsize:u,slotIndex:s}),s++,h.interstitialDivCreated||(I({},i,"moreAdSlots"),googletag.cmd.push(function(){r.push(googletag.defineOutOfPageSlot(i,"interstitial1x1_frame").addService(googletag.pubads()))}),googletag.cmd.push(function(){googletag.display("interstitial1x1_frame")}),c.push({adplacement:"interstitial1x1_frame",slot:r,adsize:[1,1],slotIndex:s}),s++,m=!0)}M("cm",h.cm),M("CAP",h.adSeqCap),googletag.pubads().refresh(r)},ct=function(e,t){var i,a,t=t||{};if(i=[],a=e?e.toString().split(/,|\s+/):[],"undefined"==typeof e)return void n.warn(v+" moreAds cannot refresh. Missing ad param");if(t.contentType&&(M("cttp",t.contentType),n.info(v+"New Content type: "+t.contentType)),t.rerunPlugins&&U.reRun(t.rerunPlugins),t.kws){h.gptAdsParams.kw=[];for(var r=0;r<t.kws.length;r++)h.gptAdsParams.kw.push(t.kws[r]);h.gptAdsParams.kw=X(h.gptAdsParams.kw),M("kw",h.gptAdsParams.kw)}if(e&&0!==a.length)for(var r=0;r<a.length;r++)for(var o=0;o<c.length;o++)if(c[o].adplacement.toString()===a[r].toString()){i.push(c[o].slot[c[o].slotIndex]),n.info(v+"refreshing "+c[o].adplacement+" moreAds");break}i&&0!==i.length&&(Math.round(h.dfpRefresh)<h.maxDfpRefresh&&J(),M("cm",h.cm),M("rfsh",h.dfpRefresh),googletag.pubads().refresh(i))},ut=function(){var e,t;if(e=0,t=h.gptEvent,t.length>0)for(;e<t.length;e++)t[e].isEmpty||(h.adCreativeIdArr=X(h.adCreativeIdArr,t[e].creativeId||[]),h.adLineItemIdArr=X(h.adLineItemIdArr,t[e].lineItemId||[]))},ft=function(){var e,n;setTimeout(function(){e=window.open("","","_blank"),n=t.dart.getAdLog(),n.configFileData=void 0,n=JSON.stringify(n,null,4),e.document.body.innerHTML="<pre>"+n+"</pre>"},5e3)},pt=function(){var n=[],i=function(e){googletag.cmd.push(function(){googletag.display(o[e].adplacement)}),o[e].lazyDisplay=!0,n.push(o[e].slot),l.push(o[e].slot)};if(m!==!1||d)if("undefined"!=typeof g.xkws)if(O("cn_adsqt",1380,"adSeqTargeting"),Math.round(h.dfpRefresh)<h.maxDfpRefresh&&J(),M("sqt",h.adSeqTargeting),M("ctid",h.contentId),M("cttp",h.contentType),M("rfsh",h.dfpRefresh),M("sqt",h.adSeqTargeting),M("CAP",h.adSeqCap),M("sclr",h.socialRef),M("scl",h.socialKey),M("tfc",h.trafficKey),M("mbid",h.mbid),M("pvid",h.pvid),M("sov",h.sov),M("gn",h.targetGenre),M("px",h.targetProximic),M("cnds",h.targetCnds),M("cm",h.cm),M("kw",g.kws),"interstitial"===e.trim(g.xkws[0])&&g.adsize[0]+"x"+g.adsize[1]=="300x250")if(0===p){for(var a=0;a<o.length;a++)googletag.cmd.push(function(){googletag.display(o[a].adplacement)}),n.push(o[a].slot);googletag.cmd.push(function(){googletag.display(g.adplacement)}),g.served=!0,n.push(g.slot),u=n,f=!1,p+=1}else googletag.pubads().refresh(u),f=!0;else googletag.cmd.push(function(){googletag.display(g.adplacement)}),n.push(g.slot),f=!1;else"undefined"!=typeof g.xkws&&(googletag.cmd.push(function(){googletag.display(g.adplacement)}),n.push(g.slot),f=!1);else{for(var a=0;a<o.length;a++)if("undefined"!=typeof t.ad.viewableRefresh&&"undefined"!=typeof h.configData.refresh&&"undefined"!=typeof h.configData.refresh.lazyLoad&&h.configData.refresh.lazyLoad){if(t.ad.viewableRefresh.inViewportFirstLoad(e("#"+o[a].adplacement).get(0)))i(a);else if("undefined"!=typeof h.configData.refresh.inView&&h.configData.refresh.inView){var r=h.configData.refresh.inView.slotSizes,s=r.indexOf(o[a].adsize[0]+"x"+o[a].adsize[1]);-1===s&&i(a)}}else i(a);w.mark("MasterAdSize:"+o[0].adplacement),d||(d=!0)}d&&!f&&(googletag.pubads().refresh(n),f=!0,w.mark("GPT_SRA_Called"))};return a.one("CN.customEvents.dartInitialized",G),a.bind("CN.customEvents.dartPlugin",U,U.finished),w.mark("start"),{call:b,oneAdCall:at,moreAds:lt,getMoreAdsCollection:function(){return c},moreAdsRefresh:ct,getGPTAds:function(){return o},getDomDelay:function(){var e=t.url.path(),n=h.domDelay.defaultVal;for(prop in h.domDelay)"defaultVal"!==prop&&prop===e.join("")&&(n=h.domDelay[prop]);return n},getGPTCustomParams:function(){var e=h.targetMap,n={aamId:t.cookie.get("aam_uuid"),kw:h.gptAdsParams.kw};for(var i in e)e.hasOwnProperty(i)&&(n[e[i]]=h[i]);return n},getAdLog:function(){function n(e){var t;return t="undefined"==typeof e?"NA":e}var i,a,r,o={},s=0,d=h.gptAdSlotSizes[h.device];for(i=t.dart.getGPTAds(),a=t.dart.getMoreAdsCollection(),r=e.extend(a,i);s<r.length;s++){if(r[s].xkws)var l=r[s].xkws,c=r[s].adsize,u=l.length>1?"_"+l[1]:"",f=l.length>=1?d[c[0]+"x"+c[1]+"_"+l[0]+u]:d[c[0]+"x"+c[1]];o[r[s].adplacement]=h.gptEvent[s]?0===e("#"+r[s].adplacement).length?{adEmpty:n(h.gptEvent[s].isEmpty),creativeID:h.gptEvent[s].creativeId||"NA",linedItem:h.gptEvent[s].lineItemId||"NA",adSize:h.gptEvent[s].size||"NA",adSlotArray:f,error:n(h.gptEvent[s].isEmpty)?"none":"DFP ad returned but page div id ["+r[s].adplacement+"] not found"}:{adEmpty:n(h.gptEvent[s].isEmpty),creativeID:h.gptEvent[s].creativeId||"NA",linedItem:h.gptEvent[s].lineItemId||"NA",adSize:h.gptEvent[s].size||"NA",adSlotArray:f,error:"none"}:"Ad not called for this placement"}return T(),{site:h.site,adLibVersion:h.version,useOneAdCall:h.useOneAdCall,errors:h.errors,ETFTriggered:h.triggerEFT,warnings:h.warnings,masterAd:r[0].adplacement,dfpParams:t.dart.getGPTCustomParams(),configFileLoaded:h.configLoaded,configFileData:h.configData,pageAdCalls:o}},getAdLogWin:ft,getSlideShowAds:function(){return g},renderGPTAds:function(){googletag.cmd.push(function(){it()}),pt()},setGPTAdsRenderStatus:function(e){m=e},getGPTAdsRenderStatus:function(){return m},refreshDynamicAd:function(e,n){var i=t.dart.getSlideShowAds();"string"==typeof e&&"undefined"!==i&&e===i.adname&&(n&&M(n),M("cm",h.cm),googletag.pubads().refresh([i.slot]))},timer:w,refresh:K,addTarget:function(e,t){h[e]=t},get:function(e){e=[].concat(e);for(var t,n=0,i=e.length,a={};i>n;n++)t=e[n],a[t]=h[t]||h[t]===!1?h[t]:void 0;return i>1?a:a[t]},getCommon:function(){return h},buildTracking:O,trackETF:st,createAdDiv:D,enableETF:ot,adUnitData:ut,removeAdSlot:H,appendAdSlot:B,init:N,ready:G,register:function(e){var t,n=0;if(!e)return this;for(e=[].concat(e),t=e.length;t>n;n++)U.register(e[n]);return this},remote:tt,test:Y}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN,CN.debug),CN.dart.ipad=function(e,t,n,i){var a=".ipad",r=function(){var e=0,r=o.callbacks.length,s=t.get("configData").noiPadToDartSite,d=t.get("site").split(".").indexOf("mobile"),l="undefined"==typeof s?!1:s===!0?!0:!1;if(l)return n.info(o.name+" override .ipad from site",[{}]),this;if(1===d)return n.info(o.name+" mobile site. No .ipad ext added",[{}]),this;for(o.isFinished=!0,i(window).trigger("CN.customEvents.dartPlugin",[o,{site:CN.dart.get("site")+a}]);r>e;e++)o.callbacks[e].func.apply(o.callbacks[e].scope||null,o.callbacks[e].args||[])},o={init:-1!==e.indexOf("ipad")?r:!1,name:"CN Ad User Agent Plugin",callbacks:[],isFinished:-1===e.indexOf("ipad")};return o}(navigator.userAgent.toLowerCase(),CN.dart,CN.debug,"function"==typeof CNjQuery&&CNjQuery||jQuery),CN.dart.moatListener=function(e,t,n){var i,a=t.getGPTAds(),r=t.getCommon(),o=function(){var o=t.get("configData").enableMoatRefresh,s="undefined"==typeof o?!1:o===!0?!0:!1;return s?void(window.moatCondeListener=function(t){for(var n=0;n<a.length;n++)if(t.adKeywords.zMoatST===a[n].adname){var i={};a[n].isInView=t.isInView,a[n].isInteracting=t.isInteracting,i.adname=a[n].adname,i.inView=a[n].isInView,i.isInteracting=a[n].isInteracting,i.startTime=(new Date).getTime(),e(window).on("CN.customEvents.moatInView",function(e,t){r.moat_isInteracting=t.isInteracting,r.moatParam=t}).trigger("CN.customEvents.moatInView",[i])}}):(n.info(i.name+" disbabled",[{}]),this)};return i={init:o,name:"CN Ad MOAT Listener",callbacks:[],isFinished:!1}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug),CN.dart.suppression=function(e){var t,n=CN.url.params(),i=!1,a=function(){var n=0,a=t.callbacks.length;for(t.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[t,i]);a>n;n++)t.callbacks[n].func.apply(t.callbacks[n].scope||null,t.callbacks[n].args||[])};return("1"===n.npu||n.mbid&&n.mbid.match(/yhoo|google[1-5]?$/))&&(i={dcopt:!1}),t={init:i?a:!1,name:"CN Ad Param-based Modifiers",callbacks:[],isFinished:!i}}("function"==typeof CNjQuery&&CNjQuery||jQuery),CN.dart.register([CN.dart.ipad,CN.dart.suppression,CN.dart.moatListener]),CN.dart.inlineConfig={ars:{constellation:{crown:{name:"crown",divInDom:!1,divId:"crown9x1",location:"#container, #mobile-masthead",insertMethod:"prepend",adHeight:"1",adWidth:"9",dataId:"constellation-crown",kws:[],css:"display:block;border:1px;",generateAdCall:!1},parallax:{name:"parallax",divInDom:!1,divId:"parallax9x2",location:"#read-more, #page-footer",insertMethod:"before",adHeight:"2",adWidth:"9",dataId:"constellation-parallax",kws:[],css:"display:block;border:1px;",generateAdCall:!0}},etfThreshold:5,plugins:{polar:{propertyID:"NA-ARSTECH-11236128",secondaryPageUrl:"/sponsored-content/",ads:{article:{label:"Article",elementId:"polar195x130_frame",template:"CN.ad.polar.article",location:"ol.latest-stories > li:nth-child(3)",infoText:"Sponsored",infoButtonText:""}}}},overrides:{gptAdSlotSizes:{"728x90_arsTop":[[728,90]],"320x50_topBanner":[[300,50],[320,50],[300,150],[320,150],[300,259],[9,1]],"320x50_top":[[300,50],[320,50],[300,150],[320,150],[300,259],[9,1]],"300x250_bottom":[[300,250],[300,600],[300,1050],[9,2]],"320x51_bottom":[[300,58],[320,58],[300,158],[320,158],[300,258],[300,608],[9,2]],"728x90_scaleDisplay":[[728,90],[970,66],[970,90],[970,418],[970,250]],"970x418_top":[[1020,250],[970,418],[970,250],[980,300],[970,90],[970,66],[728,92],[88,31],[62,88],[196,31],[1140,380],[900,300],[1020,300],[1020,250],[9,1]]}},slideShowAdsRefresh:!0,sponsorParameter:["kw","mvi"],docReferrer:!1,refresh:{type:"inView",lazyThrottle:200,lazyOffset:150,lazyLoad:!0,refreshTimeMsec:3e4,inView:{viewableThreshold:.5,slotSizes:["728x90","728x91","728x92","728x93","300x250","300x251","300x252","300x253","300x254","300x255","300x256","300x600","300x601","300x1050","300x1051","300x259","300x258","300x608","970x70","970x71","970x91","970x92","970x250","970x251","970x252","970x418","970x419"]}}}},CN.dart.bundleInfo={builtOn:"2015-07-30T21:00:03.196Z",builtOnTS:1438290003196,site:"ars",configuredPlugins:["aam","arsaccelerator","modifiers","polar","proximic","refresh","amazonMatchBuy","cnds"],bundleCN:!0,bundlejQuery:!1,shouldMinify:!0,version:"4.20.4 (556c798ebac2f1af3f0ac52d)",env:{name:"cnadserve",version:"0.9.5",env:"production"}},"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},CN.ad.aam=function(e,t,n){"use strict";var i=294,a="aam_uuid",r="aamconde",o={pKey:"u",pValue:null,refresh:c},s={pKey:"aamVals",pValue:null,refresh:u,noKey:!0},d=function(e){var t;return n.info(h.name+" limit reached.  Truncating",[{limit:i,length:e.length,str:e}]),e=("trunc|"+e).substr(0,i-6),t=e.lastIndexOf("|"),e.substr(0,t)+";"},l=function(){var e=t.get("params").u.defaultValue,n="";return n=CN.cookie.get(a),""!==n&&-1===e.indexOf(n)&&(e=n+"|"+e),e.length<=i?e:d(e)},c=function(){var e="",t="";return t=CN.cookie.get(a),""!==t&&-1===e.indexOf(t)&&(e=t+"|"+e+";"),e.length<=i?e:d(e)},u=function(){var e="",t="";return e=CN.cookie.get(r),""!==e&&(t=e+";"),t},f=function(e){var t,i=!1;for(t=0;t<h.requires.length;t++)"CN Ad Yieldex"===h.requires[t]&&(i=!0);o.pValue=i?l(e):c(e),s.pValue=u(e),n.info(h.name+" assembled",[{uvalue:o.pValue,aamskw:s.pValue}])},p=function(e){var t=0,n=e.modifies,i=h.requires,a=null;if(n&&n.length&&i&&i.length)for(t=0;t<i.length;t+=1)if(a=i[t],-1!==n.indexOf(a)||a===e.name)return!0;return!1},g=function(t){var n=0,i=h.callbacks.length;for(h.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[h,t]),n=0;i>n;n+=1)h.callbacks[n].func.apply(h.callbacks[n].scope||null,h.callbacks[n].args||[])},m=function(e){var t=null,i=e.queue,a=i.length-1,r=function(){f(),g({addparam:[s,o]})};for(a=i.length-1;a>=0;a-=1)if(t=i[a],t!==h&&p(t)&&(n.info(h.name+" found dependency: "+t.name,["Pushing to callbacks array"]),!t.isFinished))return t.callbacks.push({func:r,args:null,scope:null});r()},h={init:m,name:"CN Ad Adobe Audience Manager",modifies:["common.params"],requires:[],callbacks:[],isFinished:!1},v=function(){t.register(h)};v(h)}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},CN.ad.arsaccelerator=function(e,t,n){var i=!1,a=location.protocol||"http:",r=800,o="//dff7tx5c2qbxc.cloudfront.net/hot/",s=function(){var t,s=e('meta[name="parsely-page"]').attr("content")||e('script[type="application/ld+json"]').html()||"{}";return s=JSON.parse(s),t=s.link||s.url||e('link[rel="canonical"]').attr("href"),"string"!=typeof t?(l(!1),n.info(u.name+":  plugin disabled - metadata not found."),!1):(e.ajax({url:a+o+CN.dart.get("site")+"/"+encodeURIComponent(t),dataType:"script",timeout:r,error:function(e,t){l(!1),n.info(u.name+" plugin disabled",["script "+t,"using site code "])},cache:!0,success:function(){i=!0,c()},complete:function(){n.info(u.name+" Ars Accelerator call complete")}}),!0)},d=function(){CN.ad.arsaccelerator.kws=[],s(),setTimeout(function(){u.isFinished||i||c()},5e3)},l=function(t){var n,i=u.callbacks.length;for(u.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[u,t]),n=0;i>n;n++)u.callbacks[n].func.apply(u.callbacks[n].scope||null,u.callbacks[n].args||[])},c=function(){var e,i,a=CN.ad.arsaccelerator.kws,r=[];if(!a)return n.warn("Ars Accelerator Request Timed Out",["Setting plugin to finished to proceed to render ads"]),l(!1);for(i=a.length,e=0;i>e;e++)r.push(a[e]);l({ad:{kws:t.get("ad").kws.concat(r)}})},u={init:d,name:"CN Ad Ars Accelerator kws",modifies:["keywords"],requires:[],callbacks:[],isFinished:!1},f=function(){t.register(u)};return f(),{tags:!1}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},CN.ad.topics=function(e,t,n){var i={name:"cn_adtopic",options:{domain:CN.url.domain(),path:"/"},check:function(){return e.cookie.get(i.name)},read:function(){var e=i.check();return""!==e?CN.utils.parseStr(e,"usercookie"):!1},remove:function(){e.cookie.del(i.name,i.options)},write:function(t){e.cookie.set(i.name,"zone="+(t.zone||"")+"|site="+(t.site||"")+(t.ad&&t.ad.kws?"|kws="+t.ad.kws.join(","):""),i.options)}},a=function(e){var t=function(){i.write(CN.dart.get(["site","zone","ad"]))};CN.dart.get("initialized")?t():n(window).bind("CN.customEvents.dartInitialized",t),o(e.plugin,{})},r=function(e){var t=i.read(),n={};return t?(n={site:t.site,zone:t.zone},t.kws&&(n.ad={kws:t.kws.split(",")}),i.remove(),void o(e.plugin,n)):!1},o=function(e,t){var i=0,a=e.callbacks.length;for(e.isFinished=!0,n(window).trigger("CN.customEvents.dartPlugin",[e,t]);a>i;i++)e.callbacks[i].func.apply(e.callbacks[i].scope||null,e.callbacks[i].args||[])};return{setTopic:a,getTopic:r,plugin:function(e){return e?{init:a,name:"CN Ad Topics :: Store Cookie",callbacks:[],isFinished:!1}:i.check()?{init:r,name:"CN Ad Topics :: Read Cookie",callbacks:[],isFinished:!1}:{init:!1,name:"CN Ad Topics :: no action required"}}}}(CN,CN.ad,jQuery||"function"==typeof CNjQuery&&CNjQuery),CN.ad.kwExtend=function(e,t){var n=!1,i=function(t){a(t.plugin,{ad:{kws:(e.get("ad").kws||[]).concat(n)}})},a=function(e,n){var i=0,a=e.callbacks.length;for(e.isFinished=!0,t(window).trigger("CN.customEvents.dartPlugin",[e,n]);a>i;i++)e.callbacks[i].func.apply(e.callbacks[i].scope||null,e.callbacks[i].args||[])},r=function(e){var t=0;if(CN.isString(e))for(n=e.split(",");t<n.length;t++)n[t]=CN.utils.trim(CN.utils.transliterate(n[t])).replace(/\W/g,"-").toLowerCase();return{init:n&&n.length?i:!1,name:"CN Ad Keyword extension plug-in",callbacks:[],isFinished:n&&n.length?!1:!0}};return{plugin:r}}(CN.dart,"function"==typeof CNjQuery&&CNjQuery||jQuery),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},window.NATIVEADS=window.NATIVEADS||{},window.NATIVEADS.injectedAt=(new Date).getTime(),function(e,t,n){var i,a=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.type="text/javascript",i.async=!0,i.src="http://plugin.mediavoice.com/plugin.js",a.parentNode.insertBefore(i,a))}(document,"script","nativeads-plugin"),CN.ad.polar=function(e,t,n){var i=!1,a="",r="",o=void 0,s=!1,d=!1,l=!1,c=e.noop,u=function(){return"undefined"!=typeof t.get("configData").plugins&&("undefined"!=typeof t.get("configData").plugins.polar?(o=t.get("configData").plugins.polar,n.info(h.name+" using cnads config ",[o])):n.info(h.name+" cnads config not defined ",[{}])),"undefined"!=typeof CN.ad.polar.config&&(o=CN.ad.polar.config,s=!0,n.info(h.name+" config override to site config ",[CN.ad.polar.config])),"undefined"==typeof o?(n.info(h.name+" config file is too old ",[{}]),n.info(h.name+" plugin not supported ",[{}]),i=!0,this):(a=o.propertyID||!1,r=o.secondaryPageUrl||!1,d="undefined"==typeof o.enablePolarLogging?!1:!0,l="undefined"==typeof o.disablePolarTracker?!1:!0,a&&r?void(msgPre="CN Ad: Polar configured"):(n.info(h.name+" missing propertyID ",[{}]),i=!0,!1))},f=function(){var e=function(){g(),m({})};e()},p=function(){window.NATIVEADS.onReady=function(e){var t=function(e){return"function"==typeof e.toLocaleDateString&&"function"==typeof e.toLocaleTimeString?e.toLocaleDateString()+" @ "+e.toLocaleTimeString():e.toString()};l&&e.disablePolarTracker(),e.setPropertyID(a),e.setSecondaryPageURL(r),d&&e.logging.enable();var n=function(n){e.insertPreview({dateFormat:t,label:n.adLabel,infoText:n.infoText,infoButtonText:n.infoButtonText,unit:{server:"dfp-gpt",elementID:n.elementID},location:n.location,template:n.compiledTemplate,onRender:n.onRender,onFill:n.onFill,onError:n.onError})};e.configureSecondaryPage({binding:{sponsor:{link:"#polar-sponsor-link",logo:"#polar-sponsor-logo",name:"#polar-sponsor-name"},title:"#polar-title",summary:"#polar-summary",content:"#polar-content",author:"#polar-author",pubDate:"#polar-pubDate",image:{href:"#polar-href",caption:"#polar-caption",credits:"#polar-credits"}},onFill:"undefined"!=typeof window.CN.ad.polar.secondaryPage?"undefined"!=typeof window.CN.ad.polar.secondaryPage.onFill?window.CN.ad.polar.secondaryPage.onFill:!1:!1||c,onRender:"undefined"!=typeof window.CN.ad.polar.secondaryPage?"undefined"!=typeof window.CN.ad.polar.secondaryPage.onRender?window.CN.ad.polar.secondaryPage.onRender:!1:!1||c,onError:"undefined"!=typeof window.CN.ad.polar.secondaryPage?"undefined"!=typeof window.CN.ad.polar.secondaryPage.onError?window.CN.ad.polar.secondaryPage.onError:!1:!1||c});for(prop in o.ads){var i=o.ads[prop].template.split(".").pop(),s="undefined"==typeof o.ads[prop].location?"#"+o.ads[prop].elementID+"_polarAd":o.ads[prop].location;n({elementID:o.ads[prop].elementId,adLabel:o.ads[prop].label,infoText:o.ads[prop].infoText,infoButtonText:o.ads[prop].infoButtonText,location:s,compiledTemplate:"undefined"!=typeof window.CN.ad.polar[i]?window.CN.ad.polar[i]:!1||c,onFill:"undefined"!=typeof window.CN.ad.polar[i]?"undefined"!=typeof window.CN.ad.polar[i].onFill?window.CN.ad.polar[i].onFill:!1:!1||c,onRender:"undefined"!=typeof window.CN.ad.polar[i]?"undefined"!=typeof window.CN.ad.polar[i].onRender?window.CN.ad.polar[i].onRender:!1:!1||c,onError:"undefined"!=typeof window.CN.ad.polar[i]?"undefined"!=typeof window.CN.ad.polar[i].onError?window.CN.ad.polar[i].onError:!1:!1||c})}}},g=function(){u(),i||p(),n.info(h.name+" assembled",[{}])},m=function(t){var n=0,i=h.callbacks.length;for(h.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[h,t]);i>n;n++)h.callbacks[n].func.apply(h.callbacks[n].scope||null,h.callbacks[n].args||[])},h={init:f,name:"CN Ad Polar",modifies:[],requires:[],callbacks:[],isFinished:!1},v=function(){t.register(h)};return v(h),{}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},CN.ad.proximic=function(e,t){"use strict";var n=[],i=function(){t.timer.mark("ProximicInit"),o()},a=function(t){var n,i=d.callbacks.length;for(d.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[d,t]),n=0;i>n;n++)d.callbacks[n].func.apply(d.callbacks[n].scope||null,d.callbacks[n].args||[])},r=function(){var e,t,i=CN.ad.proximic.pxData;if("undefined"!=typeof i&&"undefined"!=typeof i.data&&(t=i.data.length),"undefined"!=typeof t){for(e=0;t>e;e++)n.push(i.data[e]);return!0}return!1},o=function(){var e=CN.ad.proximic.pxData;return"undefined"==typeof e?(t.timer.mark("ProximicDataNotReadyTryAgain"),void setTimeout(function(){t.timer.mark("ProximicSecondTry"),s()},800)):"undefined"==typeof e.data?void t.timer.mark("ProximicReturnedError999999"):void s()},s=function(){return r()?(t.timer.mark("ProximicSuccess"),t.addTarget("targetProximic",n.toString()),a({ad:{kws:t.get("ad").kws.concat(n)}}),void 0):void t.timer.mark("ProximicReturnedError999999")},d={init:i,name:"CN Ad Proximic",modifies:["common.params"],requires:[],callbacks:[],isFinished:!1},l=function(){t.register(d)};return t.timer.mark("ProximicLoaded"),l(),t.timer.mark("ProximicRegistered"),{tags:!1}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug),CN.ad=CN.ad||{},CN.ad.viewableRefresh=function(e,t,n){"use strict";var i,a,r,o,s,d,l,c,u=0,f=.5,p=250,g=0,m=!1,h=!1,v="",y=function(){},w=["1x1","1x2"],C=0,k=window,b=document.documentElement,N=[],x=[],A="",S=5e3,T=function(e,t,n,i){var a=1,r=e.getBoundingClientRect?e.getBoundingClientRect():{},o="number"==typeof t?t||1:1,s=r.height*o||n,d=r.width*o||i;return{top:(r.top||0)+(s-a),left:(r.left||0)+(d-a),bottom:(r.bottom||0)-(s+a),right:(r.right||0)-(d+a),height:r.height||n,width:r.width||i}},D=function(){var e=b.clientWidth,t=k.innerWidth;return t>e?t:e},z=function(){var e=b.clientHeight,t=k.innerHeight;return t>e?t:e},I=function(e,t,n,i){var a=T(e,t,n,i);return!!a&&a.height>0&&a.width>0&&a.bottom>=0&&a.top<=z()&&a.right>=0&&a.left<=D()},P=function(e){var t=e.getBoundingClientRect();return(t.top>=0&&t.left>=0&&t.top)<=(window.innerHeight||document.documentElement.clientHeight)+g},_=function(){return a=t.get("configData").refresh,r=t.getCommon(),"undefined"==typeof a?(n.info(H.name+" config file is too old ",[{}]),n.info(H.name+" plugin not supported ",[{}]),h=!0,this):(v="CN Ad: "+a.type+" Refresh ",i=R(),u=a.returnRefreshDelay&&"undefined"!=typeof a.returnRefreshDelay?a.returnRefreshDelay:u,S=a.firstTimeDelay&&"undefined"!=typeof a.firstTimeDelay?a.firstTimeDelay:S,g=a.lazyOffset&&"undefined"!=typeof a.lazyOffset?a.lazyOffset:g,void(a.inView&&"undefined"!=typeof a.inView&&(f=a.inView.viewableThreshold&&"undefined"!=typeof a.inView.viewableThreshold?a.inView.viewableThreshold:f)))},R=function(){var e=a.refreshTimeMsec;if("undefined"!=typeof a.overrides&&"undefined"!=typeof a.overrides.refresh&&"undefined"!=typeof a.overrides.refresh.zone){s=r.zone.replace(/[^\w\s]/gi,"");for(var t in a.overrides.refresh.zone)s===t&&(e=a.overrides.refresh.zone[t].dartRefreshTimeMsec,m=!0)}return e&&e>0&&(n.info(H.name+" initialized to "+e+"ms",[]),m&&n.info(H.name+" enabled by zone ",[])),e},E=function(e){var t;G(),e&&"undefined"!=typeof e&&(clearInterval(A),t=i,e=0,A=setInterval(function(){E(e)},t))},j=function(e){var t=e?e:i;return A||(i>0?A=a.lazyLoad===!0?setInterval(function(){E(e)},t):setInterval(function(){E(e)},t):0===i&&a.lazyLoad===!0&&O()),this},O=function(){var i;if(x=[],x=Q(),i=x.length,i>0)for(var a=0;i>a;a++){var r=x[a];"undefined"!=typeof e("#"+r.adplacement).get(0)&&r&&P(e("#"+r.adplacement).get(0))&&!r.lazyDisplay&&(t.refresh(r.adname,{lazyload:r.adname}),n.info(H.name+" lazy load",[r.adname]),y(r),x.splice(a,1),i=x.length,a--)}else e(k).off("scroll",M),document.removeEventListener||document.detachEvent("onscroll",M),clearTimeout(o)},q=function(){return l=(new Date).getTime(),clearInterval(A),A=!1,this},F=function(){return document[d]?q():j(),!1},M=function(){clearTimeout(o),o=setTimeout(O,p)},L=function(){var t;"undefined"!=typeof document.hidden?(d="hidden",t="visibilitychange"):"undefined"!=typeof document.mozHidden?(d="mozHidden",t="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(d="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(d="webkitHidden",t="webkitvisibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof d&&e(document).on(t,F),e(k).on("focus",function(){var e,t,n=0;(l||u)&&(l&&(e=l-c,t=i-e,n=t),u&&(n=u)),j(n)}),"undefined"!=typeof a.lazyLoad&&a.lazyLoad&&(e(k).on("scroll",M),e(k).on("load",M)),document.addEventListener?e(k).on("blur",function(){q()}):(document.onfocusout=function(e){if(void 0===e){var t=event;null===t.toElement&&q()}},document.attachEvent("onscroll",M),document.attachEvent("onload",M)),N=Q(),n.info(H.name+" initialized to refesh after "+u+"ms on focus",[])},Q=function(){var e,n,i,r=t.getGPTAds(),o=[];for(e=0;e<r.length;e++)n=r[e].adsize[0]+"x"+r[e].adsize[1],"inView"===a.type?(i=a.inView.slotSizes,i&&i.length?-1!==i.indexOf(n)&&(o.push(r[e]),x.push(r[e])):(o.push(r[e]),x.push(r[e]))):-1===w.indexOf(n)&&(o.push(r[e]),x.push(r[e]));return o},V=function(t){_(t),h||(("inView"===a.type||"active"===a.type)&&e(function(){L(),setTimeout(function(){j()},S)}),n.info(H.name+" assembled",[{}]))},U=function(){return"undefined"!=typeof d&&document[d]===!0?!1:"undefined"!=typeof document.hasFocus&&document.hasFocus()?!0:!1},G=function(){var i,o=[];if(c=(new Date).getTime(),!U())return this;if(r.configData.maxRefreshes&&"undefined"!=typeof r.configData.maxRefreshes&&(r.configData.maxRefreshes===C||C>r.configData.maxRefreshes))return q(),n.info(H.name+"Max refreshes reached. Stopping refresh",[]),this;for(0===N.length&&(N=Q()),i=0;i<N.length;i+=1)"active"===a.type?o.push(N[i].adname):I(e("#"+N[i].adplacement).get(0),f,N[i].adsize[1],N[i].adsize[0])&&o.push(N[i].adname);return n.info(H.name+" refreshing placements",[o]),o.length>0&&t.refresh(o),C+=1,this},K=function(t){var n=0,i=H.callbacks.length;for(H.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[H,t]),n=0;i>n;n+=1)H.callbacks[n].func.apply(H.callbacks[n].scope||null,H.callbacks[n].args||[])},$=function(){c=(new Date).getTime();var e=function(){V(),K({})};e()},H={init:$,name:"CN Ad Refresh",modifies:[],requires:[],callbacks:[],isFinished:!1},B=function(){t.register(H)};return B(H),{refresh:G,start:j,stop:q,isWinVisible:U,inViewportFirstLoad:P}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";if(CN.ad=CN.ad||{},CN.ad.amazonMatchBuy=function(e,t,n){var i=200,a="3035",r=(location.protocol||"http:",function(){var e,t=function(e){o.pValue=s(e),c({addparam:o})};amznads.tasks.push(function(){e="amznslots="+amznads.getTokens(),t(e)})}),o={pKey:"amznslots",pValue:null},s=function(e){var t;return"undefined"==typeof e&&""===e?u.isFinished=!1:(t=e.split("=").pop(),n.info(u.name+" assembled",[{ad:t}]),(t.length<=i?t:d(t))+";")},d=function(e){var t;return n.info(u.name+" limit reached.  Truncating",[{limit:i,length:e.length,str:e}]),e=("trunc|"+e).substr(0,i-6),t=e.lastIndexOf(","),e.substr(0,t)},l=function(){return"undefined"==typeof amznads&&(amznads={tasks:[],asyncParams:{id:a}}),function(){var e,t=document.getElementsByTagName("script")[0];e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src="http://c.amazon-adsystem.com/aax2/amzn_ads.js",t.parentNode.insertBefore(e,t)}(),!0},c=function(t){var n=0,i=u.callbacks.length;for(u.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[u,t]);i>n;n++)u.callbacks[n].func.apply(u.callbacks[n].scope||null,u.callbacks[n].args||[])},u={init:r,name:"CN Ad amazonMatchBuy",modifies:["common.params"],requires:[],callbacks:[],isFinished:!1},f=function(){t.register(u)
};return f(),l(),{param:o}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug),"undefined"==typeof CN||!CN)throw"CN and/or jQuery library is missing!";CN.ad=CN.ad||{},CN.ad.cnds=function(e,t,n){var i=!1,a=location.protocol||"http:",r=800,o=window.CNDS_HOST||"//dy48bnzanqw0v.cloudfront.net/",s=location.href,d=[a+o+"?url="+encodeURIComponent(s)+"&mapping="+encodeURIComponent("4po")+"&jsonp="+encodeURIComponent("CN.ad.cnds.tags=")],l=function(){return e.ajax({url:d,dataType:"script",timeout:r,error:function(e,i){u(!1),t.timer.mark("4POAjaxError"),n.info(p.name+" plugin disabled",["script "+i,"using site code "])},cache:!0,success:function(){i=!0,f()},complete:function(){n.info(p.name+" cnds call complete")}}),!0},c=function(){t.timer.mark("4POInit"),l(),setTimeout(function(){p.isFinished||i||f()},1e3)},u=function(t){var n=0,i=p.callbacks.length;for(p.isFinished=!0,e(window).trigger("CN.customEvents.dartPlugin",[p,t]);i>n;n++)p.callbacks[n].func.apply(p.callbacks[n].scope||null,p.callbacks[n].args||[])},f=function(){var e,i,a=0,r=[],o=CN.ad.cnds.tags;if(!o)return n.warn("CNDS Request Timed Out",["Setting plugin to finished to procceed to render ads"]),t.timer.mark("4POTimedOut"),u(!1);if(o.tags){for(t.timer.mark("4POReturnedKeywords"),i=o.tags,e=i.length;e>a;a++)r.push(i[a]);t.timer.mark("4POSuccess")}t.addTarget("targetCnds",r.toString()),u({ad:{kws:t.get("ad").kws.concat(r)}})},p={init:c,name:"CN Ad CNDS kws",modifies:["keywords"],requires:[],callbacks:[],isFinished:!1},g=function(){t.register(p)};return t.timer.mark("4POLoaded"),g(),t.timer.mark("4PORegistered"),{tags:!1}}("function"==typeof CNjQuery&&CNjQuery||jQuery,CN.dart,CN.debug);
//# sourceMappingURL=/ads/js/cn.dart.bun.min.js.map