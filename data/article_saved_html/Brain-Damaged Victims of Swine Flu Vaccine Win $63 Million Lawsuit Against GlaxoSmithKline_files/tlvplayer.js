var CEDATO_ES5=function(k,a){k.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(a){if(a!==Object(a))throw TypeError("Object.getPrototypeOf called on non-object");return a.__proto__||a.constructor.prototype||Object.prototype}),"function"!==typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);
return c}),"function"!==typeof Object.create&&(Object.create=function(a,c){function d(){}if("object"!==typeof a)throw TypeError();d.prototype=a;var e=new d;a&&(e.constructor=d);if(void 0!==c){if(c!==Object(c))throw TypeError();Object.defineProperties(e,c)}return e}),function(){var a;if(!(a=!Object.defineProperty)){var c;try{Object.defineProperty({},"x",{}),c=!0}catch(e){c=!1}a=!c}if(a){var d=Object.defineProperty;Object.defineProperty=function(c,a,h){if(d)try{return d(c,a,h)}catch(k){}if(c!==Object(c))throw TypeError("Object.defineProperty called on non-object");
Object.prototype.__defineGetter__&&"get"in h&&Object.prototype.__defineGetter__.call(c,a,h.get);Object.prototype.__defineSetter__&&"set"in h&&Object.prototype.__defineSetter__.call(c,a,h.set);"value"in h&&(c[a]=h.value);return c}}}(),"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,c){if(a!==Object(a))throw TypeError("Object.defineProperties called on non-object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&Object.defineProperty(a,d,c[d]);return a}),Object.keys||
(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var c=[],d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);return c}),Function.prototype.bind||(Function.prototype.bind=function(a){function c(){}if("function"!==typeof this)throw TypeError("Bind must be called on a function");var d=[].slice,e=d.call(arguments,1),l=this,m=function(){return l.apply(this instanceof c?this:a,e.concat(d.call(arguments)))};c.prototype=l.prototype;m.prototype=new c;
return m}),Array.isArray=Array.isArray||function(a){return Boolean(a&&"[object Array]"===Object.prototype.toString.call(Object(a)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if(0===d)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),isNaN(e)?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=d)return-1;for(e=0<=e?e:Math.max(d-Math.abs(e),0);e<d;e++)if(e in c&&
c[e]===a)return e;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if(0===d)return-1;var e=d;1<arguments.length&&(e=Number(arguments[1]),e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(0<e||-1)*Math.floor(Math.abs(e))));for(d=0<=e?Math.min(e,d-1):d-Math.abs(e);0<=d;d--)if(d in c&&c[d]===a)return d;return-1}),Array.prototype.every||(Array.prototype.every=function(a,c){if(void 0===this||null===
this)throw TypeError();var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw TypeError();var l;for(l=0;l<e;l++)if(l in d&&!a.call(c,d[l],l,d))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a,c){if(void 0===this||null===this)throw TypeError();var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw TypeError();var l;for(l=0;l<e;l++)if(l in d&&a.call(c,d[l],l,d))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,c){if(void 0===
this||null===this)throw TypeError();var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw TypeError();var l;for(l=0;l<e;l++)l in d&&a.call(c,d[l],l,d)}),Array.prototype.map||(Array.prototype.map=function(a,c){if(void 0===this||null===this)throw TypeError();var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw TypeError();var l=[];l.length=e;var m;for(m=0;m<e;m++)m in d&&(l[m]=a.call(c,d[m],m,d));return l}),Array.prototype.filter||(Array.prototype.filter=function(a,c){if(void 0===
this||null===this)throw TypeError();var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw TypeError();var l=[],m;for(m=0;m<e;m++)if(m in d){var k=d[m];a.call(c,k,m,d)&&l.push(k)}return l}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError();if(0===d&&1===arguments.length)throw TypeError();var e=0,l;if(2<=arguments.length)l=arguments[1];else{do{if(e in c){l=
c[e++];break}if(++e>=d)throw TypeError();}while(1)}for(;e<d;)e in c&&(l=a.call(void 0,l,c[e],e,c)),e++;return l}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){if(void 0===this||null===this)throw TypeError();var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError();if(0===d&&1===arguments.length)throw TypeError();var d=d-1,e;if(2<=arguments.length)e=arguments[1];else{do{if(d in this){e=this[d--];break}if(0>--d)throw TypeError();}while(1)}for(;0<=d;)d in c&&
(e=a.call(void 0,e,c[d],d,c)),d--;return e}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function a(c){return("00"+c).slice(-2)}return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+function(a){return("000"+
a).slice(-3)}(this.getUTCMilliseconds())+"Z"})}catch(a){}};return k}(CEDATO_ES5||{},window),CEDATO_SWF=function(k){try{k.swfobject=function(){function a(){if(!U){try{var f=n.getElementsByTagName("body")[0].appendChild(n.createElement("span"));f.parentNode.removeChild(f)}catch(a){return}U=!0;for(var f=ba.length,d=0;d<f;d++)ba[d]()}}function h(f){U?f():ba[ba.length]=f}function c(f){if("undefined"!=typeof x.addEventListener)x.addEventListener("load",f,!1);else if("undefined"!=typeof n.addEventListener)n.addEventListener("load",
f,!1);else if("undefined"!=typeof x.attachEvent)V(x,"onload",f);else if("function"==typeof x.onload){var a=x.onload;x.onload=function(){a();f()}}else x.onload=f}function d(){var f=n.getElementsByTagName("body")[0],a=n.createElement("object");a.setAttribute("type","application/x-shockwave-flash");var d=f.appendChild(a);if(d){var c=0;(function(){if("undefined"!=typeof d.GetVariable){var l=d.GetVariable("$version");l&&(l=l.split(" ")[1].split(","),v.pv=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],
10)])}else if(10>c){c++;setTimeout(arguments.callee,10);return}f.removeChild(a);d=null;e()})()}else e()}function e(){var a=G.length;if(0<a)for(var d=0;d<a;d++){var c=G[d].id,e=G[d].callbackFn,h={success:!1,id:c};if(0<v.pv[0]){var k=f(c);if(k)if(!K(G[d].swfVersion)||v.wk&&312>v.wk)if(G[d].expressInstall&&m()){h={};h.data=G[d].expressInstall;h.width=k.getAttribute("width")||"0";h.height=k.getAttribute("height")||"0";k.getAttribute("class")&&(h.styleclass=k.getAttribute("class"));k.getAttribute("align")&&
(h.align=k.getAttribute("align"));for(var u={},k=k.getElementsByTagName("param"),r=k.length,n=0;n<r;n++)"movie"!=k[n].getAttribute("name").toLowerCase()&&(u[k[n].getAttribute("name")]=k[n].getAttribute("value"));t(h,u,c,e)}else p(k),e&&e(h);else H(c,!0),e&&(h.success=!0,h.ref=l(c),e(h))}else H(c,!0),e&&((c=l(c))&&"undefined"!=typeof c.SetVariable&&(h.success=!0,h.ref=c),e(h))}}function l(a){var d=null;(a=f(a))&&"OBJECT"==a.nodeName&&("undefined"!=typeof a.SetVariable?d=a:(a=a.getElementsByTagName("object")[0])&&
(d=a));return d}function m(){return!da&&K("6.0.65")&&(v.win||v.mac)&&!(v.wk&&312>v.wk)}function t(a,d,c,e){da=!0;W=e||null;X={success:!1,id:c};var l=f(c);if(l){"OBJECT"==l.nodeName?(T=u(l),ea=null):(T=l,ea=c);a.id="SWFObjectExprInst";if("undefined"==typeof a.width||!/%$/.test(a.width)&&310>parseInt(a.width,10))a.width="310";if("undefined"==typeof a.height||!/%$/.test(a.height)&&137>parseInt(a.height,10))a.height="137";n.title=n.title.slice(0,47)+" - Flash Player Installation";e=v.ie&&v.win?"ActiveX":
"PlugIn";e="MMredirectURL="+x.location.toString().replace(/&/g,"%26")+"&MMplayerType="+e+"&MMdoctitle="+n.title;d.flashvars="undefined"!=typeof d.flashvars?d.flashvars+("&"+e):e;v.ie&&v.win&&4!=l.readyState&&(e=n.createElement("div"),c+="SWFObjectNew",e.setAttribute("id",c),l.parentNode.insertBefore(e,l),l.style.display="none",function(){4==l.readyState?l.parentNode.removeChild(l):setTimeout(arguments.callee,10)}());r(a,d,c)}}function p(f){if(v.ie&&v.win&&4!=f.readyState){var a=n.createElement("div");
f.parentNode.insertBefore(a,f);a.parentNode.replaceChild(u(f),a);f.style.display="none";(function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)})()}else f.parentNode.replaceChild(u(f),f)}function u(f){var a=n.createElement("div");if(v.win&&v.ie)a.innerHTML=f.innerHTML;else if(f=f.getElementsByTagName("object")[0])if(f=f.childNodes)for(var d=f.length,c=0;c<d;c++)1==f[c].nodeType&&"PARAM"==f[c].nodeName||8==f[c].nodeType||a.appendChild(f[c].cloneNode(!0));return a}function r(a,
d,c){var e,l=f(c);if(v.wk&&312>v.wk)return e;if(l)if("undefined"==typeof a.id&&(a.id=c),v.ie&&v.win){var h="",k;for(k in a)a[k]!=Object.prototype[k]&&("data"==k.toLowerCase()?d.movie=a[k]:"styleclass"==k.toLowerCase()?h+=' class="'+a[k]+'"':"classid"!=k.toLowerCase()&&(h+=" "+k+'="'+a[k]+'"'));k="";for(var m in d)d[m]!=Object.prototype[m]&&(k+='<param name="'+m+'" value="'+d[m]+'" />');l.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+h+">"+k+"</object>";Q[Q.length]=a.id;
e=f(a.id)}else{m=n.createElement("object");m.setAttribute("type","application/x-shockwave-flash");for(var t in a)a[t]!=Object.prototype[t]&&("styleclass"==t.toLowerCase()?m.setAttribute("class",a[t]):"classid"!=t.toLowerCase()&&m.setAttribute(t,a[t]));for(h in d)d[h]!=Object.prototype[h]&&"movie"!=h.toLowerCase()&&(a=m,k=h,t=d[h],c=n.createElement("param"),c.setAttribute("name",k),c.setAttribute("value",t),a.appendChild(c));l.parentNode.replaceChild(m,l);e=m}return e}function w(a){var d=f(a);d&&"OBJECT"==
d.nodeName&&(v.ie&&v.win?(d.style.display="none",function(){if(4==d.readyState){var c=f(a);if(c){for(var e in c)"function"==typeof c[e]&&(c[e]=null);c.parentNode.removeChild(c)}}else setTimeout(arguments.callee,10)}()):d.parentNode.removeChild(d))}function f(f){var a=null;try{a=n.getElementById(f)}catch(d){}return a}function V(f,a,d){f.attachEvent(a,d);R[R.length]=[f,a,d]}function K(f){var a=v.pv;f=f.split(".");f[0]=parseInt(f[0],10);f[1]=parseInt(f[1],10)||0;f[2]=parseInt(f[2],10)||0;return a[0]>
f[0]||a[0]==f[0]&&a[1]>f[1]||a[0]==f[0]&&a[1]==f[1]&&a[2]>=f[2]?!0:!1}function L(f,a,d,c){if(!v.ie||!v.mac){var e=n.getElementsByTagName("head")[0];e&&(d=d&&"string"==typeof d?d:"screen",c&&(ja=O=null),O&&ja==d||(c=n.createElement("style"),c.setAttribute("type","text/css"),c.setAttribute("media",d),O=e.appendChild(c),v.ie&&v.win&&"undefined"!=typeof n.styleSheets&&0<n.styleSheets.length&&(O=n.styleSheets[n.styleSheets.length-1]),ja=d),v.ie&&v.win?O&&"object"==typeof O.addRule&&O.addRule(f,a):O&&"undefined"!=
typeof n.createTextNode&&O.appendChild(n.createTextNode(f+" {"+a+"}")))}}function H(a,d){if(ka){var c=d?"visible":"hidden";U&&f(a)?f(a).style.visibility=c:L("#"+a,"visibility:"+c)}}function C(f){return null!=/[\\\"<>\.;]/.exec(f)&&"undefined"!=typeof encodeURIComponent?encodeURIComponent(f):f}var x=window,n=document,D=navigator,la=!1,ba=[function(){la?d():e()}],G=[],Q=[],R=[],T,ea,W,X,U=!1,da=!1,O,ja,ka=!0,v=function(){var f="undefined"!=typeof n.getElementById&&"undefined"!=typeof n.getElementsByTagName&&
"undefined"!=typeof n.createElement,a=D.userAgent.toLowerCase(),d=D.platform.toLowerCase(),c=d?/win/.test(d):/win/.test(a),d=d?/mac/.test(d):/mac/.test(a),a=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,e=!+"\v1",l=[0,0,0],h=null;if("undefined"!=typeof D.plugins&&"object"==typeof D.plugins["Shockwave Flash"])!(h=D.plugins["Shockwave Flash"].description)||"undefined"!=typeof D.mimeTypes&&D.mimeTypes["application/x-shockwave-flash"]&&!D.mimeTypes["application/x-shockwave-flash"].enabledPlugin||
(la=!0,e=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),l[0]=parseInt(h.replace(/^(.*)\..*$/,"$1"),10),l[1]=parseInt(h.replace(/^.*\.(.*)\s.*$/,"$1"),10),l[2]=/[a-zA-Z]/.test(h)?parseInt(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if("undefined"!=typeof x.ActiveXObject)try{var k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");k&&(h=k.GetVariable("$version"))&&(e=!0,h=h.split(" ")[1].split(","),l=[parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)])}catch(m){}return{w3:f,pv:l,wk:a,ie:e,win:c,
mac:d}}();(function(){v.w3&&(("undefined"!=typeof n.readyState&&"complete"==n.readyState||"undefined"==typeof n.readyState&&(n.getElementsByTagName("body")[0]||n.body))&&a(),U||("undefined"!=typeof n.addEventListener&&n.addEventListener("DOMContentLoaded",a,!1),v.ie&&v.win&&(n.attachEvent("onreadystatechange",function(){"complete"==n.readyState&&(n.detachEvent("onreadystatechange",arguments.callee),a())}),x==top&&function(){if(!U){try{n.documentElement.doScroll("left")}catch(f){setTimeout(arguments.callee,
0);return}a()}}()),v.wk&&function(){U||(/loaded|complete/.test(n.readyState)?a():setTimeout(arguments.callee,0))}(),c(a)))})();(function(){v.ie&&v.win&&window.attachEvent("onunload",function(){for(var f=R.length,a=0;a<f;a++)R[a][0].detachEvent(R[a][1],R[a][2]);f=Q.length;for(a=0;a<f;a++)w(Q[a]);for(var d in v)v[d]=null;v=null;for(var c in k.swfobject)k.swfobject[c]=null;k.swfobject=null})})();return{registerObject:function(f,a,d,c){if(v.w3&&f&&a){var e={};e.id=f;e.swfVersion=a;e.expressInstall=d;
e.callbackFn=c;G[G.length]=e;H(f,!1)}else c&&c({success:!1,id:f})},getObjectById:function(f){if(v.w3)return l(f)},embedSWF:function(f,a,d,c,e,l,k,u,n,p){var L={success:!1,id:a};v.w3&&!(v.wk&&312>v.wk)&&f&&a&&d&&c&&e?(H(a,!1),h(function(){d+="";c+="";var h={};if(n&&"object"===typeof n)for(var x in n)h[x]=n[x];h.data=f;h.width=d;h.height=c;x={};if(u&&"object"===typeof u)for(var w in u)x[w]=u[w];if(k&&"object"===typeof k)for(var C in k)x.flashvars="undefined"!=typeof x.flashvars?x.flashvars+("&"+C+"="+
k[C]):C+"="+k[C];if(K(e))w=r(h,x,a),h.id==a&&H(a,!0),L.success=!0,L.ref=w;else{if(l&&m()){h.data=l;t(h,x,a,p);return}H(a,!0)}p&&p(L)})):p&&p(L)},switchOffAutoHideShow:function(){ka=!1},ua:v,getFlashPlayerVersion:function(){return{major:v.pv[0],minor:v.pv[1],release:v.pv[2]}},hasFlashPlayerVersion:K,createSWF:function(f,a,d){if(v.w3)return r(f,a,d)},showExpressInstall:function(f,a,d,c){v.w3&&m()&&t(f,a,d,c)},removeSWF:function(f){v.w3&&w(f)},createCSS:function(f,a,d,c){v.w3&&L(f,a,d,c)},addDomLoadEvent:h,
addLoadEvent:c,getQueryParamValue:function(f){var a=n.location.search||n.location.hash;if(a){/\?/.test(a)&&(a=a.split("?")[1]);if(null==f)return C(a);for(var a=a.split("&"),d=0;d<a.length;d++)if(a[d].substring(0,a[d].indexOf("="))==f)return C(a[d].substring(a[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(da){var a=f("SWFObjectExprInst");a&&T&&(a.parentNode.replaceChild(T,a),ea&&(H(ea,!0),v.ie&&v.win&&(T.style.display="block")),W&&W(X));da=!1}}}}()}catch(a){}return k}(CEDATO_SWF||
{}),CEDATO_DEVICE=function(k){k.getDeviceInfo=function(){var a={os:"",osv:"0",make:"",model:"",mobile:!1},h=navigator.userAgent,c;if(/iPod/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPod",a.mobile=!0;else if(/iPhone/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPhone",a.mobile=!0;else if(/iPad/i.test(h))a.os="iOS",a.osv=(h.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||
[""])[0].replace(/_/g,"."),a.make="Apple",a.model="iPad",a.mobile=!0;else if(/Android/i.test(h)){if(a.os="Android",a.mobile=!0,c=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,c=c.exec(h)){a.osv=c[1]||"0";var d=c[3]||"";/HTC/i.test(d)?(a.make="HTC",c=/HTC\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ASUS/i.test(d)?(a.make="ASUS",c=/ASUS\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/ALCATEL/i.test(d)?(a.make="ALCATEL",c=/ALCATEL\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/BLU/i.test(d)?(a.make="BLU",c=/BLU\s(.*)/i,
c=c.exec(d),a.model=c?c[1]:""):/ME17\d/i.test(d)?(a.make="ASUS",a.model=d):/Nexus/i.test(d)?(a.make="Google",a.model=d):/Lenovo/i.test(d)?a.make="Lenovo":/IdeaTab/i.test(d)?(a.make="Lenovo",a.model=d):/Huawei/i.test(h)?(a.make="Huawei",a.model=d):/SGP\d/i.test(d)?(a.make="Sony",a.model=d):/LT[1-9]\d/i.test(d)?(a.make="Sony",a.model=d):/HP/i.test(d)?(a.make="HP",c=/HP\s(.*)/i,c=c.exec(d),a.model=c?c[1]:""):/A1-/i.test(d)||/B11-/i.test(d)?(a.make="Acer",a.model=d):/GT-/i.test(d)?(a.make="Samsung",c=
/(GT-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SM-/i.test(d)?(a.make="Samsung",c=/(SM-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SPH-/i.test(d)?(a.make="Samsung",c=/(SPH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SCH-/i.test(d)?(a.make="Samsung",c=/(SCH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/SGH-/i.test(d)?(a.make="Samsung",c=/(SGH-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/DROID/i.test(d)?(a.make="Motorola",c=/(DROID.*)/i,c=c.exec(d),a.model=c?c[1]:""):/XT/i.test(d)?(a.make="Motorola",c=/(XT.*)/i,c=c.exec(d),a.model=
c?c[1]:""):/LG-/i.test(d)?(a.make="LG",c=/(LG-.*)/i,c=c.exec(d),a.model=c?c[1]:""):/VS/i.test(d)?(a.make="LG",c=/(VS.*)/i,c=c.exec(d),a.model=c?c[1]:""):/Z[1-9]/i.test(d)?(a.make="ZTE",c=/(Z[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):/NX[1-9]/i.test(d)?(a.make="NEXTBOOK",c=/(NX[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):/C5[1-9]/i.test(d)?(a.make="Kyocera",c=/(C5[1-9].*)/i,c=c.exec(d),a.model=c?c[1]:""):a.model=d}}else/Windows.Phone/i.test(h)||/WPDesktop/i.test(h)?(a.os="WindowsPhone",a.osv=(h.match(/Windows.Phone\s([0-9]+\.[0-9])/)||
[""])[1]||8,a.mobile=!0,/NOKIA/i.test(h)&&(a.make="Nokia",c=/NOKIA;\s(.*?)(;|\))/i,c=c.exec(h),a.model=c?c[1]:"")):/BlackBerry/i.test(h)||navigator.userAgent.match(/BB10/i)?(a.os="BlackBerry",c=0<=h.indexOf("Version/")?/Version\/(.*?)\s/i:/BlackBerry.*\/(.*?)\s/i,c=c.exec(h),a.osv=c?c[1]:"",a.mobile=!0):/Windows/i.test(h)?(a.os="Windows",c=/Windows\sNT\s(.*?)(;|\)|\s)/i,c=c.exec(h),a.osv=c?c[1]:""):/Mac\sOS/i.test(h)&&(a.os="MacOS",c=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,c=c.exec(h),a.osv=c?c[1]:"");return a};
return k}(CEDATO_DEVICE||{}),CEDATO_BROWSER=function(k){k.msie=function(){var a=window.navigator.userAgent,c=a.indexOf("MSIE "),d=a.indexOf("Trident/"),e=a.indexOf("Edge/"),l=null;0<c?l=parseInt(a.split("MSIE")[1]):0<d?l=11:0<e&&(l=12);return l?{version:l}:!1}();k.oldIE=k.msie&&10>k.msie.version;k.supportsVideo=function(){var a=!1;try{var c=document.createElement("video");c.volume=.5;a=!!c.canPlayType}catch(d){a=!1}return a};var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},
function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];k.createXMLHTTPObject=function(){var h=!1,c;for(c=0;c<a.length;c++){try{h=a[c]()}catch(d){continue}break}return h};k.parseTextToXML=function(a){return(window.DOMParser?function(a){return(new window.DOMParser).parseFromString(a,"text/xml")}:"undefined"!==typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(a){var d=new window.ActiveXObject("Microsoft.XMLDOM");
d.async="false";d.loadXML(a);return d}:function(){return null})(a)};k.json_decode=function(a){return window.JSON&&JSON.parse?JSON.parse(a):eval("("+a+")")};return k}(CEDATO_BROWSER||{}),CEDATO_URLUTILS=function(k){k.ScriptPath=function(){try{throw Error();}catch(e){var a=e.stack.split("\n"),h=0,c;for(c in a)if(a[c].match(/http[s]?:\/\//)){h=Number(c)+1;break}var d;a[h+1]&&(d=a[h+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));d&&d[1]||(d=a[h].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/));a="";
d[1]&&(a=d[1]);a&&":"===a.substr(a.length-1)&&(a=a.substring(0,a.length-1));return a}};k.getProtocol=function(a){try{if(a&&0===a.toLowerCase().indexOf("https")||document&&document.location&&0===document.location.protocol.indexOf("https")||window.location&&0===window.location.protocol.indexOf("https")||location&&0===location.protocol.indexOf("https"))return"https:"}catch(h){}return"http:"};k.getDetectedDomain=function(){var a="";try{if(parent!==window){if(a=document.referrer,window.location.ancestorOrigins){var h=
window.location.ancestorOrigins[window.location.ancestorOrigins.length-1];h&&a.substring(0,h.length)!=h&&(a=h)}}else a=top.location.href}catch(c){}return a};k.buildUrl=function(a,h){var c=[],d;for(d in h)if(h.hasOwnProperty(d)){var e=h[d].toString();if("extra"===d){var e=e.split("&"),l;for(l in e){var k=e[l].toString();k&&k.length&&c.push(k)}}else d&&d.length&&e.length?c.push([d,encodeURIComponent(e)].join("=")):d&&d.length?c.push(d):e&&e.length&&c.push(e)}return[a,c.join("&")].join("")};return k}(CEDATO_URLUTILS||
{}),CEDATO_HTTP=function(k){k.CORS_W_CREDENTIALS=1;k.CORS_FLASH=2;k.CORS_WO_CREDENTIALS=3;k.CORS_FLASH_AND_WO_CREDENTIALS=4;k.ERR_NO_XDOMAIN_REQUEST=1;k.ERR_OPEN=2;k.ERR_SEND=3;k.ERR_AFTER_SEND=4;k.ERR_TIMEOUT=5;k.ERR_UNKNOWN=6;k.ERR_FLOAD_FAILED=7;k.ERR_FLOAD_ERROR=8;k.ERR_EXCEPTION_HEADER=9;k.ERR_BAD_RESPONSE=10;k.FetchVastService={banned:[],cache:{},get:function(a){function k(a,c){CEDATO_HTTP.ajax({url:l,withCredentials:a,onLoad:function(){if(200!==this.status)return d.onNonRetry(CEDATO_HTTP.ERR_BAD_RESPONSE,
{message:""});if(d.exceptionHeaders.length){for(var a=[],c=(this.getAllResponseHeaders()||"").split("\n"),f=0,k=d.exceptionHeaders.length;f<k;f++)for(var h=0,m=c.length;h<m;h++)0===c[h].toLowerCase().indexOf(d.exceptionHeaders[f].toLowerCase())&&a.push(c[h]);return d.onNonRetry(CEDATO_HTTP.ERR_EXCEPTION_HEADER,{message:a.join("\n")})}try{return a=!1,-1!=this.responseText.indexOf("/vlog?vpaidEvent")&&(a=!0,e.players.logVastResponse=!0),e.players.logVastResponse&&(e.debugLog(e.players,"vastId "+d.vastId+
" - xhr response to url "+l,!1),e.debugLog(e.players,this.responseText,!1)),a&&e.vastError(e.players,d.vastId,3,"lior test",null,e.playerData),"undefined"===typeof this.responseXML&&this.responseText&&(this.responseXML=CEDATO_BROWSER.parseTextToXML(this.responseText)),e.cb(null,this.responseXML,{players:e.players,playerData:e.playerData,urlhandler:e.vastURLHandler,withCredentials:this.withCredentials})}catch(t){return-1==t.message.indexOf("cross-origin")?e.vastError(e.players,d.vastId,3,"xhr onload JS exception: ",
t,e.playerData):e.players.logVastResponse&&e.debugLog(players,"vastId "+d.vastId+" - xhr response to url "+l+" gave cross origin error",!1),e.cb(null,null,{players:e.players,playerData:e.playerData,urlhandler:e.vastURLHandler,withCredentials:this.withCredentials})}},onError:function(a,k){switch(a){case CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST:e.debugLog(e.players,"vastId "+d.vastId+" - old ie but no XDomainRequest",!1);c();break;case CEDATO_HTTP.ERR_OPEN:e.debugLog(e.players,"vastId "+d.vastId+" - xhr open failed with error: "+
k.message,!1);c();break;case CEDATO_HTTP.ERR_SEND:e.debugLog(e.players,"vastId "+d.vastId+" - xhr send failed with error: "+k.message,!1);c();break;case CEDATO_HTTP.ERR_AFTER_SEND:c();break;case CEDATO_HTTP.ERR_TIMEOUT:e.debugLog(e.players,"vastId "+d.vastId+" - timeout error, url: "+l,!1);e.cb(null,null,{players:e.players,playerData:e.playerData,urlhandler:e.vastURLHandler});break;case CEDATO_HTTP.ERR_UNKNOWN:if(-1==k.message.indexOf("101")&&2153644038!=k.result)return e.vastError(e.players,d.vastId,
3,"vastURLHandler JS exception on stage ???: ",k,e.playerData),e.cb(null,null,{players:e.players,playerData:e.playerData,urlhandler:e.vastURLHandler,withCredentials:this.withCredentials});e.debugLog(e.players,"vastId "+d.vastId+" - xhr response gave cross origin exception",!1);c()}},externals:e});e.players.logVastResponse&&e.debugLog(e.players,"vastId "+d.vastId+" - xhr request send called url "+l,!1)}function c(){CEDATO_HTTP.flashAjax({url:l,onLoad:function(){},onError:function(a,d){switch(a){case CEDATO_HTTP.ERR_FLOAD_FAILED:e.debugLog(e.players,
"vastId "+e.playerData.vastId+" - fload failed - vpw disappeared: "+d.message,!1);e.playerData.tlvState=10;e.playerData.errorCount+=1;e.vpwException(e.players,e.playerData,"fload");break;case CEDATO_HTTP.ERR_FLOAD_ERROR:e.debugLog(players,"vastId "+e.playerData.vastId+" - fload returned error: "+d.message,!1),e.cb(null,null,{players:e.players,playerData:e.playerData,urlhandler:e.vastURLHandler})}},externals:e})}var d=CEDATO_UTILS.extend({vastId:null,url:"",flashSupport:!1,flashProxyObject:null,corsSupport:0,
exceptionHeaders:[],onSuccess:function(){},onFailure:function(){},onNonRetry:function(){},externals:{players:{},playerData:{},fixURLPrm:function(){},debugLog:function(){},vastError:function(){},cb:function(){},vastURLHandler:null,vpwException:function(){}}},a),e=d.externals;e.players.logVastResponse&&e.debugLog(e.players,"vastId "+d.vastId+" - xhr request url "+d.url,!1);a=d.url;if(a=e.fixURLPrm(e.players.protocol,a)){var l=a;CEDATO_BROWSER.oldIE&&-1==a.indexOf(e.players.protocol)&&(l=e.players.protocol+
a.substr(a.indexOf("/")),e.debugLog(e.players,"vastId "+d.vastId+" - old ie and different scheme, adjusting url to "+l,!1));var m={players:e.players,playerData:e.playerData,urlhandler:e.vastURLHandler};switch(d.corsSupport){case CEDATO_HTTP.CORS_FLASH:c();break;case CEDATO_HTTP.CORS_W_CREDENTIALS:case CEDATO_HTTP.CORS_WO_CREDENTIALS:var t=d.corsSupport===CEDATO_HTTP.CORS_W_CREDENTIALS;k(t,function(){e.debugLog(e.players,"vastId "+d.vastId+" - xhr error, fload not available",!1);t?(e.debugLog(e.players,
"vastId "+d.vastId+" - xhr error, retrying without credentials, url: "+l,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(d,{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):e.cb(null,null,m)});break;case CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS:break;default:t=d.corsSupport!==CEDATO_HTTP.CORS_FLASH_AND_WO_CREDENTIALS,k(t,function(){d.flashSupport?c():t?(e.debugLog(e.players,"vastId "+d.vastId+" - xhr error, retrying without credentials, url: "+l,!1),CEDATO_HTTP.FetchVastService.get(CEDATO_UTILS.extend(d,
{corsSupport:CEDATO_HTTP.CORS_WO_CREDENTIALS}))):e.cb(null,null,m)})}}else e.vastError(e.players,d.vastId,3,"strange url: "+d.url,!1,playerData,!1,!1,"strange url")}};k.ajax=function(a){var k=CEDATO_UTILS.extend({url:"",withCredentials:!1,method:"GET",postData:null,timeout:0,onLoad:function(){},onError:function(){}},a);try{var c=!1,d=CEDATO_BROWSER.createXMLHTTPObject();if(CEDATO_BROWSER.oldIE&&!d){if(!window.XDomainRequest)return k.onError.call(d,CEDATO_HTTP.ERR_NO_XDOMAIN_REQUEST),null;d=new XDomainRequest;
d.onprogress=function(){}}try{d.open(k.method,k.url)}catch(m){return k.onError.call(d,CEDATO_HTTP.ERR_OPEN,m),null}"withCredentials"in d&&(d.withCredentials=k.withCredentials);"timeout"in d&&(d.timeout=k.timeout);d.onload=function(){c||(window.XDomainRequest&&d instanceof window.XDomainRequest&&(d.status=200,d.getResponseHeader=function(){return null},d.getAllResponseHeaders=function(){return null}),k.onLoad.call(d))};d.onerror=function(a){c=!0;k.onError.call(d,CEDATO_HTTP.ERR_AFTER_SEND,{result:-1,
message:""})};var e=null;a=[];if(k.postData){if("string"==typeof k.postData)e=k.postData;else{for(var l in k.postData)k.postData.hasOwnProperty(l)&&a.push([l,k.postData[l]].join("="));e=a.join("&")}d.setRequestHeader&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(CEDATO_BROWSER.oldIE)setTimeout(function(){try{d.send(e)}catch(a){k.onError.call(d,CEDATO_HTTP.ERR_SEND,a)}},0);else try{d.send(e)}catch(m){k.onError.call(d,CEDATO_HTTP.ERR_SEND,m)}}catch(m){k.onError.call(d,CEDATO_HTTP.ERR_UNKNOWN,
m)}return d};k.flashAjax=function(a){function k(){if(2!==d.playerData.vpwLoaded)setTimeout(k,500);else{var a;try{a=d.playerData.flashElement[d.playerData.flashEICallbacks]("fLoad",c.url,c.timeout,d.players.playersStorageName,d.playerData.uniqId,e,d.players.floadSuccessCallbackFuncName,d.players.floadFailureCallbackFuncName)}catch(m){c.onError(CEDATO_HTTP.ERR_FLOAD_FAILED,m)}if(""!==a)c.onError(CEDATO_HTTP.ERR_FLOAD_ERROR,{message:a})}}var c=CEDATO_UTILS.extend({url:"",timeout:2E4,onLoad:function(){},
onError:function(){},externals:{players:{},playerData:{},cb:function(){}}},a),d=c.externals,e=d.playerData.floadCbs.length;d.playerData.floadCbs.push(d.cb);k()};k.JSONP=function(a){var k=CEDATO_UTILS.extend({url:"",onLoad:function(a){},onError:function(){}},a);a="_"+(new Date).getTime();var c=document.createElement("script"),d=document.getElementsByTagName("head")[0]||document.documentElement;window[a]=function(a){try{c.parentNode&&c.parentNode.removeChild()}catch(d){}k.onLoad(a)};var e=k.url,l=e.indexOf("?");
-1==l?e+="?":l!==e.length-1&&(e+="&");c.src=e+"callback="+a;CEDATO_BROWSER.msie&&9>CEDATO_BROWSER.msie.version?c.onreadystatechange=function(a){if(/loaded|complete/.test(c.readyState)&&(a=c.readyState,c.children,"loaded"==a&&"loading"==c.readyState))k.onError()}:(c.onerror=function(){k.onError()},d.appendChild(c));return{script:c,uid:a}};k.GetPlayerVast=function(a){function k(a){e.push(a);2==e.length&&!e[0]&&!e[1]&&0<c.retries&&(c.retries--,setTimeout(function(){CEDATO_HTTP.GetPlayerVast(c)},c.retryInterval))}
var c=CEDATO_UTILS.extend({url:"",success:function(a){},retryInterval:1E4,retries:2,externals:{players:{},debugLog:function(){},playerError:function(){}}},a),d=c.externals,e=[];d.debugLog(d.players,"gsv url: "+c.url,!1);d.players.gsvXHR=CEDATO_HTTP.ajax({url:c.url,method:"get",onLoad:function(){try{d.debugLog(d.players,"sp callback from "+c.url,!1);var a=CEDATO_BROWSER.json_decode(this.responseText);c.success(d.players,a,!0);k(!0)}catch(e){k(!1),d.playerError(d.players,3,"spcallback gave JS exception: "+
e.message)}},onError:function(a){k(!1)}});CEDATO_HTTP.JSONP({url:c.url,onLoad:function(a){c.success(d.players,a,!1);k(!0)},onError:function(){k(!1)}})};k.sendPixel=function(a,k){CEDATO_HTTP.ajax({url:a,postData:k,method:k?"post":"get"})};return k}(CEDATO_HTTP||{}),CEDATO_UTILS=function(k){k.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};k.extend=function(a,k){for(var c in k)k.hasOwnProperty(c)&&(a[c]=k[c]);return a};return k}(CEDATO_UTILS||{}),CEDATO_CONTENT=function(k){var a=
function(a){function c(){k.video&&k.video.parentNode&&k.video.parentNode.removeChild(k.video);var a=m.customCreateVideoElement?m.customCreateVideoElement():document.createElement("video");a.src=k.currentContentUrl;a.controls=k.controlBar;a.autoplay=k.autoPlay;a.loop=!1;a.preload="auto";a.volume=k.volume;a.setAttribute("style","height:100% !important;display:block;");a.style.width="100%";a.style.position="relative";a.style.zIndex="1";a.addEventListener("ended",function(d){t&&a.play();if(!p){d=0;for(var e=
k.callbacks.endContentVideo.length;d<e;d++)k.callbacks.endContentVideo[d].call(k);p=!0}t||(k.currentContentUrl=k.contentUrlList.shift(),k.loop&&k.contentUrlList.push(k.currentContentUrl),k.currentContentUrl?c():"")},!1);a.addEventListener("error",function(a){var d="";switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:d="You aborted the video playback.";break;case a.target.error.MEDIA_ERR_NETWORK:d="A network error caused the video download to fail part-way.";break;case a.target.error.MEDIA_ERR_DECODE:d=
"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:d="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:d="An unknown error occurred."}m.onError(a,d)},!1);a.addEventListener("canplay",function(d){a.canvas&&(a.canvas.style.width="100%",a.canvas.style.height="100%")});k.video=a;k.container?k.container.appendChild(a):
"";k.autoPlay||k.controlBar||d()}function d(){var a=document.createElement("div");a.style.display="table";a.style.position="absolute";a.style.left="0";a.style.top="0";a.style.width="100%";a.style.height="100%";a.style.zIndex="2";a.style.background="#000";a.style.cursor="pointer";var d=document.createElement("div");d.style.display="table-cell";d.style.verticalAlign="middle";d.style.textAlign="center";var c=new Image;c.src=m.playButtonUrl;c.style.width="auto";c.style.maxHeight=Math.round(.3*k.container.clientHeight)+
"px";d.appendChild(c);a.appendChild(d);k.playOverlay=a;k.container?k.container.appendChild(a):"";a.onclick=function(a){k.playOverlay&&k.playOverlay.parentNode?k.playOverlay.parentNode.removeChild(k.playOverlay):"";k.playOverlay=null;k.playContent();a.stopPropagation();a=0;for(var d=k.callbacks.userStartPlaying.length;a<d;a++)k.callbacks.userStartPlaying[a].call(k)}}function e(){var a=document.createElement("div");a.style.width="100%";a.style.height="100%";a.style.background="url("+k.bannerUrl+") no-repeat center center";
a.style.position="absolute";a.style.left="0";a.style.top="0";k.bannerOverlay=a;k.container?k.container.appendChild(a):"";k.autoPlay||d()}var k=this,m=CEDATO_UTILS.extend({parentDiv:null,contentUrl:null,bannerUrl:"spinner.gif",playButtonUrl:"play_button_gr.png",clickUrl:"",autoPlay:!0,volume:1,loop:!0,controlBar:!1,videoSupport:!0,customCreateVideoElement:null,userStartPlayingCallback:function(a){},endContentVideoCallback:function(a){},onError:function(a){}},a);this.parentDiv=m.parentDiv;this.contentUrl=
m.contentUrl;this.contentUrlList=CEDATO_UTILS.isArray(this.contentUrl)?this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[];this.currentContentUrl=this.contentUrlList.length?this.contentUrlList.shift():null;this.bannerUrl=m.bannerUrl;this.clickUrl=m.clickUrl;this.autoPlay=m.autoPlay;this.volume=1*m.volume;this.loop=m.loop;this.controlBar=m.controlBar;this.videoSupport=m.videoSupport;var t=!1;this.callbacks={userStartPlaying:[m.userStartPlayingCallback],endContentVideo:[m.endContentVideoCallback]};
this.loop&&(this.contentUrlList.push(this.currentContentUrl),t=1==k.contentUrlList.length);this.container=document.createElement("div");this.container.style.width="100%";this.container.style.height="100%";this.container.style.top="0";this.container.style.left="0";this.container.style.position="absolute";this.container.style.background="#000";this.container.style.zIndex="10001";k.parentDiv?k.parentDiv.appendChild(this.container):"";this.playOverlay=this.video=this.bannerOverlay=null;var p=!1;k.currentContentUrl&&
this.videoSupport?c():e();this.container.onclick=function(a){k.clickUrl&&!k.playOverlay&&window.open(k.clickUrl,"_blank")}};a.prototype.playContent=function(){!this.video||this.video.paused&&this.playOverlay||this.video.play()};a.prototype.pauseContent=function(){this.video&&this.video.pause()};a.prototype.showContent=function(){this.container&&(this.container.style.zIndex="10000",this.container.style.display="",this.playContent())};a.prototype.hideContent=function(){this.container&&(this.container.style.zIndex=
"1",this.container.style.display="none",this.pauseContent())};a.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)};a.prototype.setVolume=function(a){this.video&&(this.volume=a,this.video.volume=a)};a.prototype.addEndContentVideoCallback=function(a){this.callbacks.endContentVideo.push(a)};a.prototype.addUserStartPlayingCallback=function(a){this.callbacks.userStartPlaying.push(a)};k.ContentUnit=a;return k}(CEDATO_CONTENT||
{}),CEDATO_DETECT_UTILS=function(k){k.getStatsParam=function(a){if(a){var k="h";"https:"===a.protocol&&(k="s");var c="h";if("vpaid"===a.mode&&(c="f",a.vpaidObj))switch(a.vpaidObj.getVpaidType()){case "fl":c="f";break;case "js":c="j"}var d="d";a.info&&a.info.mobile&&(d="m");return k+c+d}};return k}(CEDATO_DETECT_UTILS||{});
(function(k){"object"===typeof eexports&&"undefined"!==typeof mmodule?mmodule.eexports=k():"function"===typeof ddefine&&ddefine.amd?ddefine([],k):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).DMVAST=k()})(function(){return function a(h,c,d){function e(m,p){if(!c[m]){if(!h[m]){var u="function"==typeof rrequire&&rrequire;if(!p&&u)return u(m,!0);if(l)return l(m,!0);u=Error("Cannot find mmodule '"+m+"'");throw u.code="MODULE_NOT_FOUND",u;}u=
c[m]={eexports:{}};h[m][0].call(u.eexports,function(a){var d=h[m][1][a];return e(d?d:a)},u,u.eexports,a,h,c,d)}return c[m].eexports}for(var l="function"==typeof rrequire&&rrequire,m=0;m<d.length;m++)e(d[m]);return e}({1:[function(a,h,c){a=function(){return function(){this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[]}}();this.extensions="";h.eexports=a},{}],2:[function(a,h,c){var d,e;d=a("./parser.coffee");e=a("./util.coffee");a=function(){function a(){}a.cappingFreeLunch=
0;a.cappingMinimumTimeInterval=0;a.options={withCredentials:!1,timeout:0};a.get=function(a,e,h){var l,r,w;r=+new Date;l=c.extend=function(a,d){var c,e;for(c in d)e=d[c],a[c]=e;return a};h||("function"===typeof e&&(h=e),w={});w=l(this.options,e);this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36E5):this.totalCalls++;if(this.cappingFreeLunch>=this.totalCalls)h(null);else if(r-this.lastSuccessfullAd<this.cappingMinimumTimeInterval)h(null);else return d.parse(a,w,function(a){return h(a)})};
(function(){var d,c;c=e.storage;d=Object.defineProperty;["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(e){d(a,e,{get:function(){return c.getItem(e)},set:function(a){return c.setItem(e,a)},configurable:!1,enumerable:!0})});null==a.totalCalls&&(a.totalCalls=0);null==a.totalCallsTimeout&&(a.totalCallsTimeout=0)})();return a}();h.eexports=a},{"./parser.coffee":7,"./util.coffee":13}],3:[function(a,h,c){a=function(){return function(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=
this.staticResource=this.type=null;this.trackingEvents={}}}();h.eexports=a},{}],4:[function(a,h,c){var d,e={}.hasOwnProperty,l=function(a,d){function c(){this.constructor=a}for(var h in d)e.call(d,h)&&(a[h]=d[h]);c.prototype=d.prototype;a.prototype=new c;a.__super__=d.prototype;return a};d=function(){return function(){this.trackingEvents={}}}();a=function(a){function d(){d.__super__.constructor.apply(this,arguments);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=
null;this.videoClickTrackingURLTemplates=[]}l(d,a);return d}(d);this.adParameters="";c=function(a){function d(){return d.__super__.constructor.apply(this,arguments)}l(d,a);return d}(d);d=function(a){function d(){this.type="companion";this.variations=[];this.videoClickTrackingURLTemplates=[]}l(d,a);return d}(d);h.eexports={VASTCreativeLinear:a,VASTCreativeNonLinear:c,VASTCreativeCompanion:d}},{}],5:[function(a,h,c){h.eexports={client:a("./client.coffee"),tracker:a("./tracker.coffee"),parser:a("./parser.coffee"),
util:a("./util.coffee")}},{"./client.coffee":2,"./parser.coffee":7,"./tracker.coffee":9,"./util.coffee":13}],6:[function(a,h,c){a=function(){return function(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=null}}();h.eexports=a},{}],7:[function(a,h,c){var d,e,l,m,t,p,u,r,w,f=[].indexOf||function(a){for(var f=0,d=this.length;f<d;f++)if(f in
this&&this[f]===a)return f;return-1};e=a("./urlhandler.coffee");r=a("./response.coffee");l=a("./ad.coffee");w=a("./util.coffee");p=a("./creative.coffee").VASTCreativeLinear;t=a("./creative.coffee").VASTCreativeCompanion;u=a("./mediafile.coffee");m=a("./companionad.coffee");d=a("events").EventEmitter;a=function(){function a(){}var c;c=[];a.addURLTemplateFilter=function(a){"function"===typeof a&&c.push(a)};a.removeURLTemplateFilter=function(){return c.pop()};a.countURLTemplateFilters=function(){return c.length};
a.clearUrlTemplateFilters=function(){return c=[]};a.parse=function(a,f,d){d||("function"===typeof f&&(d=f),f={});return this._parse(a,null,f,function(a,f){return d(f)})};a.vent=new d;a.track=function(a,f){this.vent.emit("VAST-error",f);return w.track(a,f)};a.on=function(a,f){return this.vent.on(a,f)};a.once=function(a,f){return this.vent.once(a,f)};a._parse=function(a,d,h,m){var l,t,p,u=this;m||("function"===typeof h&&(m=h),h={});t=0;for(p=c.length;t<p;t++)l=c[t],a=l(a);null==d&&(d=[]);d.push(a);
return e.get(a,h,function(c,e,h){var l,t,n,p,C,w;if(null!=c)return m(c);n=new r;if(null==(null!=e?e.documentElement:void 0)||"VAST"!==e.documentElement.nodeName)return m();w=e.documentElement.childNodes;p=0;for(C=w.length;p<C;p++)c=w[p],"Error"===c.nodeName&&n.errorURLTemplates.push(u.parseNodeText(c));C=e.documentElement.childNodes;e=0;for(p=C.length;e<p;e++)c=C[e],"Ad"===c.nodeName&&(l=u.parseAdElement(c),null!=l?n.ads.push(l):u.track(n.errorURLTemplates,{ERRORCODE:101}));t=function(a){var f,d,
c;null==a&&(a=!1);if(n){c=n.ads;f=0;for(d=c.length;f<d;f++)if(l=c[f],null!=l.nextWrapperURL)return;0===n.ads.length&&(a||u.track(n.errorURLTemplates,{ERRORCODE:303}),n=null);return m(null,n)}};for(c=n.ads.length;c--;)l=n.ads[c],null!=l.nextWrapperURL&&function(c){var e;if(10<=d.length||(e=c.nextWrapperURL,0<=f.call(d,e)))u.track(c.errorURLTemplates,{ERRORCODE:302}),n.ads.splice(n.ads.indexOf(c),1),t();else return-1===c.nextWrapperURL.indexOf("://")&&(e=a.slice(0,a.lastIndexOf("/")),c.nextWrapperURL=
""+e+"/"+c.nextWrapperURL),u._parse(c.nextWrapperURL,d,h,function(a,f){var d,e,h,m,l,p,r,x,H,C,L,w,D,G,R;e=!1;if(null!=a)u.track(c.errorURLTemplates,{ERRORCODE:301}),n.ads.splice(n.ads.indexOf(c),1),e=!0;else if(null==f)u.track(c.errorURLTemplates,{ERRORCODE:303}),n.ads.splice(n.ads.indexOf(c),1),e=!0;else for(n.errorURLTemplates=n.errorURLTemplates.concat(f.errorURLTemplates),m=n.ads.indexOf(c),n.ads.splice(m,1),D=f.ads,r=0,x=D.length;r<x;r++){l=D[r];l.errorURLTemplates=c.errorURLTemplates.concat(l.errorURLTemplates);
l.impressionURLTemplates=c.impressionURLTemplates.concat(l.impressionURLTemplates);if(null!=c.trackingEvents)for(G=l.creatives,L=0,H=G.length;L<H;L++)if(d=G[L],"linear"===d.type)for(R=Object.keys(c.trackingEvents),w=0,C=R.length;w<C;w++)h=R[w],(p=d.trackingEvents)[h]||(p[h]=[]),d.trackingEvents[h]=d.trackingEvents[h].concat(c.trackingEvents[h]);if(null!=c.videoClickTrackingURLTemplates)for(C=l.creatives,H=0,h=C.length;H<h;H++)d=C[H],"linear"===d.type&&(d.videoClickTrackingURLTemplates=d.videoClickTrackingURLTemplates.concat(c.videoClickTrackingURLTemplates));
n.ads.splice(m,0,l)}delete c.nextWrapperURL;return t(e)})}(l);return t()})};a.childByName=function(a,f){var d,c,e,h;h=a.childNodes;c=0;for(e=h.length;c<e;c++)if(d=h[c],d.nodeName===f)return d};a.childsByName=function(a,f){var d,c,e,h,m;c=[];m=a.childNodes;e=0;for(h=m.length;e<h;e++)d=m[e],d.nodeName===f&&c.push(d);return c};a.parseAdElement=function(a){var f,d,c;c=a.childNodes;f=0;for(d=c.length;f<d;f++){a=c[f];if("Wrapper"===a.nodeName)return this.parseWrapperElement(a);if("InLine"===a.nodeName)return this.parseInLineElement(a)}};
a.parseWrapperElement=function(a){var f,d,c,e,h;f=this.parseInLineElement(a);d=this.childByName(a,"VASTAdTagURI");null!=d?f.nextWrapperURL=this.parseNodeText(d):(d=this.childByName(a,"VASTAdTagURL"),null!=d&&(f.nextWrapperURL=this.parseNodeText(this.childByName(d,"URL"))));d=null;h=f.creatives;c=0;for(e=h.length;c<e;c++)if(a=h[c],"linear"===a.type){d=a;break}null!=d&&(null!=d.trackingEvents&&(f.trackingEvents=d.trackingEvents),null!=d.videoClickTrackingURLTemplates&&(f.videoClickTrackingURLTemplates=
d.videoClickTrackingURLTemplates));if(null!=f.nextWrapperURL)return f};a.parseInLineElement=function(a){var f,d,c,e,h,m,t,p,r,u;f=new l;p=a.childNodes;a=0;for(h=p.length;a<h;a++)switch(e=p[a],e.nodeName){case "Error":this.isUrl(e)&&f.errorURLTemplates.push(this.parseNodeText(e));break;case "Extensions":f.extensions=this.parseNodeText(e);break;case "Impression":this.isUrl(e)&&f.impressionURLTemplates.push(this.parseNodeText(e));break;case "Creatives":for(r=this.childsByName(e,"Creative"),e=0,m=r.length;e<
m;e++)for(c=r[e],u=c.childNodes,c=0,t=u.length;c<t;c++)switch(d=u[c],d.nodeName){case "Linear":(d=this.parseCreativeLinearElement(d))&&f.creatives.push(d);break;case "CompanionAds":(d=this.parseCompanionAd(d))&&f.creatives.push(d)}}return f};a.parseCreativeLinearElement=function(a){var f,d,c,e,h,m,l,t,r,w;d=new p;d.duration=this.parseDuration(this.parseNodeText(this.childByName(a,"Duration")));if(-1===d.duration&&"Wrapper"!==a.parentNode.parentNode.parentNode.nodeName)return null;f=a.getAttribute("skipoffset");
null==f?d.skipDelay=null:"%"===f.charAt(f.length-1)?(f=parseInt(f,10),d.skipDelay=f/100*d.duration):d.skipDelay=this.parseDuration(f);f=this.childByName(a,"VideoClicks");if(null!=f)for(d.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"ClickThrough")),c=this.childsByName(f,"ClickTracking"),h=0,w=c.length;h<w;h++)f=c[h],d.videoClickTrackingURLTemplates.push(this.parseNodeText(f));f=this.childByName(a,"AdParameters");null!=f&&(d.adParameters=this.parseNodeText(f));w=this.childsByName(a,
"TrackingEvents");f=0;for(h=w.length;f<h;f++)for(c=w[f],m=this.childsByName(c,"Tracking"),r=0,e=m.length;r<e;r++)l=m[r],c=l.getAttribute("event"),l=this.parseNodeText(l),null!=c&&null!=l&&(null==(t=d.trackingEvents)[c]&&(t[c]=[]),d.trackingEvents[c].push(l));f=this.childsByName(a,"MediaFiles");a=0;for(t=f.length;a<t;a++)for(h=f[a],r=this.childsByName(h,"MediaFile"),c=0,w=r.length;c<w;c++)e=r[c],h=new u,h.id=e.getAttribute("id"),h.fileURL=this.parseNodeText(e),h.deliveryType=e.getAttribute("delivery"),
h.codec=e.getAttribute("codec"),h.mimeType=e.getAttribute("type"),h.apiFramework=e.getAttribute("apiFramework"),h.bitrate=parseInt(e.getAttribute("bitrate")||0),h.minBitrate=parseInt(e.getAttribute("minBitrate")||0),h.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),h.width=parseInt(e.getAttribute("width")||0),h.height=parseInt(e.getAttribute("height")||0),(m=e.getAttribute("scalable"))&&"string"===typeof m&&(m=m.toLowerCase(),"true"===m?h.scalable=!0:"false"===m&&(h.scalable=!1)),(e=e.getAttribute("maintainAspectRatio"))&&
"string"===typeof e&&(e=e.toLowerCase(),"true"===e?h.maintainAspectRatio=!0:"false"===e&&(h.maintainAspectRatio=!1)),d.mediaFiles.push(h);return d};a.parseCompanionAd=function(a){var f,d,c,e,h,l,r,p,u,w,V,K,W,X;d=new t;W=this.childsByName(a,"Companion");r=0;for(u=W.length;r<u;r++){f=W[r];a=new m;a.id=f.getAttribute("id")||null;a.width=f.getAttribute("width");a.height=f.getAttribute("height");c=this.childsByName(f,"HTMLResource");p=0;for(w=c.length;p<w;p++)e=c[p],a.type=e.getAttribute("creativeType")||
0,a.htmlResource=this.parseNodeText(e);c=this.childsByName(f,"IFrameResource");p=0;for(w=c.length;p<w;p++)e=c[p],a.type=e.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(e);c=this.childsByName(f,"StaticResource");p=0;for(w=c.length;p<w;p++)e=c[p],a.type=e.getAttribute("creativeType")||0,a.staticResource=this.parseNodeText(e);w=this.childsByName(f,"TrackingEvents");p=0;for(e=w.length;p<e;p++)for(c=w[p],X=this.childsByName(c,"Tracking"),K=0,V=X.length;K<V;K++)h=X[K],c=h.getAttribute("event"),
h=this.parseNodeText(h),null!=c&&null!=h&&(null==(l=a.trackingEvents)[c]&&(l[c]=[]),a.trackingEvents[c].push(h));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"CompanionClickThrough"));d.variations.push(a)}return d};a.parseDuration=function(a){var f,d;if(null==a)return-1;f=a.split(":");if(3!==f.length)return-1;d=f[2].split(".");a=parseInt(d[0]);2===d.length&&(a+=parseFloat("0."+d[1]));d=parseInt(60*f[1]);f=parseInt(3600*f[0]);return isNaN(f||isNaN(d||isNaN(a||3600<d||60<
a)))?-1:f+d+a};a.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()};a.isUrl=function(a){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?//=]*)/i.test(this.parseNodeText(a))};return a}();h.eexports=a},{"./ad.coffee":1,"./companionad.coffee":3,"./creative.coffee":4,"./mediafile.coffee":6,"./response.coffee":8,"./urlhandler.coffee":10,"./util.coffee":13,events:14}],8:[function(a,h,c){a=function(){return function(){this.ads=[];this.errorURLTemplates=[]}}();
h.eexports=a},{}],9:[function(a,h,c){var d,e,l,m={}.hasOwnProperty,t=function(a,d){function c(){this.constructor=a}for(var e in d)m.call(d,e)&&(a[e]=d[e]);c.prototype=d.prototype;a.prototype=new c;a.__super__=d.prototype;return a};d=a("./client.coffee");l=a("./util.coffee");e=a("./creative.coffee").VASTCreativeLinear;a=function(a){function c(a,h){var f,m,l;this.ad=a;this.creative=h;this.skipable=this.impressed=this.muted=!1;this.skipDelayDefault=-1;this.trackingEvents={};this.emitAlwaysEvents="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" ");
l=h.trackingEvents;for(f in l)m=l[f],this.trackingEvents[f]=m.slice(0);h instanceof e?(this.setDuration(h.duration),this.skipDelay=h.skipDelay,this.linear=!0,this.clickThroughURLTemplate=h.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=h.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1);this.on("start",function(){d.lastSuccessfullAd=+new Date})}t(c,a);c.prototype.setDuration=function(a){this.assetDuration=a;return this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/
100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}};c.prototype.setProgress=function(a){var d,f,c,e;f=null===this.skipDelay?this.skipDelayDefault:this.skipDelay;-1===f||this.skipable||(f>a?this.emit("skip-countdown",f-a):(this.skipable=!0,this.emit("skip-countdown",0)));if(this.linear&&0<this.assetDuration){f=[];if(0<a)for(d in f.push("start"),c=Math.round(a/this.assetDuration*100),f.push("progress-"+c+"%"),e=this.quartiles,e)c=e[d],c<=a&&a<=c+
1&&f.push(d);c=0;for(e=f.length;c<e;c++)d=f[c],this.track(d,!0);a<this.progress&&this.track("rewind")}return this.progress=a};c.prototype.setMuted=function(a){this.muted!==a&&this.track(a?"mute":"unmute");return this.muted=a};c.prototype.setPaused=function(a){this.paused!==a&&this.track(a?"pause":"resume");return this.paused=a};c.prototype.setFullscreen=function(a){this.fullscreen!==a&&this.track(a?"fullscreen":"exitFullscreen");return this.fullscreen=a};c.prototype.setSkipDelay=function(a){if("number"===
typeof a)return this.skipDelay=a};c.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")};c.prototype.errorWithCode=function(a){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:a})};c.prototype.complete=function(){return this.track("complete")};c.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")};c.prototype.skip=function(){this.track("skip");return this.trackingEvents=
[]};c.prototype.click=function(){var a,d;null!=(d=this.clickTrackingURLTemplates)&&d.length&&this.trackURLs(this.clickTrackingURLTemplates);if(null!=this.clickThroughURLTemplate)return this.linear&&(a={CONTENTPLAYHEAD:this.progressFormated()}),a=l.resolveURLTemplates([this.clickThroughURLTemplate],a)[0],this.emit("clickthrough",a)};c.prototype.track=function(a,d){var f,c;null==d&&(d=!1);"closeLinear"===a&&null==this.trackingEvents[a]&&null!=this.trackingEvents.close&&(a="close");c=this.trackingEvents[a];
f=this.emitAlwaysEvents.indexOf(a);null!=c?(this.emit(a,""),this.trackURLs(c)):-1!==f&&this.emit(a,"");!0===d&&(delete this.trackingEvents[a],-1<f&&this.emitAlwaysEvents.splice(f,1))};c.prototype.trackURLs=function(a,d){null==d&&(d={});this.linear&&(d.CONTENTPLAYHEAD=this.progressFormated());return l.track(a,d)};c.prototype.progressFormated=function(){var a,d,f,c;f=parseInt(this.progress);a=f/3600;2>a.length&&(a="0"+a);d=f/60%60;2>d.length&&(d="0"+d);c=f%60;2>c.length&&(c="0"+d);f=parseInt(100*(this.progress-
f));return""+a+":"+d+":"+c+"."+f};return c}(a("events").EventEmitter);h.eexports=a},{"./client.coffee":2,"./creative.coffee":4,"./util.coffee":13,events:14}],10:[function(a,h,c){var d,e;e=a("./urlhandlers/xmlhttprequest.coffee");d=a("./urlhandlers/flash.coffee");c=function(){function c(){}c.get=function(c,h,l){l||("function"===typeof h&&(l=h),h={});return h.urlhandler&&h.urlhandler.supported()?h.urlhandler.get(c,h,l):"undefined"===typeof window||null===window?a("./urlhandlers/node.coffee").get(c,
h,l):e.supported()?e.get(c,h,l):d.supported()?d.get(c,h,l):l()};return c}();h.eexports=c},{"./urlhandlers/flash.coffee":11,"./urlhandlers/xmlhttprequest.coffee":12}],11:[function(a,h,c){a=function(){function a(){}a.xdr=function(){var a;window.XDomainRequest&&(a=new XDomainRequest);return a};a.supported=function(){return!!this.xdr()};a.get=function(a,d,c){var h,p;if(p="function"===typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)p.async=!1;else return c();h=this.xdr();
h.open("GET",a);h.timeout=d.timeout||0;h.withCredentials=d.withCredentials||!1;h.send();return h.onload=function(){p.loadXML(h.responseText);return c(null,p)}};return a}();h.eexports=a},{}],12:[function(a,h,c){a=function(){function a(){}a.xhr=function(){var a;a=new window.XMLHttpRequest;if("withCredentials"in a)return a};a.supported=function(){return!!this.xhr()};a.get=function(a,d,c){var h;try{return h=this.xhr(),h.open("GET",a),h.timeout=d.timeout||0,h.withCredentials=d.withCredentials||!1,h.send(),
h.onreadystatechange=function(){if(4===h.readyState)return c(null,h.responseXML)}}catch(p){return c()}};return a}();h.eexports=a},{}],13:[function(a,h,c){a=function(){function a(){}a.track=function(a,d){var c,h,p,u,r,w;h=this.resolveURLTemplates(a,d);w=[];u=0;for(r=h.length;u<r;u++)c=h[u],"undefined"!==typeof window&&null!==window&&(p=new Image,w.push(p.src=c));return w};a.resolveURLTemplates=function(a,d){var c,h,p,u,r,w,f,V;h=[];null==d&&(d={});"CACHEBUSTING"in d||(d.CACHEBUSTING=Math.round(1E10*
Math.random()));d.random=d.CACHEBUSTING;f=0;for(V=a.length;f<V;f++)if(r=a[f]){for(p in d)w=d[p],c="["+p+"]",u="%%"+p+"%%",r=r.replace(c,w),r=r.replace(u,w);h.push(r)}return h};a.storage=function(){var a,d,c;try{c="undefined"!==typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(h){c=null}d=function(a){try{if(a.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==a.getItem("__VASTUtil__"))return!0}catch(d){return!0}return!1};if(null==c||d(c))a={},c={length:0,getItem:function(d){return a[d]},
setItem:function(d,c){a[d]=c;this.length=Object.keys(a).length},removeItem:function(d){delete a[d];this.length=Object.keys(a).length},clear:function(){a={};this.length=0}};return c}();return a}();h.eexports=a},{}],14:[function(a,h,c){function d(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function e(a){return"function"===typeof a}function l(a){return"object"===typeof a&&null!==a}h.eexports=d;d.EventEmitter=d;d.prototype._events=void 0;d.prototype._maxListeners=void 0;
d.defaultMaxListeners=10;d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};d.prototype.emit=function(a){var d,c,h,r;this._events||(this._events={});if("error"===a&&(!this._events.error||l(this._events.error)&&!this._events.error.length)){d=arguments[1];if(d instanceof Error)throw d;throw TypeError('Uncaught, unspecified "error" event.');}c=this._events[a];if(void 0===c)return!1;if(e(c))switch(arguments.length){case 1:c.call(this);
break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:d=arguments.length;h=Array(d-1);for(r=1;r<d;r++)h[r-1]=arguments[r];c.apply(this,h)}else if(l(c)){d=arguments.length;h=Array(d-1);for(r=1;r<d;r++)h[r-1]=arguments[r];c=c.slice();d=c.length;for(r=0;r<d;r++)c[r].apply(this,h)}return!0};d.prototype.addListener=function(a,c){var h;if(!e(c))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",
a,e(c.listener)?c.listener:c);this._events[a]?l(this._events[a])?this._events[a].push(c):this._events[a]=[this._events[a],c]:this._events[a]=c;l(this._events[a])&&!this._events[a].warned&&(h=void 0!==this._maxListeners?this._maxListeners:d.defaultMaxListeners)&&0<h&&this._events[a].length>h&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===
typeof console.trace&&console.trace());return this};d.prototype.on=d.prototype.addListener;d.prototype.once=function(a,d){function c(){this.removeListener(a,c);h||(h=!0,d.apply(this,arguments))}if(!e(d))throw TypeError("listener must be a function");var h=!1;c.listener=d;this.on(a,c);return this};d.prototype.removeListener=function(a,d){var c,h,r;if(!e(d))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;c=this._events[a];r=c.length;h=-1;if(c===d||e(c.listener)&&
c.listener===d)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,d);else if(l(c)){for(;0<r--;)if(c[r]===d||c[r].listener&&c[r].listener===d){h=r;break}if(0>h)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(h,1);this._events.removeListener&&this.emit("removeListener",a,d)}return this};d.prototype.removeAllListeners=function(a){var d;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&
delete this._events[a],this;if(0===arguments.length){for(d in this._events)"removeListener"!==d&&this.removeAllListeners(d);this.removeAllListeners("removeListener");this._events={};return this}d=this._events[a];if(e(d))this.removeListener(a,d);else for(;d.length;)this.removeListener(a,d[d.length-1]);delete this._events[a];return this};d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]};d.listenerCount=function(a,
d){return a._events&&a._events[d]?e(a._events[d])?1:a._events[d].length:0}},{}]},{},[5])(5)});
var CEDATO_VPAID_OBJ=function(k){function a(){this.type_="";this.obj={};this.flashEI="";this.eventsCallbacks_={};this.vpaidStatus="not_connected";this.globalCallbackName="";var a=this;this.playerID;this.globalCallbackName="cpcb"+Math.floor(1000001*Math.random());window[this.globalCallbackName]=function(c,d,e){this.eventsCallbacks_[c]&&(e?setTimeout(function(){a.eventsCallbacks_[c].call(a,d)},0):a.eventsCallbacks_[c].call(a,d))}.bind(a)}a.prototype={callObj:function(a,c){if("fl"==this.type_){try{var d=
this.obj[this.flashEI](a,c)}catch(e){return null}return d}return this.obj.pEvent(a,c)},initObj:function(a,c,d,e){this.type_=c;"fl"==this.type_?(this.obj=a,e&&(this.flashEI=e)):window[a]&&(this.obj=window[a],this.vpaidStatus="connected",this.call("connect",{globalCallbackName:this.globalCallbackName,playersStorageName:d}))},getVpaidType:function(){return this.type_},call:function(a,c,d){if(d)setTimeout(this.callObj.bind(this),0,a,c);else return this.callObj(a,c)},register:function(a,c,d){c=c.bind(d);
this.eventsCallbacks_[a]=c}};k.getVpaid=function(){return new a};return k}(CEDATO_VPAID_OBJ||{});
(function(k,a){function h(b,g,a){b.addEventListener?b.addEventListener(g,a,!1):b.attachEvent?b.attachEvent("on"+g,a):b[g]=a}function c(b,g,a,d){return g.protocol+"//"+("c"==d?"cdn1-m"+g.networkId+".algovid.tv":g.conf.mUrl)+"/vpr/"+encodeURIComponent(encodeURIComponent(b))+"/a.jsv"}function d(b,g){g||(g=a);var B=null;b.usejsv?(B=CEDATO_JSV.createVideoElement(),B.setAttribute("preload","auto")):b.hasVideoSupport&&(B=g.createElement("video"));return B}function e(b,g){var a,d;a=g?{}:[];var c=b.slice(b.indexOf("?")+
1).split("&"),f;for(f=0;f<c.length;f++){d=c[f].split("=");g||a.push(d[0]);var e=d[1];g&&(e=decodeURIComponent(e));a[d[0]]||(a[d[0]]=e)}return a}function l(b,g){var a=g.split("//");return 1<a.length?(a[0]=b,a.join("//")):!1}function m(b,g){p(b,"/vpx/request?p="+g.playerId+"&v="+g.vastId)}function t(b,g,a){if("undefined"===typeof a||0>a)a="";var d=((new Date).getTime()-g.loadAdTime)/1E3,d=d.toFixed(1);p(b,"/vpx/loaded?p="+g.playerId+"&v="+g.vastId+"&t="+d+"&m="+a)}function p(b,g){f(b,"tlv_logEvent: "+
g,!1);var a=(new Date).getTime(),d=((new Date).getTime()-b.startTime)/1E3,d=d.toFixed(1),c;c=b.flashSupport?"1":"0";b.protocol||(b.protocol="");a=b.protocol+"//"+b.machineId+""+g+"&sid="+encodeURIComponent(b.subid)+"&domain="+encodeURIComponent(b.domain)+"&cb="+a+"&se="+encodeURIComponent(b.sessionId)+"&pv="+b.playerVersion+"&s="+d+"&f="+c+"&sa="+b.detect;CEDATO_HTTP.sendPixel(a)}function u(b){if(""!=b.debugLog){b.bSubmitted+=b.debugLog.length;if(5E5<b.bSubmitted||18E4<(new Date).getTime()-b.startTime)b.debugLog=
"last packet",b.keepDebugLog=!1;b.debugLogLastSubmitted=Number((new Date).getTime());var g=b.debugLog;b.debugLog="";var a=(new Date).getTime();b=b.protocol+"//"+b.machineId+"/sdl?se="+encodeURIComponent(b.sessionId)+"&sid="+encodeURIComponent(b.subid)+"&domain="+encodeURIComponent(b.domain)+"&cb="+a+"&p="+b.playerId+"&pv="+b.playerVersion+"&r="+encodeURIComponent(b.debugLogReason);CEDATO_HTTP.sendPixel(b,g)}}function r(b){if(1E5>b.debugLogBuffer.length)b.debugLog=b.debugLogBuffer;else{b.debugLog=
b.debugLogBuffer.substr(b.debugLogBuffer.length-1E5);var g=b.debugLog.indexOf("\n");b.debugLog=-1===g?"":b.debugLog.substr(g+1)}b.debugLogBuffer=""}function w(b,g,a,d,c){b.debugLog="";b.debugLogBuffer="";b.debugLogLastSubmitted=(new Date).getTime();b.logDebugToConsole=g;b.keepDebugLog=a;b.keepDetailedDebugLog=d;b.logToHTML=c;b.debugLogBuffer="";b.bSubmitted=0;b.debugLogSubmittedDueToException=!1;c&&(g=k.document.createElement("div"),a=k.document.createElement("pre"),g.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",
g.appendChild(a),k.document.body.appendChild(g),b.debugDocElement=a)}function f(b,g,a){if(!a||b.keepDetailedDebugLog)if(b.logDebugToConsole&&k.console&&console.log((new Date).getTime()+"\t"+g),b.logToHTML&&(b.debugDocElement.innerHTML+=g+"<br>"),g=k.JSON&&k.JSON.stringify?JSON.stringify(g):'"'+g+'"',g=(new Date).getTime()+"\t"+g+"\n",a=g.length,1E5<a&&(g=(new Date).getTime()+"\ttruncated line\n",a=g.length),b.keepDebugLog){var d=b.debugLog.length;0<d&&1E5<d+a&&u(b);b.debugLog+=g;(3E3<(new Date).getTime()-
b.debugLogLastSubmitted||1E5<b.debugLog.length)&&u(b)}else b.debugLogBuffer&&1E7<b.debugLogBuffer.length||(b.debugLogBuffer+=g)}function V(b,g){try{var B=a.createElement("script"),d=a.getElementsByTagName("head")[0]||a.documentElement;B.setAttribute("type","text/javascript");var c=b,c=l(g.protocol,c),Y=(new Date).getTime(),c=c.replace(/\[CB\]/g,Y),c=c.replace(/\[DIVID\]/g,g.divId),Y="";g.callingFlashObject&&g.callingFlashObject.id&&(Y=g.callingFlashObject.id);c=c.replace(/\[FLASHID\]/g,Y);B.src=c;
f(g,"gpv requested script: "+c,!1);d.appendChild(B)}catch(e){}}function K(){var b=a.createElement("iframe");b.src="about:blank";b.width="100%";b.height="100%";b.id="vjs"+Math.floor(5E3*Math.random());b.setAttribute("frameBorder","0");b.setAttribute("scrolling","no");b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.style.overflow="hidden";return b}function L(b,g,B){b=a.createElement("div");b.style.zIndex="0";b.style.width="100%";b.style.height="100%";b.style.position="absolute";b.style.top=
"0px";b.style.left="0px";b.style.margin="0";b.style.padding="0";b.id="vpaidContainerDiv_"+B+"_"+Math.floor(5E3*Math.random());return b}function H(b,g,a,d){var c=L(a.width,a.height,d.vastId);d.jsVPAIDElementDiv=c;a.divElem.appendChild(c);var Y=K();d.jsVpaidFrame=Y;var e=!1,k=!1;Y.onload=function(){var c=Y.contentWindow&&Y.contentWindow.document;if(!c)return!1;c.body.style.margin="0";c.body.style.padding="0";var N;a.usejsv&&a.mainAutoplay?(N=c.createElement("script"),N.setAttribute("type","text/javascript"),
N.src=a.protocol+"//"+a.conf.pJsvUrl,N.addEventListener("load",function(){(e=!0,k)&&g(a,d)},!1),c.body.appendChild(N)):e=!0;N=c.createElement("script");N.setAttribute("type","text/javascript");N.src=b;N.attachEvent&&N.attachEvent("onreadystatechange",function(){"complete"!=N.readyState&&"loaded"!=N.readyState||g(a,d)});N.addEventListener&&N.addEventListener("load",function(){k=!0;e&&k&&g(a,d)},!1);var h=c.createElement("div");h.id="vpaid-js-ad-elem";h.style.margin="0";h.style.padding="0";h.style.position=
"absolute";h.style.left="0";h.style.top="0";d.vpaidJsIframeAdElem=h;c.body.appendChild(h);c.body.appendChild(N);d.companionHTML&&(d.companionsElementDiv=null,d.companionsElementDiv=c.createElement("div"),d.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+a.height+"px; z-index: 0; "),h.appendChild(d.companionsElementDiv),d.companionsElementDiv&&(f(a,"vastId "+d.vastId+" - companionHTML: "+d.companionHTML,!1),d.companionsElementDiv.innerHTML=d.companionHTML))};
c.appendChild(Y)}function C(b,g){try{f(b,"vastId "+g.vastId+" - playPlayer",!1);f(b,"playPlayer: hiding all vasts but "+g.vastId,!0);for(var a=0,d=b.plist.length;a<d;a++)b.plist[a].vastId!=g.vastId&&(b.parallelStartAd&&5==b.plist[a].tlvState||ta(b,b.plist[a]));if("flvpaid"==g.adType||"jsvpaid"==g.adType)g.durationKnown?f(b,"vastId "+g.vastId+" - playPlayer: has already known duration of: "+g.duration,!1):(g.duration=60,f(b,"vastId "+g.vastId+" - playPlayer: no known duration, setting to 60",!1));
else if("video"==g.adType){g.durationKnown=!0;try{g.duration=g.videoElement.duration}catch(c){}f(b,"vastId "+g.vastId+" - playPlayer: duration taken from video element: "+g.duration,!1)}g.vtClickThroughFunc=function(b,g){try{var a,d;this.playerData&&this.playerData.playersStorageName&&(g=this.playerData);a=k[g.playersStorageName];d=g.vastId;f(a,"vastId "+d+" - tracker onClickthrough",!1);b&&k.open(b,"_blank")}catch(B){q(a,d,3,"tracker onClickthrough gave JS exception: ",B,g)}};g.vtFirstQuartileFunc=
function(b){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);g=k[b.playersStorageName];a=b.vastId;f(g,"vastId "+a+" - tracker on-firstQuartile",!1);var d;try{d=b.vastTracker.duration/4}catch(B){d=b.duration/4}d=d.toFixed(2);p(g,"/vpx/mids?p="+b.playerId+"&v="+a+"&d="+d)}catch(B){q(g,a,3,"tracker on firstQuartile gave JS exception: ",B,b)}};g.vtAdVideoStartFunc=function(b){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);g=k[b.playersStorageName];
a=b.vastId;f(g,"vastId "+a+" - tracker on-AdVideoStart",!1);var d;try{d=b.vastTracker.duration/4}catch(B){d=b.duration/4}d=d.toFixed(2);p(g,"/vpx/mids?p="+b.playerId+"&v="+a+"&d="+d)}catch(B){q(g,a,3,"tracker on AdVideoStart gave JS exception: ",B,b)}};g.vtMidPointFunc=function(b){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);g=k[b.playersStorageName];a=b.vastId;f(g,"vastId "+a+" - tracker on-midpoint",!1);var d=b.duration/4,d=d.toFixed(2);p(g,"/vpx/mids?p="+
b.playerId+"&v="+a+"&d="+d)}catch(B){q(g,a,3,"tracker onmidpoint gave JS exception: ",B,b)}};g.vtThirdQuartileFunc=function(b){try{var g,a;this.playerData&&this.playerData.playersStorageName&&(b=this.playerData);g=k[b.playersStorageName];a=b.vastId;f(g,"vastId "+a+" - tracker on-thirdQuartile",!1);var d=b.duration/4,d=d.toFixed(2);p(g,"/vpx/mids?p="+b.playerId+"&v="+a+"&d="+d)}catch(B){q(g,a,3,"tracker onthirdQuartile gave JS exception: ",B,b)}};g.vtCompleteFunc=function(b){try{var g,a;this.playerData&&
this.playerData.playersStorageName&&(b=this.playerData);g=k[b.playersStorageName];a=b.vastId;f(g,"vastId "+a+" - tracker on-complete",!1);g.anyPlaying=Z(g,a);g.anyPlaying||ga(g);var d=b.duration/4,d=d.toFixed(2);p(g,"/vpx/end?p="+b.playerId+"&v="+a+"&d="+d);null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null)}catch(B){q(g,a,3,"tracker on complete gave JS exception: ",B,b)}};g.vtErrorFunc=function(b){try{var g=k[this.playerData.playersStorageName];f(g,"vast tracker on error vastId"+
b.vastId,!1)}catch(a){q(g,b.vastId,3,"tracker onerror gave JS exception: ",a,b)}};g.skipVastTracker?f(b,"vastId "+g.vastId+" - playPlayer: no need for our vastTracker",!1):(f(b,"vastId "+g.vastId+" - playPlayer: initializing vastTracker",!1),null==g.creative.trackingEvents?(g.creative.trackingEvents=[],f(b,"added trackingEvents",!1)):f(b,"had trackingEvents",!1),g.vastTracker=new b.DMVAST.tracker(g.ad,g.creative),g.vastTracker.playerData=g,f(b,"vastId "+g.vastId+" - playPlayer: vastTracker set",!1),
!g.durationKnown&&g.vastTracker.duration&&0<g.vastTracker.duration&&(g.duration=g.vastTracker.duration,f(b,"vastId "+g.vastId+" - playPlayer: duration from tracker: "+g.duration,!1)),g.vastTracker.playerId=b.playerId,g.vastTracker.subid=b.subid,g.vastTracker.domain=b.domain,g.vastTracker.vastId=g.vastId,g.vastTracker.duration=g.duration,g.vastTracker.setDuration(g.duration),f(b,"vastId "+g.vastId+" - playPlayer: creating events",!1),g.vastTracker.on("clickthrough",g.vtClickThroughFunc),g.vastTracker.on("firstQuartile",
g.vtFirstQuartileFunc),g.vastTracker.on("midpoint",g.vtMidPointFunc),g.vastTracker.on("thirdQuartile",g.vtThirdQuartileFunc),g.vastTracker.on("complete",g.vtCompleteFunc),g.vastTracker.on("error",g.vtErrorFunc),f(b,"vastId "+g.vastId+" - playPlayer: events ready",!1));if(!b.scheduledPixelSent){f(b,"vastId "+g.vastId+" - playPlayer: first play - logging scheduled pixel",!1);b.scheduledPixelSent=!0;var N=((new Date).getTime()-b.startTime)/1E3,N=N.toFixed(1);p(b,"/ppx/scheduled?p="+b.playerId+"&t="+
N+"&ft="+b.fpwReadyTime+"&gt="+b.gpvTime+"&dt="+b.domReadyTime+"&gm="+b.gpvM)}f(b,"vastId "+g.vastId+" - playPlayer: playing media",!1);b.parallelStartAd||m(b,g);g.adImpressionCount=0;g.gotLastAdImpressionOn=null;g.adStartCount=0;g.startAdTime=(new Date).getTime();if("flvpaid"==g.adType||"jsvpaid"==g.adType){b.singleVPW?b.callingFlashObject&&"flvpaid"==g.adType&&(b.divElem.style.display="none"):("flvpaid"==g.adType&&(g.flashElementDiv.style.zIndex="9999",g.flashElementDiv.style.position="absolute",
g.flashElementDiv.style.left="0px",g.flashElementDiv.style.top="0px"),"jsvpaid"==g.adType&&g.flashElementDiv&&(g.flashElementDiv.style.display="none"),b.rootDivElem.style.top="0px");var e,h;try{if(g.vpaidPlaying=1,g.tlvState=5,f(b,"vastId "+g.vastId+" - startAd called, uniqId: "+g.uniqId,!1),"flvpaid"==g.adType&&(h="vpw disappeared",e=g.flashElement[g.flashEICallbacks]("vpwStartAd",g.uniqId)),"jsvpaid"==g.adType&&(h="external js exception",e=g.jsVPAIDElement.startAd(),"undefined"===typeof e||e))e=
"1"}catch(c){q(b,g.vastId,5,"startAd failed - "+h+": "+c.message,!1,g);g.vpaidPlaying=0;g.tlvState=10;g.errorCount+=100;J(g,0);"vpaid"==g.adType&&Q(b,g,"startAd");return}if("1"==e)g.sureFastStart=g.expectedSureFastStart;else{g.vpaidPlaying=0;var l=b.parallelStartAd,a="no reason given";try{"flvpaid"==g.adType&&(a=g.flashElement[g.flashEICallbacks]("getLastError",g.uniqId)),"jsvpaid"==g.adType&&(a="external js expcetion")}catch(c){a="getLastError gave exception: "+c.message}q(b,g.vastId,5,"startAd failed - "+
a,!1,g,l);g.tlvState=10;g.errorCount+=100;"flvpaid"==g.adType&&S(b,g,!0);J(g,0);return}if(b.parallelStartAd&&(null!=g.startAdHalfStopper&&(clearTimeout(g.startAdHalfStopper),g.startAdHalfStopper=null),5==g.tlvState)){var fa=function(b,g){g.startAdHalfStopper=null;f(b,"vastId "+g.vastId+" - half stopper point, starting more if ready",!1);n(b,"any")};g.startAdHalfStopper=CEDATO_BROWSER.oldIE?setTimeout(function(){fa(b,g)},7E3):setTimeout(fa,7E3,b,g)}null!=g.startAdStopper&&(clearTimeout(g.startAdStopper),
g.startAdStopper=null);if(5==g.tlvState){l=2E4;g.longStartAd&&(l=35E3);var A=function(b,g){if("flvpaid"==g.adType)try{g.flashElement[g.flashEICallbacks]("vpwStopAd",g.uniqId)}catch(a){}else if("jsvpaid"==g.adType)try{g.jsVPAIDElement.stopAd()}catch(a){}else if("video"==g.adType)try{g.videoElement.pause()}catch(a){}g.startAdStopper=null;g.vpaidPlaying=0;q(b,g.vastId,60,"gave up on startAd",!1,g,b.parallelStartAd);g.tlvState=10;g.errorCount+=100;"flvpaid"==g.adType&&S(b,g,!0);J(g,0);x(b)};g.startAdStopper=
CEDATO_BROWSER.oldIE?setTimeout(function(){A(b,g)},l):setTimeout(A,l,b,g)}}else"video"==g.adType&&(g.videoElement.style.display="block",g.videoElement.style.zIndex="9999",g.tlvState=5,g.sureFastStart=!0,g.videoElement.play(),b.rootDivElem.style.top="0px");f(b,"vastId "+g.vastId+" - playPlayer: done",!1)}catch(c){q(b,g.vastId,3,"playPlayer issue: ",c,g)}}function x(b,g){"undefined"===typeof g&&(g=!1);if(!b.autoplay&&!g)return f(b,"manual mode - not trying to auto play",!1),!1;var a="any";b.readyForStartAd||
(a="1");return n(b,a)}function n(b,g){f(b,"playNextVast called, group: "+g,!1);if(b.anyPlaying)return f(b,"still playing previous media",!1),!1;if(b.parallelStartAd){for(var a=!1,d=0,c=b.plist.length;d<c;d++){var e=b.plist[d];if(5==e.tlvState&&e.sureFastStart){if(3>((new Date).getTime()-e.startAdTime)/1E3)return f(b,"vastId "+e.vastId+" - is sure fast starter and is trying to start - quiting",!1),!1;f(b,"vastId "+e.vastId+" - is sure fast starter and is trying to start but passed grace time",!1)}}d=
0;for(c=b.plist.length;d<c;d++)if(e=b.plist[d],f(b,"vastId "+e.vastId+" tlvState is: "+e.tlvState,!0),4==e.tlvState)if("any"==g||e.group==g){f(b,"vastId "+e.vastId+" tlvState is ready to play",!1);a=!0;C(b,e);if(b.anyPlaying)return!0;if(e.sureFastStart)return f(b,"vastId "+e.vastId+" - sure fast start - breaking",!1),!0}else f(b,"vastId "+e.vastId+" - is ready but on different group",!1);return a}a=!1;d=0;for(c=b.plist.length;d<c;d++)e=b.plist[d],f(b,"vastId "+e.vastId+" tlvState is: "+e.tlvState,
!0),4==e.tlvState&&(a?e.errorCount<a.errorCount&&(a=e):a=e);if(a)return f(b,"vastId "+a.vastId+" tlvState is ready to play",!1),b.anyPlaying=!0,"vpaid"==b.mode&&(b.autoplay=!1),C(b,a),!0;f(b,"no vast is ready to play",!0);return!1}function D(b,g){f(b,"freezing players",!1);b.frozen=!0;var a=g;"undefined"===typeof a&&(a=!1);a?f(b,"destroying all players except for vastId "+a,!1):f(b,"destroying all players",!1);for(var d=!0;d;)for(var d=!1,c=0,e=b.plist.length;c<e;c++)if(b.plist[c].vastId!=a){aa(b,
b.plist[c],!0);d=!0;break}if(g)f(b,"leaving players objects for now",!1);else if(f(b,"removing players objects",!1),null!=b.initialStartAd&&(clearTimeout(b.initialStartAd),b.initialStartAd=null),null!=b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),null!=b.reportVPWStateInterval&&(clearInterval(b.reportVPWStateInterval),b.reportVPWStateInterval=null),b.callingFlashObject)try{b.callingFlashObjectParent.removeChild(b.companionsRootDivElem),b.callingFlashObjectParent.removeChild(b.rootDivElem)}catch(k){f(b,
"removing root divs gave exception: "+k.message,!1)}}function la(b,g,a,d){var c=z(b,g);if(c){var e=c.vastId;f(b,"vastId "+e+" - adImpression called for uniqId: "+g,!1);if("undefined"===typeof d||0>d)d="";b.singleVPW||("jsvpaid"==c.adType?(c.jsVPAIDElementDiv.style.zIndex="10000",c.vpaidJsIframeAdElem&&(c.vpaidJsIframeAdElem.style.zIndex="10000"),c.vpaidJsIframeVideo&&(c.vpaidJsIframeVideo.style.margin="0",c.vpaidJsIframeVideo.padding="0",c.vpaidJsIframeVideo.top="0px",c.vpaidJsIframeVideo.style.left=
"0px",c.vpaidJsIframeVideo.style.position="absolute")):"flvpaid"==c.adType?(c.flashElementDiv.style.zIndex="10000",c.flashElementDiv.style.left="0px"):"video"==c.adType&&(c.videoElement.style.zIndex="10000"));b.contentUrlPlayer&&b.contentUrlPlayer.hideContent();if(!b.anyAdPlayed){b.anyAdPlayed=!0;var k=((new Date).getTime()-b.startTime)/1E3,k=k.toFixed(1);p(b,"/ppx/adplayed?p="+b.playerId+"&t="+k);0>k&&(b.debugLogReason="negative adplayed",r(b),u(b))}if(null!=c.gotLastAdImpressionOn&&3E3>(new Date).getTime()-
c.gotLastAdImpressionOn)return f(b,"vastId "+e+" - second ad impression too soon - ignoring",!1),!0;b.submitDebugLogOnVastDisplayed!=c.vastId||c.keepDebugLog||(r(b),u(b),b.keepDebugLog=!0);if(c.skipVastTracker||null!=c.vastTracker){if(b.parallelStartAd&&b.anyPlaying&&6!=c.tlvState&&7!=c.tlvState){q(b,e,64,"stopped due to parallel double started",!1,c);if("flvpaid"==c.adType)try{c.flashElement[c.flashEICallbacks]("vpwStopAd",c.uniqId)}catch(h){f(b,"parallel dbl-started stopAd of flash vpaid "+c.vastId+
" gave exception: "+h.message,!1)}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.stopAd()}catch(h){f(b,"parallel stopAd of js vpaid "+c.vastId+" gave exception: "+h.message,!1)}else"video"==c.adType&&c.videoElement.pause();c.tlvState=10;b.frozen||("flvpaid"==c.adType&&S(b,c,!0),J(c,0));return!1}c.tlvState=6;c.gotLastAdImpressionOn=(new Date).getTime();if(b.parallelStartAd){b.anyPlaying=!0;"vpaid"==b.mode&&(b.autoplay=!1);f(b,"parallel startAd mode - stopping any other opened startAd",!1);m(b,c);
for(var l=0,fa=b.plist.length;l<fa;l++){var A=b.plist[l];if(A.vastId!=e&&5==A.tlvState){f(b,"vastId "+A.vastId+" - parallel startAd mode - stopping - vastId "+e+" started playing",!1);q(b,A.vastId,63,"stopped due to parallel started",!1,A);A.tlvState=10;if("flvpaid"==A.adType)try{A.flashElement[A.flashEICallbacks]("vpwStopAd",A.uniqId)}catch(h){f(b,"parallel stopAd of flash vpaid "+A.vastId+" gave exception: "+h.message,!1)}else if("jsvpaid"==A.adType)try{A.jsVPAIDElement.stopAd()}catch(h){f(b,"parallel stopAd of js vpaid "+
A.vastId+" gave exception: "+h.message,!1)}else"video"==A.adType&&A.videoElement.pause();ta(b,A);"flvpaid"==A.adType&&S(b,A,!0);J(A,0)}}f(b,"parallel startAd mode - stopping any other opened startAd - done",!1)}var k=0,n=g="";try{l=0;for(fa=b.plist.length;l<fa;l++)if(A=b.plist[l],"flvpaid"==A.adType&&A.flashElement&&A.flashEICallbacks)try{var v=A.flashElement[A.flashEICallbacks]("getMem");if(isNaN(v))n=n+A.vastId+" - NaN, ";else{k+=parseFloat(v);n=n+A.vastId+" - "+v+", ";break}}catch(h){n=n+A.vastId+
" - exception: "+h.message+", "}else n="flvpaid"!=A.adType?n+A.vastId+" - not flash, ":A.flashElement?A.flashEICallbacks?n+A.vastId+" - unknown reason, ":n+A.vastId+" - no callbacks, ":n+A.vastId+" - no flash element, ";g=k}catch(h){n="exception: "+h.message}f(b,"memory check: "+n,!1);k=((new Date).getTime()-c.startAdTime)/1E3;k=k.toFixed(1);l=0;"flvpaid"==c.adType&&(l=c.isIMA?2:1);"jsvpaid"==c.adType&&(l=c.isIMA?4:3);c.hasFlashVPAID&&c.hasJSVPAID&&(l=5);p(b,"/vpx/start?p="+c.playerId+"&v="+e+"&t="+
k+"&r="+c.roundNo+"&m="+d+"&tm="+g+"&y="+l);c.adImpressionCount++;1<c.adImpressionCount?(q(b,c.vastId,61,"double impression: "+c.adImpressionCount,!1,c),m(b,c)):c.skipVastTracker||c.vastTracker.load();if("vpaid"==b.mode)return f(b,"vastId "+e+" - has calling VPAID object - calling events",!1),a&&b.vpaidObj.call("jsAdStarted",{},!0),b.vpaidObj.call("jsAdImpression",{},!0),D(b,c.vastId),!0;b.curAdStarts++;if(b.maxAdStarts&&b.curAdStarts>=b.maxAdStarts)return f(b,"vastId "+e+" - reached maximum number of allowed ad starts, freezing",
!1),D(b,c.vastId),!0;null!=c.sameVastIdLoader&&(clearTimeout(c.sameVastIdLoader),c.sameVastIdLoader=null);if(!b.frozen){var t=function(b,g){try{g.sameVastIdLoader=null;f(b,"vastId "+g.vastId+" - same vastId loader",!1);f(b,"vastId "+g.vastId+" - duplicating player data",!1);var a=[];a.id=g.vastId;a.url=g.vastURL;a.group=g.group;a.lsa=g.longStartAd;a.pid=g.playerId;a.mvr=g.maxFailedVastRetries;for(var c=!1,d=0,B=b.plist.length;d<B;d++)if(b.plist[d].vastId==g.vastId){c=d;break}var e=La(b,a,c);e.duplicatedNow=
!0;b.domReady&&b.vpwCached&&Ma(b,e);Ba(e)}catch(M){q(b,g.vastId,3,"svi gave JS exception: ",M,g)}};c.sameVastIdLoader=CEDATO_BROWSER.oldIE?setTimeout(function(){t(b,c)},5E3):setTimeout(t,5E3,b,c)}null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);if(!b.allowLongImpressions){var w=function(b,g){try{q(b,g.vastId,62,"long impression",!1,g),g.startAdSwitcher=null,g.vpaidPlaying=0,g.tlvState=10,aa(b,g),b.anyPlaying=Z(b,g.vastId),b.anyPlaying||ga(b),x(b)}catch(a){q(b,g.vastId,
3,"sas gave JS exception: ",a,g)}};c.startAdSwitcher=CEDATO_BROWSER.oldIE?setTimeout(function(){w(b,c)},6E4):setTimeout(w,6E4,b,c)}}else f(b,"vastId "+e+" - no vast tracker",!1),J(c,0);return!0}f(b,"adImpression called for a gone uniqId: "+g,!1);F(b,3,"adImpression called for a gone uniqId")}function ba(b,g){try{var a;a=d(b);a.setAttribute("style","height:100% !important;");a.style.width="100%";a.style.zIndex="9994";a.style.position="relative";a.style.top="0px";a.style.left="0px";a.style.backgroundColor=
"black";g.firstPlayEventTriggered=!1;h(a,"play",function(){try{f(b,"vastId "+g.vastId+" - onplay",!1),g.firstPlayEventTriggered?f(b,"vastId "+g.vastId+" - already handled play event",!1):(g.firstPlayEventTriggered=!0,5!=g.tlvState?f(b,"vastId "+g.vastId+" - invalid state, was probably stopped - "+g.tlvState,!1):la(b,g.uniqId,!0)&&(g.errorCount=0,f(b,"vastId "+g.vastId+" - onplay done",!1)))}catch(a){q(b,g.vastId,3,"video onplay gave JS exception: ",a,g)}});h(a,"timeupdate",function(){try{if(!(3>g.tlvState||
10==g.tlvState||"video"!=g.adType)){null!=g.vastTracker&&g.vastTracker.setProgress(a.currentTime);var c=a.duration-a.currentTime,d=a.duration;"vpaid"==b.mode&&(b.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:c.toFixed()},!0),a.currentTime.toFixed()==(d/4).toFixed()&&b.vpaidObj.call("jsAdFirstQuartile",{},!0),a.currentTime.toFixed()==(d/3).toFixed()&&b.vpaidObj.call("jsAdMidpoint",{},!0),a.currentTime.toFixed()==(d/4*3).toFixed()&&b.vpaidObj.call("jsAdThirdQuartile",{},!0))}}catch(f){q(b,
g.vastId,3,"video ontimeupdate gave JS exception: ",f,g)}});h(a,"click",function(a){try{f(b,"vastId "+g.vastId+" - video onclick",!1),g.vastTracker&&g.vastTracker.click(),"vpaid"==b.mode&&b.vpaidObj.call("jsAdClickthrough",{url:a},!0)}catch(c){q(b,g.vastId,3,"video onclick gave JS exception: ",c,g)}});h(a,"error",function(a){try{if(!(3>g.tlvState||10==g.tlvState||"video"!=g.adType)){f(b,"vastId "+g.vastId+" - video onerror",!1);var c=!1;3==g.tlvState&&(c=!0);g.tlvState=10;var d=-1;a.target.error.code&&
a.target.error.code&&(d=a.target.error.code);q(b,g.vastId,4,"video player error code: "+d,!1,g,c);x(b);g.errorCount=5<=g.tlvState?g.errorCount+100:g.errorCount+1;J(g,0)}}catch(B){q(b,g.vastId,3,"video onerror gave JS exception: ",B,g)}});h(a,"canplay",function(){try{if(f(b,"vastId "+g.vastId+" - video oncanplay",!1),"video"!=g.adType)f(b,"vastId "+g.vastId+" - adType not video: "+g.adType,!1);else if(4<g.tlvState)f(b,"vastId "+g.vastId+" - video oncanplay but state is "+g.tlvState,!1);else{null!=
g.playVideoRetry&&(clearInterval(g.playVideoRetry),g.playVideoRetry=null);var c=b.width,d=b.height;a.style.width="100%";a.style.height="100%";c||(c=b.width,d=b.height);c>b.width&&(d=d*b.width/c,c=b.width);d>b.height&&(c=c*b.height/d,d=b.height);var c=Math.floor(c),d=Math.floor(d),e=(b.height-d)/2,e=Math.floor(e);f(b,"vastId "+g.vastId+" - video width: "+c+", height: "+d+", top: "+e,!1);a.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+e+"px";g.tlvState=
4;if("vpaid"==b.mode)try{b.vpaidObj.call("jsAdReadyToStart",{},!0)}catch(k){q(b,g.vastId,3,"video oncanplay gave JS exception: ",k,g)}x(b)}}catch(k){q(b,g.vastId,3,"video oncanplay gave JS exception: ",k,g)}});h(a,"ended",function(){try{f(b,"vastId "+g.vastId+" - video onended",!1),g.firedEvents&&g.firedEvents.complete?f(b,"vastId "+g.vastId+" - dup video ended event",!1):(g.firedEvents.complete=1,b.anyPlaying=Z(b,g.vastId),f(b,"vastId "+g.vastId+" - video onended",!1),b.anyPlaying=Z(b,g.vastId),
b.anyPlaying||ga(b),g.vastTracker?(G("firstQuartile",b,g),G("midpoint",b,g),G("thirdQuartile",b,g),g.vastTracker.complete()):q(b,g.vastId,3,"no vastTracker for ended",!1,g,!1,!1,"vastTracker error"),CEDATO_BROWSER.oldIE?setTimeout(function(){aa(b,g)},10):setTimeout(aa,0,b,g),"vpaid"==b.mode&&(b.vpaidObj.call("jsAdComplete",{},!0),b.divElem.style.display="none"),b.frozen?f(b,"vastId "+g.vastId+" - frozen - finishing here",!1):(b.readyForStartAd&&Da(b),x(b)))}catch(a){q(b,g.vastId,3,"video onended gave JS exception: ",
a,g)}})}catch(c){q(b,g.vastId,3,"video prepare gave JS exception: ",c,g)}return a}function G(b,a,c){b&&a&&c&&c.vastTracker.quartiles&&c.vastTracker.quartiles[b]&&(b=c.vastTracker.quartiles[b],!c.vastTracker.progress||c.vastTracker.progress<b)&&(f(a,"vastId "+c.vastId+" - advancing progress accordingly",!1),c.vastTracker.setProgress(b))}function Q(b,a,c){f(b,"vastId "+a.vastId+" - "+c+" resulted in exception, vpw disappeared",!1);10<a.vpwLoadRetry?(q(b,a.vastId,25,c+" gave up on vpw",!1,a),f(b,"vastId "+
a.vastId+" - "+c+"  too many errors - giving up",!1),a.tlvState=10):(f(b,"vastId "+a.vastId+" - "+c+"  - allowing vpw to reload",!1),S(b,a,!0),f(b,"vastId "+a.vastId+" - "+c+"  - allowing vpw to reload - done",!1))}function R(b,a){try{var c=k[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){ma(c,a.uniqId)},10):setTimeout(ma,0,c,a.uniqId);f(c,"vastId "+a.vastId+" - got js adLoaded event",!1)}catch(d){q(c,a.vastId,3,"jsVpaidAdLoaded callback gave JS exception: ",d,a)}}function T(b,a){try{var c=
k[a.playersStorageName];"undefined"===typeof b?b="no message":"string"!==typeof b&&(b=b.message?b.message:b.data.message?b.data.message:"Couldnt extract error message");CEDATO_BROWSER.oldIE?setTimeout(function(){ua(c,a.uniqId,b)},10):setTimeout(ua,0,c,a.uniqId,b);f(c,"vastId "+a.vastId+" - got js adError event: "+b,!1)}catch(d){q(c,a.vastId,3,"jsVpaidAdError callback gave JS exception: ",d,a)}}function ea(b,a){try{var c=k[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){na(c,a.uniqId)},
0):setTimeout(na,0,c,a.uniqId);try{!c.allowSound&&a.jsVPAIDElement.setAdVolume&&a.jsVPAIDElement.setAdVolume(0)}catch(d){}f(c,"vastId "+a.vastId+" - got js adStarted event: ",!1)}catch(d){q(c,a.vastId,3,"jsVpaidAdStarted callback gave JS exception: ",d,a)}}function W(b,a){try{var c=k[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){oa(c,a.uniqId)},10):setTimeout(oa,0,c,a.uniqId);f(c,"vastId "+a.vastId+" - got js adImpression event: ",!1);try{!c.allowSound&&a.jsVPAIDElement.setAdVolume&&
a.jsVPAIDElement.setAdVolume(0)}catch(d){}}catch(d){q(c,a.vastId,3,"jsVpaidAdImpression callback gave JS exception: ",d,a)}}function X(b,a){try{var c=k[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){Na(c,a.uniqId)},10):setTimeout(Na,0,c,a.uniqId);try{a.jsVPAIDElement.setAdVolume&&a.jsVPAIDElement.setAdVolume(0)}catch(d){}f(c,"vastId "+a.vastId+" - got js AdVideoStart event",!1)}catch(d){q(c,a.vastId,3,"jsVPAdVideoStartFunc callback gave JS exception: ",d,a)}}function U(b,a){try{var c=
k[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){va(c,a.uniqId)},10):setTimeout(va,0,c,a.uniqId);f(c,"vastId "+a.vastId+" - got js FirstQuartile event",!1)}catch(d){q(c,a.vastId,3,"jsVpaidAdFirstQuartile callback gave JS exception: ",d,a)}}function da(b,a){try{var c=k[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){wa(c,a.uniqId)},10):setTimeout(wa,0,c,a.uniqId);f(c,"vastId "+a.vastId+" - got js midpoint event",!1)}catch(d){q(c,a.vastId,3,"jsVpaidAdMidpoint callback gave JS exception: ",
d,a)}}function O(b,a){try{var c=k[a.playersStorageName];CEDATO_BROWSER.oldIE?setTimeout(function(){xa(c,a.uniqId)},0):setTimeout(xa,10,c,a.uniqId);f(c,"vastId "+a.vastId+" - got js adThirdQuartile event",!1)}catch(d){q(c,a.vastId,3,"jsVpaidAdThirdQuartile callback gave JS exception: ",d,a)}}function ja(b,a){try{var c=k[a.playersStorageName];f(c,"vastId "+a.vastId+" - got js adComplete event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){pa(c,a.uniqId)},0):setTimeout(pa,10,c,a.uniqId)}catch(d){q(c,
a.vastId,3,"jsVpaidAdComplete callback gave JS exception: ",d,a)}}function ka(b,a){try{var c=k[a.playersStorageName];f(c,"vastId "+a.vastId+" - got js adStopped event",!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Oa(c,a.uniqId)},10):setTimeout(Oa,0,c,a.uniqId)}catch(d){q(c,a.vastId,3,"jsVpaidAdStopped callback gave JS exception: ",d,a)}}function v(b,a){try{var c=k[a.playersStorageName];"undefined"===typeof b&&(b=!1);if(!b)try{b=a.jsVPAIDElement.duration}catch(d){}f(c,"vastId "+a.vastId+" - got js adRemainingTimeChange event, t:"+
b,!1);b&&(CEDATO_BROWSER.oldIE?setTimeout(function(){ya(c,a.uniqId,b)},10):setTimeout(ya,0,c,a.uniqId,b),f(c,"vastId "+a.vastId+" - got js adRemainingTimeChange event, t:"+b,!1))}catch(d){q(c,a.vastId,3,"jsVpaidAdRemainingTimeChange callback gave JS exception: ",d,a)}}function Va(b,a){try{var c=k[a.playersStorageName];"undefined"===typeof b&&(b="");CEDATO_BROWSER.oldIE?setTimeout(function(){za(c,a.uniqId,b)},10):setTimeout(za,0,c,a.uniqId,b);f(c,"vastId "+a.vastId+" - got js adClickthru event, url: "+
b,!1)}catch(d){q(c,a.vastId,3,"jsVpaidAdClickthru callback gave JS exception: ",d,a)}}function Wa(b,a){try{f(b,"vastId "+a.vastId+" - VPAID JS script loaded",!1);var d=a.jsVpaidFrame;if(1==a.jsVPAIDType){if(!d||!d.contentWindow||!d.contentWindow.getVPAIDAd){q(b,a.vastId,324,"couldn't find js vpaid module",!1,a);a.tlvState=10;a.errorCount+=1;J(a,0);return}var e=d.contentWindow&&d.contentWindow.document,k;k=b.usejsv&&b.mainAutoplay?new d.contentWindow.video_jsv:e.createElement("video");a.vpaidJsIframeVideo=
k;k.setAttribute("preload","auto");k.style.margin="0";k.style.padding="0";k.style.top="0px";k.style.left="0px";k.style.position="absolute";k.style.width="100%";k.style.height="100%";b.usejsv&&b.mainAutoplay&&(k.canPlayType=function(){return"probably"},k.proxyUrl=function(a){return c(a,b)});a.vpaidJsIframeAdElem.appendChild(k);b.usejsv&&b.mainAutoplay&&(a.vpaidJsIframeVideoCanvas=a.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]);a.initAdEnvObject={};a.initAdEnvObject.slot=a.vpaidJsIframeAdElem;
a.initAdEnvObject.videoSlot=a.vpaidJsIframeVideo;a.initAdEnvObject.videoSlotCanAutoPlay=!0;b.usejsv&&!b.mainAutoplay&&(a.initAdEnvObject.videoSlotCanAutoPlay=!1);a.jsVPAIDElement=d.contentWindow.getVPAIDAd()}a.jsVPAIDElement?(a.jsVPAIDElement.handshakeVersion&&a.jsVPAIDElement.handshakeVersion("2.0"),1==a.jsVPAIDType&&(a.jsVPAIDElement.subscribe(function(b){R(b,a)},"AdLoaded"),a.jsVPAIDElement.subscribe(function(b){T(b,a)},"AdError"),a.jsVPAIDElement.subscribe(function(b){ea(b,a)},"AdStarted"),a.jsVPAIDElement.subscribe(function(b){W(b,
a)},"AdImpression"),a.jsVPAIDElement.subscribe(function(b){X(b,a)},"AdVideoStart"),a.jsVPAIDElement.subscribe(function(b){U(b,a)},"AdVideoFirstQuartile"),a.jsVPAIDElement.subscribe(function(b){da(b,a)},"AdVideoMidpoint"),a.jsVPAIDElement.subscribe(function(b){O(b,a)},"AdVideoThirdQuartile"),a.jsVPAIDElement.subscribe(function(b){ja(b,a)},"AdVideoComplete"),a.jsVPAIDElement.subscribe(function(b){ka(b,a)},"AdStopped"),a.jsVPAIDElement.subscribe(function(b){ka(b,a)},"StopAd"),a.jsVPAIDElement.subscribe(function(b){Va(b,
a)},"AdClickThru"),a.jsVPAIDElement.subscribe(function(b){v(b,a)},"AdRemainingTimeChange"),a.jsVPAIDElement.subscribe(function(b){v(b,a)},"AdDurationChange")),f(b,"vastId "+a.vastId+" - VPAID JS element prepared",!1),Ca(b,a)):(q(b,a.vastId,325,"failed to create js vpaid module",!1,a),a.tlvState=10,a.errorCount+=1,J(a,0))}catch(Y){q(b,a.vastId,3,"jsVpaidLoaded callback gave JS exception: ",Y,a)}}function sa(b,g){f(b,"vastId "+g.vastId+" - initMediaLoad",!1);g.tlvState=2;if(g.companionHTML)try{"jsvpaid"!=
g.adType&&(g.companionsElementDiv||(g.companionsElementDiv=a.createElement("div"),g.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+b.height+"px;  "),b.callingFlashObject?b.companionsDivElem.appendChild(g.companionsElementDiv):b.divElem.appendChild(g.companionsElementDiv)),g.companionsElementDiv&&(f(b,"vastId "+g.vastId+" - companionHTML: "+g.companionHTML,!1),g.companionsElementDiv.innerHTML=g.companionHTML))}catch(d){}if("flvpaid"==g.adType||"jsvpaid"==
g.adType)g.durationKnown=!1,b.thirdPartyTimeout&&(-1!=g.mediaURL.indexOf("liverail.com")&&(-1==g.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(g.mediaURL+="&LR_TIMEOUT_ADSOURCE="+b.thirdPartyTimeout,f(b,"vastId "+g.vastId+" - initMediaLoad - added timeout to media file, new url: "+g.mediaURL,!1)),-1==g.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(g.mediaURL+="&LR_TIMEOUT_DELIVERY="+b.thirdPartyTimeout,f(b,"vastId "+g.vastId+" - initMediaLoad - added timeout to media file, new url: "+g.mediaURL,!1))),-1!=
g.mediaURL.indexOf("adap.tv")&&-1==g.mediaURL.indexOf("breakLoadedTimeout")&&(g.mediaURL+="&breakLoadedTimeout="+1E3*b.thirdPartyTimeout,f(b,"vastId "+g.vastId+" - initMediaLoad - added timeout to media file, new url: "+g.mediaURL,!1)));if("flvpaid"==g.adType){b.urlReplacer&&b.urlReplacer.vastId==g.vastId&&-1!=g.mediaURL.indexOf(b.urlReplacer.searchFor)&&(g.mediaURL=b.urlReplacer.replaceWith+g.mediaURL.substr(g.mediaURL.indexOf("?")));f(b,"vastId "+g.vastId+" - initMediaLoad - uniqId: "+g.uniqId+
", flash loadAd with url "+g.mediaURL,!1);try{-1!==g.mediaURL.indexOf("[[IMPORT]]")&&(g.mediaURL=g.mediaURL.replace("[[IMPORT]]",b.protocol+"/")),g.flashElement[g.flashEICallbacks]("vpwLoadAd",g.mediaURL,g.isIMA,12E3,g.playersStorageName,g.uniqId,b.successCallbackFuncName,b.failureCallbackFuncName,b.adLoadedCallbackFuncName,b.adErrorCallbackFuncName,b.adStartedCallbackFuncName,b.adImpressionCallbackFuncName,b.adFirstQuartileEventCallbackFundName,b.adMidpointEventCallbackFuncName,b.adThirdQuartileEventCallbackFundName,
b.adCompleteEventCallbackFuncName,b.adRemainingtimeChangeCallbackFuncName,b.adClickthroughCallbackFuncName,b.adSetCompanionsCallbackFuncName,b.allowSound,b.width,b.height)}catch(d){g.tlvState=1;g.errorCount++;q(b,g.vastId,5,"loadAd failed - vpw disappeared: "+d.message+" ** "+g.flashEICallbacks,!1,g);Q(b,g,"initMediaLoad");return}}else if("jsvpaid"==g.adType)f(b,"vastId "+g.vastId+" - initMediaLoad - loading JS script "+g.mediaURL,!1),H(g.mediaURL,Wa,b,g);else if("video"==g.adType)if(f(b,"vastId "+
g.vastId+" - initMediaLoad - initializing video url to "+g.mediaURL,!0),b.divElem.appendChild(g.videoElement),t(b,g),b.usejsv){var B=c(g.mediaURL,b);g.videoElement.setAttribute("src",B);null!=g.playVideoRetry&&(clearInterval(g.playVideoRetry),g.playVideoRetry=null);var e=function(b,a){f(b,"vastId "+a.vastId+" - jsv play video retry",!1);var g=a.videoElement.getAttribute("src");a.videoElement.setAttribute("src",g)};g.playVideoRetry=CEDATO_BROWSER.oldIE?setInterval(function(){e(b,g)},2E4):setInterval(e,
2E4,b,g)}else g.videoElement.src=g.mediaURL,g.videoElement.preload="auto",g.videoElement.autoplay="",g.videoElement.controls=b.controlBar,g.videoElement.loop="",b.allowSound||(g.videoElement.muted="muted");f(b,"vastId "+g.vastId+" - initMediaLoad - done",!0)}function J(b,a){var c=k[b.playersStorageName];if(null!=b.requeryTimeout)f(c,"vastId "+b.vastId+" - requery vast already scheduled - ignoring",!1);else{null!=b.startAdStopper&&(clearTimeout(b.startAdStopper),b.startAdStopper=null);null!=b.startAdHalfStopper&&
(clearTimeout(b.startAdHalfStopper),b.startAdHalfStopper=null);null!=b.startAdSwitcher&&(clearTimeout(b.startAdSwitcher),b.startAdSwitcher=null);null!=b.playVideoRetry&&(clearInterval(b.playVideoRetry),b.playVideoRetry=null);null!=b.initAdThrottler&&(clearInterval(b.initAdThrottler),b.initAdThrottler=null);try{if(b.flashElement&&b.flashEICallbacks)b.flashElement[b.flashEICallbacks]("clearAd",b.uniqId)}catch(d){}"jsvpaid"==b.adType&&Pa(b);f(c,"vastId "+b.vastId+" - scheduling requery vast",!1);0===
a&&(a=b.freqRetry?10>b.errorCount?1E3+Math.floor(500*Math.random()):100>b.errorCount?2E3+Math.floor(500*Math.random()):110>b.errorCount?2E3+Math.floor(1500*Math.random()):1E4:1==b.errorCount?200:4>b.errorCount?1E3:10>b.errorCount?1E3*b.errorCount:100>b.errorCount?1E4:100==b.errorCount?200:104>b.errorCount?3E3:110>b.errorCount?6E3:3E4,a*=c.vastWaitFactor,f(c,"vastId "+b.vastId+" - wait is set to "+a+", ec: "+b.errorCount,!1));var e=function(b,a){f(b,"vastId "+a.vastId+" - requery",!1);a.requeryTimeout=
null;Ba(a)};b.requeryTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){e(c,b)},a):setTimeout(e,a,c,b)}}function ta(b,a){a.videoElement&&(a.videoElement.style.display="none");null==a.flashElementDiv||b.singleVPW||(a.flashElementDiv.style.zIndex="-1");null!=a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.zIndex="1");a.vpaidJsIframeAdElem&&(a.vpaidJsIframeAdElem.style.zIndex="1");a.vpaidJsIframeVideo&&(a.vpaidJsIframeVideo.style.zIndex="1")}function Ia(b,a){b.domReady?"flvpaid"==a.adType?2===a.vpwLoaded?
(f(b,"vastId "+a.vastId+" - dom is already ready and vpw is loaded - calling initMediaLoad",!0),sa(b,a)):f(b,"vastId "+a.vastId+" - dom is ready but vpw is not loaded yet - initMediaLoad will be called later",!1):(f(b,"vastId "+a.vastId+" - dom is already and this is a video ad - calling initMediaLoad",!1),sa(b,a)):f(b,"vastId "+a.vastId+" - dom is not ready - initMediaLoad will be called later",!1)}function Ba(b){var a=k[b.playersStorageName];if(a.frozen)f(a,"vastId "+b.vastId+" - fpv - frozen - quiting",
!1);else{b.loadAdTime=(new Date).getTime();b.floadCbs=[];b.roundNo++;b.initAdEnvObject=null;var c=0;0<b.maxFailedVastRetries&&(c=b.maxFailedVastRetries);0<a.maxFailedVastRetries&&(0==c||a.maxFailedVastRetries<c)&&(c=a.maxFailedVastRetries);if(0<c&&b.roundNo>c)f(a,"vastId "+b.vastId+" - crossed number of allowed failed retries: "+c,!1),aa(a,b,!0);else{var c=b.vastURL,d=(new Date).getTime(),c=c.replace(/\[CB\]/g,d),c=c.replace(/\[CACHE_BUSTER\]/g,d),c=c.replace(/\[CACHEBUSTING\]/g,d),c=c.replace(/\[WIDTH\]/g,
a.width),c=c.replace(/\[HEIGHT\]/g,a.height);a.info&&(c=c.replace(/\[DEVICEOS\]/gi,encodeURIComponent(a.info.os)),c=c.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(a.info.osv)),c=c.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(a.info.make)),c=c.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(a.info.model)));f(a,"vastId "+b.vastId+" - fetch_player_vast, url: "+b.vastURL,!1);b.ad=null;b.creative=null;b.mediaURL="";b.isFlash=0;b.adType&&(b.previousAdType=b.adType);b.adType=null;b.vpaidPlaying=0;b.vastTracker=
null;b.skipVastTracker=!1;b.hasFlashVPAID=!1;b.hasJSVPAID=!1;ta(a,b);-1!=c.indexOf(".g.doubleclick.net")&&(b.isIMA=!0);b.isIMA?a.flashSupport&&(f(a,"vastId "+b.vastId+" - is IMA",!1),b.isFlash=1,b.adType="flvpaid",b.mediaURL=c,b.companionHTML="",b.tlvState=1,b.skipVastTracker=!0,Ia(a,b)):(d={withCredentials:!0},d.players=a,d.playerData=b,d.urlhandler=Ea,a.DMVAST.client.get(c,d,function(a){try{var c=k[b.playersStorageName],g=b.vastId;f(c,"vastId "+g+" - got response",!1);if(c.frozen)f(c,"vastId "+
g+" - fpv answer - frozen - quiting",!1);else if(a&&a.ads){f(c,"vastId "+g+" - got response with data",!0);f(c,a,!0);for(var d=!1,B=!1,e=!1,M="",h=0,m=0,n=!1,p="",r="",v,u=a.ads.length;0<u;){var t=a.ads[0];f(c,"vastId "+g+" - got ad",!1);f(c,t,!0);for(var u=0,w=t.creatives.length;u<w;u++){var x=t.creatives[u];f(c,"vastId "+g+" - got creative",!0);f(c,x,!0);switch(x.type){case "linear":f(c,"vastId "+g+" - creative is linear with "+x.mediaFiles.length+" medias",!0);for(var z=0,C=x.mediaFiles.length;z<
C;z++){var y=x.mediaFiles[z];f(c,"vastId "+g+" - got media",!0);f(c,y,!0);r+=y.mimeType+",";f(c,"vastId "+g+" - got media - mimeType: "+y.mimeType,!1);if("video/"!=y.mimeType.substr(0,6)&&"application/x-shockwave-flash"!=y.mimeType&&"application/javascript"!=y.mimeType)f(c,"vastId "+g+" - not a video mimeType: "+y.mimeType,!0);else{"application/javascript"==y.mimeType&&(v=b.hasJSVPAID=!0);if("video/"==y.mimeType.substr(0,6)){try{if(!c.usejsv&&!c.hasVideoSupport){f(c,"vastId "+g+" - no video support for mimeType: "+
y.mimeType,!1);continue}b.videoElement||(b.videoElement=ba(c,b));if(!c.usejsv&&!b.videoElement.canPlayType(y.mimeType)){f(c,"vastId "+g+" - unsupported mimeType: "+y.mimeType,!0);continue}}catch(F){}if(c.usejsv&&"video/webm"!=y.mimeType&&"video/mp4"!=y.mimeType&&"video/wmv"!=y.mimeType&&"video/flv"!=y.mimeType){f(c,"vastId "+g+" - unsupported mimeType: "+y.mimeType,!0);continue}}"application/x-shockwave-flash"==y.mimeType&&(b.hasFlashVPAID=!0);if("application/x-shockwave-flash"!=y.mimeType||c.flashSupport){if("application/x-shockwave-flash"!=
y.mimeType&&"application/x-shockwave-flash"!=M){var G;if(!(G=y.deliveryType&&"streaming"==y.deliveryType)){var H=y.fileURL.split("/")[0].toLowerCase();G=!("rtsp:"!=H&&"rtp:"!=H)}if(G){f(c,"vastId "+g+" - dont allow streaming",!0);continue}var D=!0;if(0!=y.bitrate&&0!=h)if(D=!1,y.bitrate>h){f(c,"vastId "+g+" - bitrate is higher than chosen: "+y.bitrate,!0);continue}else y.bitrate==h?D=!0:f(c,"vastId "+g+" - choosing bitrate "+y.bitrate+" over previously chosen bitrate "+h,!0);else if(0!=m&&0!=y.width){var D=
!1,L=y.width*y.height;if(L>m){f(c,"vastId "+g+" - size is higher than chosen: "+y.mediaSize,!0);continue}else L==m?D=!0:f(c,"vastId "+g+" - choosing size "+L+" over previously chosen size "+m,!0)}if(D&&""!=M){if("video/webm"==M){f(c,"vastId "+g+" - same speed but already chosen preferred webm over "+y.mimeType,!0);continue}if("video/ogg"==M&&"video/mp4"==y.mimeType){f(c,"vastId "+g+" - same speed but already chosen preferred ogg over "+y.mimeType,!0);continue}if("video/3gp"==M&&"video/mp4"==y.mimeType){f(c,
"vastId "+g+" - same speed but already chosen preferred 3gp over "+y.mimeType,!0);continue}f(c,"vastId "+g+" - choosing mimeType "+y.mimeType+" over previously chosen "+M,!0)}}D=!1;-1!==y.fileURL.indexOf("cdn.altitude-arena.com")&&(D=!0);if("application/x-shockwave-flash"===y.mimeType){if("application/javascript"==M){if(!b.previousAdType&&!D){f(c,"vastId "+g+" - preferring vpaidjs to flash",!0);continue}if(b.previousAdType&&"application/x-shockwave-flash"===b.previousAdType){f(c,"vastId "+g+" - had flash before now trying JS ",
!0);continue}}if(""!==M&&"application/javascript"!==M&&"application/x-shockwave-flash"!==M){f(c,"vastId "+g+" - prefer video over flash",!0);continue}}if("application/javascript"===y.mimeType){if("application/x-shockwave-flash"===M){if(b.previousAdType&&"application/javascript"==b.previousAdType){f(c,"vastId "+g+" - preferring flash choice if previous is vpaidjs ",!0);continue}if(!b.previousAdType&&D){f(c,"vastId "+g+" - preferring flash to vpaidjs",!0);continue}}if(""!==M&&"application/javascript"!==
M&&"application/x-shockwave-flash"!==M){f(c,"vastId "+g+" - prefer video over JS",!0);continue}}0!=y.bitrate?h=y.bitrate:0!=y.width&&(m=y.width*y.height);M=y.mimeType;d=0;B=u;e=z;n=!0;f(c,"vastId "+g+" - chosen media",!1)}else f(c,"vastId "+g+" - flash mimetype but we don't have flash support",!0)}}break;case "companion":for(var z=0,E=x.variations.length;z<E;z++){var I=x.variations[z];I.width==c.width&&I.height==c.height&&"image/jpeg"!=I.type&&(p=I.htmlResource)}}}if(n){try{t=a.ads[d],x=t.creatives[B],
y=x.mediaFiles[e],f(c,"vastId "+g+" - chosen ad-creative-media",!1),f(c,t,!0),f(c,x,!0),f(c,y,!0),b.adParameters=x.adParameters,1!=t.impressionURLTemplates.length||t.impressionURLTemplates[0]||(t.impressionURLTemplates=[]),b.ad=t,b.creative=x,"application/x-shockwave-flash"==M?(f(c,"vastId "+g+" - media is flash",!1),b.isFlash=1,b.isJSVPaid=0,b.adType="flvpaid"):"application/javascript"==M?(f(c,"vastId "+g+" - media is javascript",!1),b.isFlash=0,b.isJSVPaid=1,b.jsVPAIDType=v,b.adType="jsvpaid"):
(f(c,"vastId "+g+" - media is video",!1),b.isFlash=0,b.isJSVPaid=0,b.adType="video"),b.mediaURL=y.fileURL,c.usejsv||"flvpaid"==b.adType||(b.mediaURL=l(c.protocol,b.mediaURL)),b.companionHTML=p,b.tlvState=1}catch(F){q(c,b.vastId,3,"fpv-chosen gave JS exception: ",F,b,!1,!0);b.errorCount+=1;J(b,0);break}try{Ia(c,b)}catch(F){q(c,b.vastId,3,"fpv-chosen-init2 gave JS exception: ",F,b,!1,!0);b.errorCount+=1;J(b,0);break}}else q(c,b.vastId,27,"no suitable media: "+r,!1,b,!1,!0),f(c,"vastId "+g+" - error - no suitable media",
!1),c.DMVAST.util.track(t.errorURLTemplates,{ERRORCODE:403}),b.errorCount+=1,J(b,0);break}}else q(c,b.vastId,26,"empty vast response",!1,b,!1,!0),f(c,"vastId "+g+" - empty response",!1),b.errorCount+=1,J(b,0)}catch(F){q(c,b.vastId,3,"fpv gave JS exception: ",F,b,!1,!0),b.errorCount+=1,J(b,0)}}))}}}function Xa(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}function z(b,a){for(var c=0,d=b.plist.length;c<d;c++)if(b.plist[c].uniqId==
a)return b.plist[c];return null}function Z(b,a){for(var c=0,d=b.plist.length;c<d;c++)if(b.plist[c].vastId!=a&&6==b.plist[c].tlvState)return!0;return!1}function Ja(b,a){null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var c,d;try{if(f(b,"vastId "+a.vastId+" - calling initAd, uniqId: "+a.uniqId,!1),a.tlvState=3,"flvpaid"==a.adType&&(d="vpw disappeared",c=a.flashElement[a.flashEICallbacks]("vpwInitAd",a.adParameters,a.uniqId)),"jsvpaid"==a.adType){d="external js exception";
var e=!1,e={};e.AdParameters=a.adParameters;!1===e&&(e={});c=a.jsVPAIDElement.initAd(b.width,b.height,"normal",4800,e,a.initAdEnvObject);b.usejsv&&b.mainAutoplay&&0==a.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&a.vpaidJsIframeVideo.appendChild(a.vpaidJsIframeVideoCanvas);if("undefined"===typeof c||c)c="1"}}catch(k){q(b,a.vastId,5,"initAd failed - "+d+": "+k.message,!1,a);a.tlvState=10;a.errorCount+=1;J(a,0);"flvpaid"==a.adType&&Q(b,a,"initAd");return}if("1"==c)f(b,"vastId "+a.vastId+
" - initAd returned success",!1);else{c="no reason given";try{"flvpaid"==a.adType&&(c=a.flashElement[a.flashEICallbacks]("getLastError",a.uniqId)),"jsvpaid"==a.adType&&(c="js vpaid error")}catch(k){c="getLastError gave exception: "+k.message}q(b,a.vastId,5,"initAd failed - "+c,!1,a,!1,!0);a.tlvState=10;a.errorCount+=1;"flvpaid"==a.adType&&S(b,a,!0);J(a,0)}}function Ka(b,a){for(var c="in group "+a.group+", ",d=!0,f=0,e=b.plist.length;f<e;f++)if("1"==b.plist[f].group&&3>b.plist[f].tlvState&&!b.plist[f].errorCount&&
1>=b.plist[f].roundNo){d=!1;break}for(var k=!0,f=0,e=b.plist.length;f<e;f++)if("1"==b.plist[f].group&&6>b.plist[f].tlvState&&!b.plist[f].errorCount&&1>=b.plist[f].roundNo){k=!1;break}if("1"==a.group&&1>=a.errorCount)return c+" and no/low error count";if(a.duplicatedNow)return a.duplicatedNow=!1,c+" just duplicated";if("1"!=a.group&&!k||"1"!=a.group&&b.anyPlaying)return!1;e=f=0;for(k=b.plist.length;e<k;e++)3<=b.plist[e].tlvState&&10!=b.plist[e].tlvState&&f++;if(6>f){if("1"==a.group)return c+" and less than 6 total";
if(d)return c+" and less than 6 total, all group 1 inited"}return!1}function Ca(b,a){null!=a.requeryTimeout&&(f(b,"vastId "+a.vastId+" - cleared pending requery",!1),clearTimeout(a.requeryTimeout),a.requeryTimeout=null);var c=Ka(b,a);if(c)f(b,"vastId "+a.vastId+" - initAd throttler passed: "+c,!1),Ja(b,a);else{f(b,"vastId "+a.vastId+" - initAd throttled, we'll wait",!1);var d=function(b,a){try{var c=Ka(b,a);c&&(f(b,"vastId "+a.vastId+" - initAd throttler passed in interval: "+c,!1),Ja(b,a))}catch(g){q(b,
a.vastId,3,"iat gave JS exception: ",g,a)}};a.initAdThrottler=CEDATO_BROWSER.oldIE?setInterval(function(){d(b,a)},300):setInterval(d,300,b,a)}}function ma(b,a,c){var d=z(b,a);if(d)if(d.firedEvents.AdLoaded)f(b,"AdLoaded fired already",!1);else{d.firedEvents.AdLoaded=!0;var e=d.vastId;if("undefined"===typeof c||0>c)c="";f(b,"vastId "+e+" - got vpaid adLoaded callback, uniqId: "+a+", mem used: "+c,!1);null!=d.requeryTimeout&&(f(b,"vastId "+e+" - cleared pending requery",!1),clearTimeout(d.requeryTimeout),
d.requeryTimeout=null);2>d.tlvState||10==d.tlvState?f(b,"vastId "+e+" - adLoaded on wrong state - ignoring it - "+d.tlvState,!1):3<d.tlvState&&10!=d.tlvState?f(b,"vastId "+e+" - second adLoaded event - ignoring it",!1):(d.tlvState=4,f(b,"vastId "+e+" - marked as ready to play",!0),t(b,d,c),"vpaid"==b.mode&&b.vpaidObj.call("jsAdReadyToStart",{},!0),x(b))}else f(b,"got adLoaded callback for a gone uniq",!1)}function ua(b,a,c){if(a=z(b,a)){var d=a.vastId;f(b,"vastId "+d+" - got vpaid aderror callback, message: "+
c,!1);if(2>=a.tlvState||10==a.tlvState)f(b,"vastId "+d+" - vpaid aderror callback on invalid state - ignoring - "+a.tlvState,!1);else{var e=!1,k=!1;if(1==a.vpaidPlaying){a.vpaidPlaying=0;if(b.parallelStartAd){if(6==a.tlvState||7==a.tlvState)f(b,"vastId "+d+" - was playing",!1),b.anyPlaying=Z(b,d),b.anyPlaying||ga(b)}else f(b,"vastId "+d+" - was playing",!1),b.anyPlaying=Z(b,d),b.anyPlaying||ga(b);null!=a.startAdHalfStopper&&(clearTimeout(a.startAdHalfStopper),a.startAdHalfStopper=null);null!=a.startAdStopper&&
(clearTimeout(a.startAdStopper),a.startAdStopper=null);b.parallelStartAd&&(k=!0)}4>a.tlvState&&(e=!0);null!=a.startAdSwitcher&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null);null!=a.initAdThrottler&&(clearInterval(a.initAdThrottler),a.initAdThrottler=null);var d=22,h="";try{h=c.toLowerCase()}catch(l){}if(-1!=h.indexOf("timeout")||-1!=h.indexOf("timed out"))d=110;if(-1!=h.indexOf("empty")||-1!=h.indexOf("3403"))d=111;-1!=h.indexOf("domain")&&-1!=h.indexOf("block")&&(d=112);if(-1!=h.indexOf("no ad")||
-1!=h.indexOf("there was an error parsing the ad tag response - null, errno: 0"))d=113;if(-1!=h.indexOf("but the server returned a vast error")||-1!=h.indexOf("failed to parse liverail xml response")||-1!=h.indexOf("unknown liverail xml response type"))d=114;if(-1!=h.indexOf("security error")||-1!=h.indexOf("2048"))d=115;if(-1!=h.indexOf("2032")||-1!=h.indexOf("9408")||-1!=h.indexOf("error loading asset : ioerror"))d=116;-1!=h.indexOf("1903")&&(d=117);-1!=h.indexOf("1902")&&(d=118);-1!=h.indexOf("volume violation")&&
(b.debugLogReason="volume",r(b),u(b),b.keepDebugLog=!0,d=300);-1!=h.indexOf("non linear ads")&&(d=157);-1!=h.indexOf("adstart exception")&&(d=156);q(b,a.vastId,d,"onAdError on state "+a.tlvState+" : "+c,!1,a,k,e);a.errorCount=5<=a.tlvState?a.errorCount+100:a.errorCount+1;null!=a.vastTracker&&a.vastTracker.errorWithCode(901);6==a.tlvState||7==a.tlvState?aa(b,a,!0):(a.tlvState=10,"flvpaid"==a.adType&&S(b,a,!0),J(a,0));x(b)}}else f(b,"got adError callback for a gone uniq",!1)}function na(b,a){var c=
z(b,a);c?c.firedEvents.AdStarted?f(b,"AdStarted fired already",!1):(c.firedEvents.AdStarted=!0,c.firedEvents.AdLoaded||ma(b,a,null),c.adStartCount++,1<c.adStartCount&&q(b,c.vastId,61,"double adstart: "+c.adStartCount,!1,c),"vpaid"==b.mode&&b.vpaidObj.call("jsAdStarted",{},!0)):f(b,"got adStarted callback for a gone uniq",!1)}function oa(b,a,c){var d=z(b,a);if(d)if(d.firedEvents.AdImpression)f(b,"AdImpression fired already",!1);else{d.firedEvents.AdImpression=!0;d.firedEvents.AdStarted||na(b,a);if("undefined"===
typeof c||0>c)c="";f(b,"vastId "+d.vastId+" - got flash impression callback, uniqId: "+a+", mem used: "+c,!1);10==d.tlvState||5>d.tlvState?f(b,"vastId "+d.vastId+" - got flash impression callback but in invalid state - ignoring - "+d.tlvState,!1):la(b,d.uniqId,!1,c)&&(null!=d.startAdHalfStopper&&(clearTimeout(d.startAdHalfStopper),d.startAdHalfStopper=null),null!=d.startAdStopper&&(clearTimeout(d.startAdStopper),d.startAdStopper=null),d.errorCount=0)}else f(b,"got adImpression callback for a gone uniq",
!1)}function Na(b,a){var c=z(b,a);c?c.firedEvents.AdVideoStart?f(b,"AdVideoStart fired already",!1):(c.firedEvents.AdVideoStart=!0,c.firedEvents.AdImpression||oa(b,a,null),f(b,"vastId "+c.vastId+" - got flash AdVideoStart callback, uniqId: "+a,!1),"vpaid"==b.mode&&b.vpaidObj.call("jsAdVideoStart",{},!0)):f(b,"got VPAID AdVideoStart callback for a gone uniq",!1)}function va(b,a){var c=z(b,a);if(c){var d=c.vastId;f(b,"vastId "+d+" - got flash adFirstQuartile callback, uniqId: "+a,!1);if(c.skipVastTracker)f(b,
"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtFirstQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.firstQuartile){var e=c.vastTracker.quartiles.firstQuartile;!c.vastTracker.progress||c.vastTracker.progress<e?(f(b,"vastId "+d+" - advancing progress accordingly",!1),c.vastTracker.setProgress(e)):f(b,"vastId "+d+" - progress is in the right place ("+c.vastTracker.progress+")",!1)}}else q(b,c.vastId,3,"no vastTracker for first quartile",!1,
c,!1,!1,"vastTracker error");"vpaid"==b.mode&&b.vpaidObj.call("jsAdFirstQuartile",{},!0)}else f(b,"got flash first quartile callback for a gone uniq",!1)}function wa(b,a){var c=z(b,a);if(c){var d=c.vastId;f(b,"vastId "+d+" - got flash adMidpoint callback",!1);if(c.skipVastTracker)f(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtMidPointFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.midpoint){var e=c.vastTracker.quartiles.midpoint;!c.vastTracker.progress||
c.vastTracker.progress<e?(f(b,"vastId "+d+" - advancing progress accordingly",!1),c.vastTracker.setProgress(e)):f(b,"vastId "+d+" - progress is in the right place",!1)}}else q(b,c.vastId,3,"no vastTracker for midpoint",!1,c,!1,!1,"vastTracker error");"vpaid"==b.mode&&b.vpaidObj.call("jsAdMidpoint",{},!0)}else f(b,"got flash midpoint callback for a gone uniq",!1)}function xa(b,a){var c=z(b,a);if(c){var d=c.vastId;f(b,"vastId "+d+" - got flash adThirdQuartile callback",!1);if(c.skipVastTracker)f(b,
"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtThirdQuartileFunc(c);else if(c.vastTracker){if(c.vastTracker.quartiles&&c.vastTracker.quartiles.thirdQuartile){var e=c.vastTracker.quartiles.thirdQuartile;!c.vastTracker.progress||c.vastTracker.progress<e?(f(b,"vastId "+d+" - advancing progress accordingly",!1),c.vastTracker.setProgress(e)):f(b,"vastId "+d+" - progress is in the right place",!1)}}else q(b,c.vastId,3,"no vastTracker for third quartile",!1,c,!1,!1,"vastTracker error");
"vpaid"==b.mode&&b.vpaidObj.call("jsAdThirdQuartile",{},!0)}else f(b,"got flash third quartile callback for a gone uniq",!1)}function pa(b,a){var c=z(b,a);if(c){ta(b,c);var d=c.vastId;f(b,"vastId "+d+" - got vpaid adComplete callback",!1);if(6!=c.tlvState&&7!=c.tlvState)f(b,"vastId "+d+" - vpaid adcomplete callback on invalid state - ignoring - "+c.tlvState,!1);else{c.tlvState=8;b.anyPlaying=Z(b,d);b.anyPlaying||ga(b);null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);
if(c.skipVastTracker)f(b,"vastId "+d+" - skip vast tracker mode, calling directly",!1),c.vtCompleteFunc(c);else if(null==c.vastTracker)q(b,c.vastId,3,"no vastTracker for complete",!1,c,!1,!1,"vastTracker error");else{if(c.vastTracker.quartiles&&c.vastTracker.quartiles.thirdQuartile){var e=c.vastTracker.quartiles.thirdQuartile;if(!c.vastTracker.progress||c.vastTracker.progress<=e)f(b,"vastId "+c.vastId+" - advancing progress accordingly",!1),c.vastTracker.setProgress(e)}c.vastTracker.complete()}aa(b,
c);"vpaid"==b.mode&&b.vpaidObj.call("jsAdComplete",{},!0);b.frozen?f(b,"vastId "+d+" - frozen - finishing here",!1):(b.readyForStartAd&&Da(b),x(b))}}else f(b,"got vpaid adComplete callback for a gone uniq",!1)}function Oa(b,a){var c=z(b,a);if(c){if(f(b,"vastId "+c.vastId+" - got flash adStopped callback",!1),6==c.tlvState||7==c.tlvState)f(b,"triggering manual AdComplete",!1),pa(b,a)}else f(b,"got flash adStopped callback for a gone uniq",!1)}function za(b,a,c){(a=z(b,a))?(f(b,"vastId "+a.vastId+" - got flash click through callback",
!1),a.skipVastTracker?(f(b,"vastId "+a.vastId+" - skip vast tracker mode, calling directly",!1),a.vtClickThroughFunc(c,a)):null==a.vastTracker?q(b,a.playerData.vastId,3,"no vastTracker for click",!1,a,!1,!1,"vastTracker error"):a.vastTracker.click(),"vpaid"==b.mode&&b.vpaidObj.call("jsAdClickthrough",{url:c},!0)):f(b,"got flash click callback for a gone uniq",!1)}function ya(b,a,c){(a=z(b,a))?(f(b,"vastId "+a.vastId+" - got flash ad remaining time callback, t: "+c,!0),!a.durationKnown||6>a.tlvState?
(f(b,"vastId "+a.vastId+" - got first flash ad remaining time callback, duration set to t: "+c,!0),a.duration=c,a.durationKnown=!0,a.vastTracker&&(a.vastTracker.duration=a.duration)):a.vastTracker&&a.vastTracker.setProgress(a.duration-c),"vpaid"==b.mode&&b.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:c},!0)):f(b,"got flash remaining callback for a gone uniq",!1)}function Ya(a){a.anyVPWLoaded=0;if(a.reportVPWLoaded){a.reportVPWLoaded=!0;a.reportVPWLoadedCount=0;f(a,"vpws - reporting state 0",
!1);p(a,"/ppx/vpws?p="+a.playerId+"&t=0&st=0");var c=function(a){try{f(a,"vpws 10 seconds interval",!1);a.reportVPWLoadedCount++;var b=10*a.reportVPWLoadedCount,c=!1;0<a.anyVPWLoaded||4<a.reportVPWLoadedCount?(f(a,"vpws 10 seconds interval - time to stop",!1),c=!0):(f(a,"vpws - reporting state 0",!1),p(a,"/ppx/vpws?p="+a.playerId+"&t="+b+"&st=0"));c&&(clearInterval(a.reportVPWStateInterval),a.reportVPWStateInterval=null)}catch(d){F(a,3,"rvpwIntervalFunc gave JS exception: "+d.message)}};a.reportVPWStateInterval=
CEDATO_BROWSER.oldIE?setInterval(function(){c(a)},1E4):setInterval(c,1E4,a)}a.floadSuccessCallbackFuncName="flsc"+Math.floor(1000001*Math.random());k[a.floadSuccessCallbackFuncName]=function(a,b,c,d){try{var g=k[a],e=z(g,b);if(e){var h=e.vastId;f(g,"vastId "+h+" - got fload success callback "+c,!1);g.logVastResponse&&(f(g,"vastId "+e.vastId+" - fload response:",!1),f(g,d,!1));if(e.floadCbs[c]){var l={};l.players=g;l.playerData=e;l.urlhandler=Ea;var m=CEDATO_BROWSER.parseTextToXML(d);if(!m)return f(g,
"vastId "+h+" - fload failed - no xmlDocument",!1),e.floadCbs[c](null,null,l);CEDATO_BROWSER.oldIE?setTimeout(function(){e.floadCbs[c](null,m,l)},10):setTimeout(e.floadCbs[c],0,null,m,l)}else f(g,"vastId "+h+" - fload success cb disappeared "+c,!1)}else f(g,"got fload success callback for a gone uniq",!1)}catch(n){g=k[a],e=z(g,b),h=e.vastId,q(g,h,3,"fload success callback gave JS exception: ",n,e)}};a.floadFailureCallbackFuncName="flfc"+Math.floor(1000001*Math.random());k[a.floadFailureCallbackFuncName]=
function(a,b,c,d,g){try{var e=k[a],h=z(e,b);if(h){var l=h.vastId;f(e,"vastId "+l+" - got fload failure callback "+c+", errorCode: "+d+", errorMessage: "+g,!1);if(h.floadCbs[c]){var m={};m.players=e;m.playerData=h;m.urlhandler=Ea;CEDATO_BROWSER.oldIE?setTimeout(function(){h.floadCbs[c](null,null,m)},10):setTimeout(h.floadCbs[c],0,null,null,m)}else f(e,"vastId "+l+" - fload failure cb disappeared "+c,!1)}else f(e,"got fload failure callback for a gone uniq",!1)}catch(n){e=k[a],h=z(e,b),l=h.vastId,q(e,
l,3,"fload failure callback gave JS exception: ",n,h)}};a.successCallbackFuncName="sc"+Math.floor(1000001*Math.random());k[a.successCallbackFuncName]=function(a,b,c){try{var d=k[a],g=z(d,b);if(g){var e=g.vastId;if("undefined"===typeof c||0>c)c="";f(d,"vastId "+e+" - got flash success callback, uniqId: "+b+", mem used: "+c,!1);CEDATO_BROWSER.oldIE?setTimeout(function(){Ca(d,g)},10):setTimeout(Ca,0,d,g)}else f(d,"got fload success callback for a gone uniq",!1)}catch(h){(d=k[a])&&b&&(g=z(d,b),e=g.vastId,
q(d,e,3,"flash success callback gave JS exception: ",h,g))}};a.failureCallbackFuncName="fc"+Math.floor(1000001*Math.random());k[a.failureCallbackFuncName]=function(a,b,c,d){try{var g=k[a],e=z(g,b);if(!e&&g)f(g,"got flash failure callback for a gone uniq",!1);else{var h=function(a,b,c,d,g,e){c=b.vastId;f(a,"vastId "+c+" - got flash failure callback, errorCode: "+g+", errorMessage: "+e,!1);b.tlvState=10;b.errorCount+=1;S(a,b,!0);J(b,0);-1!=e.indexOf("#2035")&&(g=2035,e="URL not found");-1!=e.indexOf("#2036")&&
(g=2036,e="Load not completed");q(a,c,g,"flash failure called: "+e,!1,b,!1,!0);try{b.flashElement[b.flashEICallbacks]("clearAd",b.uniqId)}catch(k){}};CEDATO_BROWSER.oldIE?setTimeout(function(){h(g,e,a,b,c,d)},0):setTimeout(h,0,g,e,a,b,c,d)}}catch(l){g=k[a],e=z(g,b),q(g,e.vastId,3,"flash failure callback gave JS exception: ",l,e)}};a.adLoadedCallbackFuncName="al"+Math.floor(1000001*Math.random());k[a.adLoadedCallbackFuncName]=function(a,b,c){try{var d=k[a],g=z(d,b),f=g.vastId;CEDATO_BROWSER.oldIE?
setTimeout(function(){ma(d,b,c)},10):setTimeout(ma,0,d,b,c)}catch(e){d=k[a],g=z(d,b),f=g.vastId,q(d,f,3,"flash adLoaded callback gave JS exception: ",e,g)}};a.adStartedCallbackFuncName="al"+Math.floor(1000001*Math.random());k[a.adStartedCallbackFuncName]=function(a,b){try{var c=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){na(c,b)},10):setTimeout(na,0,c,b)}catch(d){var g=z(c,b);q(c,g.vastId,3,"flash started callback gave JS exception: ",d,g)}};a.adImpressionCallbackFuncName="ai"+Math.floor(1000001*
Math.random());k[a.adImpressionCallbackFuncName]=function(a,b,c){try{var d=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){oa(d,b,c)},10):setTimeout(oa,0,d,b,c)}catch(g){a=z(d,b),q(d,a.vastId,3,"flash impression callback gave JS exception: ",g,a)}};a.adErrorCallbackFuncName="ae"+Math.floor(1000001*Math.random());k[a.adErrorCallbackFuncName]=function(a,b,c){try{var d=k[a];a=z(d,b);CEDATO_BROWSER.oldIE?setTimeout(function(){ua(d,b,c)},50):setTimeout(ua,50,d,b,c)}catch(g){a=z(d,b),q(d,a.vastId,3,"flash adError callback gave JS exception: ",
g,a)}};a.adFirstQuartileEventCallbackFundName="afq"+Math.floor(1000001*Math.random());k[a.adFirstQuartileEventCallbackFundName]=function(a,b){try{var c=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){va(c,b)},10):setTimeout(va,0,c,b)}catch(d){var g=z(c,b);q(c,g.vastId,3,"flash onFirstQuartile callback gave JS exception: ",d,g)}};a.adMidpointEventCallbackFuncName="am"+Math.floor(1000001*Math.random());k[a.adMidpointEventCallbackFuncName]=function(a,b){try{var c=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){wa(c,
b)},10):setTimeout(wa,0,c,b)}catch(d){var g=z(c,b);q(c,g.vastId,3,"flash onMidpoint callback gave JS exception: ",d,g)}};a.adThirdQuartileEventCallbackFundName="atq"+Math.floor(1000001*Math.random());k[a.adThirdQuartileEventCallbackFundName]=function(a,b){try{var c=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){xa(c,b)},10):setTimeout(xa,0,c,b)}catch(d){var g=z(c,b);q(c,g.vastId,3,"flash onThirdQuartile callback gave JS exception: ",d,g)}};a.adCompleteEventCallbackFuncName="ac"+Math.floor(1000001*
Math.random());k[a.adCompleteEventCallbackFuncName]=function(a,b){try{var c=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){pa(c,b)},0):setTimeout(pa,0,c,b)}catch(d){var g=z(c,b);q(c,g.vastId,3,"flash onComplete callback gave JS exception: ",d,g)}};a.adClickthroughCallbackFuncName="acl"+Math.floor(1000001*Math.random());k[a.adClickthroughCallbackFuncName]=function(a,b,c){try{var d=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){za(d,b,c)},10):setTimeout(za,0,d,b,c)}catch(g){a=z(d,b),q(d,a.vastId,
3,"flash onClickthrough callback gave JS exception: ",g,a)}};a.adSetCompanionsCallbackFuncName="sccl"+Math.floor(1000001*Math.random());k[a.adSetCompanionsCallbackFuncName]=function(a,b,c){try{var d=k[a],g=function(a,b,c){(a=z(d,b))?(f(d,"vastId "+a.vastId+" - got flash set companions HTML callback",!1),a.companionHTML=c,a.companionHTML&&a.companionsElementDiv&&(a.companionsElementDiv.innerHTML=a.companionHTML)):f(d,"got flash set companions callback for a gone uniq",!1)};CEDATO_BROWSER.oldIE?setTimeout(function(){g(a,
b,c)},10):setTimeout(g,0,a,b,c)}catch(e){var h=z(d,b);q(d,h.vastId,3,"flash onSetCompanionsHTML callback gave JS exception: ",e,h)}};a.adRemainingtimeChangeCallbackFuncName="art"+Math.floor(1000001*Math.random());k[a.adRemainingtimeChangeCallbackFuncName]=function(a,b,c){try{var d=k[a];CEDATO_BROWSER.oldIE?setTimeout(function(){ya(d,b,c)},10):setTimeout(ya,0,d,b,c)}catch(g){a=z(d,b),q(d,a.vastId,3,"flash ad remaining time callback gave JS exception: ",g,a)}}}function Qa(a){var c="",d;for(d in a)a.hasOwnProperty(d)&&
(c+="property: "+d+" value: ["+a[d]+"]\n");return c+="toString():  value: ["+a.toString()+"]"}function F(a,c,d,e){e&&(d+=Qa(e));e="/ppx/error?p="+a.playerId+"&en="+c+"&em="+encodeURIComponent(d);p(a,e);f(a,"errorCode "+c+" - "+d,!1);3!=c||a.keepDebugLog||a.debugLogSubmittedDueToException||!a.submitDebugLogOnPlayerError||(a.debugLogReason="player error",r(a),u(a),a.debugLogSubmittedDueToException=!0)}function q(a,c,d,e,k,h,l,m,n){var q,t="";if("undefined"!==typeof h&&h){if(3!=d&&1<h.errorCount)return;
q="";t=5<=h.tlvState?((new Date).getTime()-h.startAdTime)/1E3:((new Date).getTime()-h.loadAdTime)/1E3;t=t.toFixed(1)}else q="";"undefined"===typeof l&&(l=!1);"undefined"===typeof m&&(m=!1);"undefined"===typeof n&&(n="vast error");k&&(e+=Qa(k));k="/vpx/error?p="+h.playerId+"&v="+c+"&en="+d+"&em="+encodeURIComponent(e)+"&mu="+encodeURIComponent(q);l&&(k+="&ls=1");m&&(k+="&lr=1");""!=t&&(k+="&t="+t);p(a,k);f(a,"vastId "+c+" - errorCode "+d+" - "+e,!1);3!=d||a.keepDebugLog||a.debugLogSubmittedDueToException||
!a.submitDebugLogOnVastError||(a.debugLogReason=n,r(a),u(a),a.debugLogSubmittedDueToException=!0)}function Fa(){var a=k.navigator.userAgent;return 0<a.indexOf("MSIE ")?parseInt(a.split("MSIE")[1]):0<a.indexOf("Trident/")?11:0<a.indexOf("Edge/")?12:!1}function Za(a,c){null!=c.vpwWaitFunc&&(clearInterval(c.vpwWaitFunc),c.vpwWaitFunc=null);c.vpwWaitRetries=0;var d=function(a,b){try{b.vpwWaitRetries++;var c=!1,d="";try{b.flashEICallbacks=b.flashElement.connectToJSPlayer(a.playersStorageName,a.vpPlayCallbackFuncName,
a.vpStopCallbackFuncName,a.vpDebugCallbackFuncName),b.flashEICallbacks&&""!=b.flashEICallbacks&&(c=!0,a.singleVPW&&(a.flashEICallbacks=b.flashEICallbacks))}catch(g){d=g.message}if(c){f(a,"vastId "+b.vastId+" - vpw finished init",!1);clearInterval(b.vpwWaitFunc);b.vpwWaitFunc=null;b.vpwLoaded=2;setTimeout(function(){b.flashElementDiv.style.top="0px";b.flashElementDiv.style.left="0px"},50);b.vpwLoadRetry=0;if(2>a.anyVPWLoaded&&(a.anyVPWLoaded=2,a.reportVPWLoaded)){var e=((new Date).getTime()-a.startTime)/
1E3,e=e.toFixed(1),k=((new Date).getTime()-a.firstVPWInitTime)/1E3,k=k.toFixed(1);f(a,"vpws - reporting state 2",!1);p(a,"/ppx/vpws?p="+a.playerId+"&t="+e+"&st=2&t2="+k)}null==a.fpwReadyTime&&(e=((new Date).getTime()-a.startTime)/1E3,e=e.toFixed(1),a.fpwReadyTime=e);1==b.tlvState&&(f(a,"vastId "+b.vastId+" - has schedule media load - calling now",!1),sa(a,b))}else c=5,Fa()&&(c=10),b.vpwWaitRetries>5*c&&(clearInterval(b.vpwWaitFunc),b.vpwWaitFunc=null,Ga(a),f(a,"vastId "+b.vastId+" - vpw won't init on time, last error message: "+
d,!1),S(a,b,!0))}catch(g){F(a,3,"vpwWaitFunc gave JS exception: "+g.message,g)}};c.vpwWaitFunc=CEDATO_BROWSER.oldIE?setInterval(function(){d(a,c)},50):setInterval(d,50,a,c)}function Aa(b,c){b.singleVPW&&!b.flashElement&&b.callingFlashObject&&(b.flashElement=b.callingFlashObject,f(b,"using calling flash object as vpw",!1));if(b.singleVPW&&b.flashElement)f(b,"vastId "+c.vastId+" - single vpw, using player vpw",!1),c.flashElement=b.flashElement,c.flashEICallbacks=b.flashEICallbacks,c.vpwLoaded=2;else{var d=
c.vastId+"-"+Math.floor(1000001*Math.random()),e=a.createElement("div");e.id=d;b.singleVPW?b.flashElementDiv.appendChild(e):c.flashElementDiv.appendChild(e);e="vpwid"+Math.floor(1000001*Math.random());e={data:b.vpwURL+b.vpwVersion,width:b.width,height:b.height,id:e,name:e};f(b,"vastId "+c.vastId+" - vpw url: "+e.data,!1);c.flashElement=CEDATO_SWF.swfobject.createSWF(e,{flashvars:"",allowscriptaccess:"always",wmode:"opaque"},d);c.vpwLoaded=0;c.flashEICallbacks="";b.singleVPW&&(b.flashElement=c.flashElement)}}
function Ha(b){if("vpaid"!=b.mode){var g=b.protocol+b.conf.content.defaultLoader;b.content&&b.content.loader_image_url&&(g=b.content.loader_image_url);var e=b.protocol+b.conf.content.playButton,k=[];if(b.content&&b.content.url&&1==b.content.type)for(var h=b.content.url.split(","),m=0,n=h.length;m<n;m++)b.usejsv&&b.mainAutoplay?k.push(c(h[m],b,null,"c")):k.push(l(b.protocol,h[m]));try{b.contentUrlPlayer=new CEDATO_CONTENT.ContentUnit({parentDiv:b.divElem,contentUrl:k,bannerUrl:g,clickUrl:b.content.click,
playButtonUrl:e,autoPlay:!!b.content.autoplay,volume:b.allowSound?.8:0,loop:!!b.content.loop,controlBar:!!b.controlBar,videoSupport:b.hasVideoSupport,customCreateVideoElement:function(){return b.usejsv&&!b.mainAutoplay?a.createElement("video"):d(b)},userStartPlayingCallback:function(){b.content.playFull&&0!==k.length||(b.content.autoplay=!0,b.autoplay=!0,x(b,!0))},endContentVideoCallback:function(){b.content.playFull&&(b.anyPlaying||(b.autoplay=!0),b.usejsv&&!b.mainAutoplay&&b.contentUrlPlayer.hideContent(),
x(b,!0))},onError:function(a,c){f(b,"Error loading content video: "+b.content.url+" msg:"+c,!1)}})}catch(p){F(b,3,"createRotator rotatorDiv gave JS exception: "+p.message,p)}}}function ga(a){if("single"==a.mode)if(a.contentUrlPlayer)try{a.contentUrlPlayer.showContent()}catch(c){Ha(a)}else Ha(a)}function Ga(a){if(Fa()&&(!a.vpwVersionRenewed||10<((new Date).getTime()-a.vpwVersionRenewed)/1E3)){a.vpwVersionRenewedCount?a.vpwVersionRenewedCount++:a.vpwVersionRenewedCount=1;if(3<a.vpwVersionRenewedCount)return!1;
f(a,"IE detected - using random vpw version",!1);a.vpwVersion=Math.floor(1000001*Math.random());a.vpwVersionRenewed=(new Date).getTime();return!0}return!1}function Ra(a,c){c.vpwStartLoadTime=(new Date).getTime();null!=c.flashInitialTimeout&&(clearInterval(c.flashInitialTimeout),c.flashInitialTimeout=null);null!=c.flashLoadCheckInterval&&(clearInterval(c.flashLoadCheckInterval),c.flashLoadCheckInterval=null);c.vpwLoaded=0;f(a,"vastId "+c.vastId+" - loadVPW - setting FIT",!1);var d=function(a,b){try{if(b.flashElement&&
"undefined"!==typeof b.flashElement.PercentLoaded){clearInterval(b.flashInitialTimeout);b.flashInitialTimeout=null;f(a,"vastId "+b.vastId+" - vpw - started to load flash",!1);null!=b.flashLoadCheckInterval&&(clearInterval(b.flashLoadCheckInterval),b.flashLoadCheckInterval=null);var c=function(a,b){try{if(b.flashElement&&"undefined"!==typeof b.flashElement.PercentLoaded&&b.flashElement.PercentLoaded()&&100===b.flashElement.PercentLoaded()){clearInterval(b.flashLoadCheckInterval);b.flashLoadCheckInterval=
null;f(a,"vastId "+b.vastId+" - vpw - flash loaded",!1);b.vpwLoaded=1;if(1>a.anyVPWLoaded&&(a.anyVPWLoaded=1,a.reportVPWLoaded)){var c=((new Date).getTime()-a.startTime)/1E3,c=c.toFixed(1);a.firstVPWInitTime=(new Date).getTime();f(a,"vpws - reporting state 1",!1);p(a,"/ppx/vpws?p="+a.playerId+"&t="+c+"&st=1")}if(0==b.vastId){if(a.prevpwDiv){f(a,"destroying pre vpw",!1);try{a.prevpwDiv.innerHTML="",a.prevpwDiv.parentNode.removeChild(a.prevpwDiv)}catch(d){}a.vpwCached=!0;a.prevpwDiv=null;Sa(a)}}else Za(a,
b)}}catch(d){-1==d.message.indexOf("NPObject")&&d.message.indexOf("defineGetter")}};b.flashLoadCheckInterval=CEDATO_BROWSER.oldIE?setInterval(function(){c(a,b)},200):setInterval(c,200,a,b)}else 0!=b.vastId&&7E3<(new Date).getTime()-b.vpwStartLoadTime&&(b.vpwLoadRetry++,clearInterval(b.flashInitialTimeout),Ga(a),S(a,b,!0))}catch(d){d.message&&-1==d.message.indexOf("NPObject")&&-1==d.message.indexOf("defineGetter")&&F(a,3,"flashInitialTimeout2 gave JS exception: "+d.message);var g=(new Date).getTime();
0!=b.vastId&&7E3<g-b.vpwStartLoadTime&&(b.vpwLoadRetry++,clearInterval(b.flashInitialTimeout),b.flashInitialTimeout=null,f(a,"vastId "+b.vastId+" - vpw timeouted starting to load",!1),S(a,b,!0))}};c.flashInitialTimeout=CEDATO_BROWSER.oldIE?setInterval(function(){d(a,c)},100):setInterval(d,100,a,c)}function S(a,c,d){if(a.domReady){"undefined"!==typeof c.flashElement&&c.flashElement||(f(a,"vastId "+c.vastId+" - flash disappeared",!1),Aa(a,c));if(d&&(f(a,"vastId "+c.vastId+" - loadVPW - handling reload",
!1),!a.singleVPW))try{try{if(c.flashElement&&c.flashEICallbacks)c.flashElement[c.flashEICallbacks]("clearAd",c.uniqId)}catch(e){}c.vpwLoaded=0;c.flashEICallbacks=null;try{CEDATO_SWF.swfobject.removeSWF(c.flashElement.id)}catch(e){f(a,"vastId "+c.vastId+" - loadVPW - removeSWF failed",!1)}c.flashElementDiv.innerHTML="";c.flashElement=null;Aa(a,c);f(a,"vastId "+c.vastId+" - loadVPW - flash element created",!1)}catch(e){f(a,"vastId "+c.vastId+" - loadVPW - exception - element must have vanished - recreating",
!1),c.flashElementDiv.innerHTML="",Aa(a,c)}a.callingFlashObject||Ra(a,c);f(a,"vastId "+c.vastId+" - loadVPW - done",!1)}else f(a,"vastId "+c.vastId+" - loadVPW - called before dom ready",!1)}function Sa(a){f(a,"post prepare",!1);if(a.domReady)for(var c=0,d=a.plist.length;c<d;c++){var e=a.plist[c];a.vpwCached&&Ma(a,e);1==e.tlvState&&("flvpaid"!=e.adType||2==e.vpwLoaded&&a.vpwCached&&"flvpaid"==e.adType?(f(a,"vastId "+e.vastId+" has schedule media load - calling now",!1),sa(a,e)):f(a,"vastId "+e.vastId+
" has schedule media load but it's flash and vpw is not ready",!1))}else f(a,"post prepare - dom not ready yet - we'll wait",!1)}function qa(b,c){if(0==b.domReadyTime)try{if(f(b,"on dom load",!1),b.rootDivElem=a.getElementById(b.divId),b.rootDivElem){b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null);var d=((new Date).getTime()-b.startTime)/1E3,d=d.toFixed(1);b.domReadyTime=d;f(b,"ondomload - adding div",!1);b.width=b.rootDivElem.clientWidth;b.height=b.rootDivElem.clientHeight;
b.divElem=a.createElement("div");b.divElem.style.cssText="width:100%; height:100%; display: block; overflow:hidden; position: relative; margin: 0; padding: 0; border: 0; background-color: black;";b.rootDivElem.appendChild(b.divElem);f(b,"ondomload - creating rotator",!1);Ha(b);b.domReady=!0;Sa(b)}else if(c>b.conf.maxDomLoadTimes)F(b,6,"div element not found tlvPlayerDomLoaded: "+b.divId);else{f(b,"domload timeout "+c+" retrying in "+b.conf.domLoadRetryTimeout,!1);b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),
b.domLoadTimeout=null);var e=function(a,b){try{f(a,"domload timeout",!1),a.domLoadTimeout=null,a.domLoadTimeout&&(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),qa(a,b+1)}catch(c){}};b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){e(b,c)},b.conf.domLoadRetryTimeout):setTimeout(e,b.conf.domLoadRetryTimeout,b,c)}}catch(k){F(b,3,"tlvPlayerDomLoaded gave JS exception: "+k.message,k)}}function Da(a){if(!a.frozen)if(a.parallelStartAd){for(var c=!0,d=0,e=a.plist.length;d<e;d++)if("1"==
a.plist[d].group&&0==a.plist[d].errorCount){c=!1;break}if(c)f(a,"all have errors, not reseting readyForStartAd",!1);else{f(a,"reseting readyForStartAd",!1);a.readyForStartAd=!1;null!=a.initialStartAd&&(clearTimeout(a.initialStartAd),a.initialStartAd=null);var k=function(a){f(a,"readyForStartAd",!1);a.readyForStartAd=!0;a.initialStartAd=null;x(a)};a.initialStartAd=CEDATO_BROWSER.oldIE?setTimeout(function(){k(a)},12E3):setTimeout(k,12E3,a)}}else a.readyForStartAd=!0}function La(a,c,d){f(a,"initializing player for vastId "+
c.id+", url: "+c.url,!1);var e=[];e.videoElement=null;e.flashElement=null;e.jsVPAIDElement=null;e.jsVPAIDElementDiv=null;e.initAdEnvObject=null;e.companionsElementDiv=null;e.maxFailedVastRetries=0;e.adType=null;e.previousAdType=null;e.firedEvents={};e.group=c.group;e.vastURL=c.url;e.vastId=c.id;e.playerId=c.pid?c.pid:a.playerId;c.mvr&&(e.maxFailedVastRetries=c.mvr);e.longStartAd=!!c.lsa;e.expectedSureFastStart=!!c.sff;e.expectedSureFastStart=!1;e.playersStorageName=a.playersStorageName;e.tlvState=
0;e.vpwLoaded=0;e.vpwLoadRetry=0;e.errorCount=0;e.startAdStopper=null;e.startAdHalfStopper=null;e.startAdSwitcher=null;e.playVideoRetry=null;e.requeryTimeout=null;e.initAdThrottler=null;e.vpwWaitFunc=null;e.flashInitialTimeout=null;e.flashLoadCheckInterval=null;a.curUniq++;e.uniqId=a.curUniq;e.roundNo=0;e.freqRetry=a.usejsv;e.isIMA=!1;"undefined"!==typeof d&&d?a.plist.splice(d,0,e):a.plist.push(e);return e}function Ma(b,c){if(b.flashSupport){if(b.singleVPW){if(!b.flashElementDiv){b.flashElementDiv=
a.createElement("div");b.flashElementDiv.style.position="absolute";try{b.flashElementDiv.style.top="-1000px"}catch(d){}b.flashElementDiv.style.zIndex="1";b.divElem.appendChild(b.flashElementDiv)}c.flashElementDiv=b.flashElementDiv}else{c.flashElementDiv=a.createElement("div");c.flashElementDiv.style.position="absolute";try{c.flashElementDiv.style.top="-1000px"}catch(d){}c.flashElementDiv.style.zIndex="1";b.divElem.appendChild(c.flashElementDiv)}Aa(b,c);null===c.flashElement?F(b,4,"failed to create flash element"):
S(b,c,!1)}}function Pa(a){a.jsVPAIDElementDiv&&(a.jsVPAIDElementDiv.style.display="none");try{a.jsVPAIDElement&&(a.jsVPAIDElement.stopAd(),a.jsVPAIDElement.clearAd&&a.jsVPAIDElement.clearAd())}catch(c){}try{a.jsVPAIDElementDiv&&a.jsVPAIDElementDiv.parentNode.removeChild(a.jsVPAIDElementDiv)}catch(c){}a.jsVpaidFrame=null;a.vpaidJsIframeAdElem=null;a.vpaidJsIframeVideo=null;a.vpaidJsIframeVideoCanvas=null;a.jsVPAIDElement=null;a.jsVPAIDElementDiv=null}function aa(a,c,d){try{"undefined"===typeof d&&
(d=!1);var e=c.vastId;f(a,"vastId "+c.vastId+" - destroying player data, immediate: "+d,!1);c.destroyMe=!0;for(var k=null,h=0,l=a.plist.length;h<l;h++)if(a.plist[h].destroyMe){k=h;break}if(null===k)return!1;a.plist.splice(k,1);null!=c.flashInitialTimeout&&(clearInterval(c.flashInitialTimeout),c.flashInitialTimeout=null);null!=c.flashLoadCheckInterval&&(clearInterval(c.flashLoadCheckInterval),c.flashLoadCheckInterval=null);null!=c.requeryTimeout&&(clearInterval(c.requeryTimeout),c.requeryTimeout=null);
null!=c.requeryTimeout&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);null!=c.startAdHalfStopper&&(clearTimeout(c.startAdHalfStopper),c.startAdHalfStopper=null);null!=c.startAdStopper&&(clearTimeout(c.startAdStopper),c.startAdStopper=null);null!=c.sameVastIdLoader&&(clearTimeout(c.sameVastIdLoader),c.sameVastIdLoader=null);null!=c.startAdSwitcher&&(clearTimeout(c.startAdSwitcher),c.startAdSwitcher=null);null!=c.initAdThrottler&&(clearInterval(c.initAdThrottler),c.initAdThrottler=null);
null!==c.playVideoRetry&&(clearInterval(c.playVideoRetry),c.playVideoRetry=null);if(c.videoElement)try{c.videoElement.parentNode.removeChild(c.videoElement)}catch(m){f(a,"ve removeChild gave exception: "+m.message,!1)}"jsvpaid"==c.adType&&Pa(c);if(a.flashSupport)if(a.singleVPW)n=function(a,b){try{c.flashElement[c.flashEICallbacks]("removeVpaid",b)}catch(d){f(a,"flash removeFunc gave exception: "+d.message,!1)}},d?n(a,c.uniqId):CEDATO_BROWSER.oldIE?setTimeout(function(){n(a,c.uniqId)},1E4):setTimeout(n,
1E4,a,c.uniqId);else{c.flashElementDiv&&(c.flashElementDiv.style.zIndex="0");try{if(c.flashElement&&c.flashEICallbacks)c.flashElement[c.flashEICallbacks]("clearAd",c.uniqId)}catch(m){}var n=function(a,b,c){try{CEDATO_SWF.swfobject.removeSWF(c.id)}catch(d){}try{b&&b.parentNode.removeChild(b),b.innerHTML=""}catch(d){f(a,"removeFunc gave exception: "+d.message,!1)}};c.flashElementDiv&&c.flashElement&&(d?n(a,c.flashElementDiv,c.flashElement):CEDATO_BROWSER.oldIE?setTimeout(function(){n(a,c.flashElementDiv,
c.flashElement)},1E4):setTimeout(n,1E4,a,c.flashElementDiv,c.flashElement))}try{c.companionsElementDiv&&(c.companionsElementDiv.parentNode.removeChild(c.companionsElementDiv),c.companionsElementDiv.innerHTML="",c.companionsElementDiv=null)}catch(m){f(a,"remove companions div gave exception: "+m.message,!1)}}catch(m){q(a,e,3,"destroy player data exception: "+m.message,m,c,!1,!1,"destroy player")}}function $a(b,c){var d=null;if(c){f(b,"prepare calling flash object",!1);"null"!=c&&(d=-1!=navigator.appName.indexOf("Microsoft")?
k[c]:a[c]);if(null==d){for(var e=a.getElementsByTagName("object"),h=0,l=e.length;h<l;h++)if(e[h].connectToJSPlayer){d=e[h];break}if(null==d)for(e=a.getElementsByTagName("embed"),h=0,l=e.length;h<l;h++)if(e[h].connectToJSPlayer){d=e[h];break}}else f(b,"got connceting clash object from prms",!1);if(null==d)return f(b,"could not identify calling object",!1),!1;if(!d.connectToJSPlayer)return f(b,"flash connect callback not found",!1),!1;b.allowLongImpressions=!0}b.callingFlashObject=d}function Ta(a){for(var c=
0,d=a.plist.length;c<d;c++)if(6==a.plist[c].tlvState)return a.plist[c];return!1}function ab(b){f(b,"post prepare js callbacks",!1);b.vpPlayCallbackFuncName="vpp"+Math.floor(1000001*Math.random());k[b.vpPlayCallbackFuncName]=function(a){try{var b=k[a.playersStorageName||a];f(b,"vp play callback called",!1);x(b,!0);b.anyPlaying||(b.autoplay=!0)}catch(c){f(b,"vp play gave JS exception: "+c.message)}};b.vpStopCallbackFuncName="vps"+Math.floor(1000001*Math.random());k[b.vpStopCallbackFuncName]=function(a){try{var b=
k[a.playersStorageName||a];f(b,"vp stop callback called",!1);D(b,!1);b.vpaidObj.call("jsAdStopped",{},!0)}catch(c){f(b,"vp stop gave JS exception: "+c.message)}};b.vpDebugCallbackFuncName="vpd"+Math.floor(1000001*Math.random());k[b.vpDebugCallbackFuncName]=function(a,b,c,d){try{var e=k[a.playersStorageName||a];if(""!=b)if(c){var g=b.split("\n"),h,B=g.length;for(h=0;h<B;h++)""!=g[h]&&f(e,"flash: "+g[h],!1)}else f(e,"flash: "+b,!1)}catch(l){}};b.vpPauseCallbackFuncName="vpps"+Math.floor(1000001*Math.random());
k[b.vpPauseCallbackFuncName]=function(a){try{var b=k[a.playersStorageName||a];f(b,"vp pause callback called",!1);var c=Ta(b);if(c)if(f(b,"vp pause - got playing playerData, vastId: "+c.vastId,!1),"flvpaid"==c.adType){if(c.flashElement)try{c.flashElement[c.flashEICallbacks]("vpwPauseAd",c.uniqId)}catch(d){f(b,"vp pause gave JS exception on flashElement pause: "+d.message)}}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.stopAd()}catch(d){f(b,"vp pause gave JS exception on vpaidjs pause: "+d.message)}else{if("video"==
c.adType)try{c.videoElement.pause()}catch(d){f(b,"vp pause gave JS exception on videoElement pause: "+d.message)}}else f(b,"vp pause - no playing playerData",!1)}catch(d){f(b,"vp pause gave JS exception: "+d.message)}};b.vpResumeCallbackFuncName="vprs"+Math.floor(1000001*Math.random());k[b.vpResumeCallbackFuncName]=function(a){try{var b=k[a.playersStorageName||a];f(b,"vp pause callback called",!1);var c=Ta(b);if(c)if(f(b,"vp resume - got playing playerData, vastId: "+c.vastId,!1),"flvpaid"==c.adType){if(c.flashElement)try{c.flashElement[c.flashEICallbacks]("vpwResumeAd",
c.uniqId)}catch(d){f(b,"vp resume gave JS exception on flashElement pause: "+d.message)}}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.resumeAd()}catch(d){f(b,"vp pause gave JS exception on vpaidjs pause: "+d.message)}else{if("video"==c.adType)try{c.videoElement.play()}catch(d){f(b,"vp resume gave JS exception on videoElement pause: "+d.message)}}else f(b,"vp resume - no playing playerData",!1)}catch(d){f(b,"vp resume gave JS exception: "+d.message)}};b.vpInitAdCallbackFuncName="vpia"+Math.floor(1000001*
Math.random());k[b.vpInitAdCallbackFuncName]=function(b){var c=k[b.playersStorageName||b];b=b.slot;var d=c.rootDivElem?c.rootDivElem:a.getElementById(c.divId);d.parentNode.removeChild(d);b.parentNode.style.margin=0;b.parentNode.style.padding=0;b.appendChild(d);c.vpaidObj.call("jsAdReadyToStart",{},!0)};b.vpSetAdVolumeCallbackFuncName="vpsv"+Math.floor(1000001*Math.random());k[b.vpSetAdVolumeCallbackFuncName]=function(a){f(k[a.playersStorageName||a],"vpSetAdVolumeCallbackFuncName called",!1)};b.vpResizeAdCallbackFuncName=
"vprs"+Math.floor(1000001*Math.random());k[b.vpResizeAdCallbackFuncName]=function(a){f(k[a.playersStorageName||a],"vpResizeAdCallbackFuncName called",!1)};b.vpExpandAdCallbackFuncName="vpex"+Math.floor(1000001*Math.random());k[b.vpExpandAdCallbackFuncName]=function(a){f(k[a.playersStorageName||a],"vpExpandAdCallbackFuncName called",!1)};if("vpaid"==b.mode){var c=a.createElement("div");c.setAttribute("id",b.divId);c.setAttribute("style","width:"+b.width+"px;height:"+b.height+"px;position:relative;top:-"+
b.height+"px;");if(b.callingFlashObject){f(b,"post prepare calling flash object",!1);b.flashEICallbacks=b.callingFlashObject.connectToJSPlayer(b.playersStorageName,b.vpPlayCallbackFuncName,b.vpStopCallbackFuncName,b.vpDebugCallbackFuncName);if(!b.flashEICallbacks||""===b.flashEICallbacks)return f(b,"flash connect callback returned an error",!1),!1;b.vpaidObj.initObj(b.callingFlashObject,"fl",b.playersStorageName,b.flashEICallbacks);f(b,"js connected to flash successfully",!1);var d=b.callingFlashObject.parentNode||
b.callingFlashObject.parentElement;b.callingFlashObjectParent=d;b.callingFlashObject.nextSibling?d.insertBefore(c,b.callingFlashObject.nextSibling):d.appendChild(c)}else if(b.jsCallingVpaid){var e=a.querySelector("body");e.appendChild(c);b.vpaidObj.register("inInitAd",k[b.vpInitAdCallbackFuncName],this);b.vpaidObj.register("inPlayAd",k[b.vpPlayCallbackFuncName],this);b.vpaidObj.register("inStopAd",k[b.vpStopCallbackFuncName],this);b.vpaidObj.register("inPauseAd",k[b.vpPauseCallbackFuncName],this);
b.vpaidObj.register("inResumeAd",k[b.vpResumeCallbackFuncName],this);b.vpaidObj.register("inSetAdVolume",k[b.vpSetAdVolumeCallbackFuncName],this);b.vpaidObj.register("inResizeAd",k[b.vpResizeAdCallbackFuncName],this);b.vpaidObj.register("inExpandAd",k[b.vpExpandAdCallbackFuncName],this);b.vpaidObj.call("ready",{},!0)}}b.rootDivElem=a.getElementById(b.divId);if(b.rootDivElem)return b.width=b.rootDivElem.clientWidth,b.height=b.rootDivElem.clientHeight,b.companionsRootDivElem=a.createElement("div"),
b.companionsDivElem=a.createElement("div"),b.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),b.companionsRootDivElem.appendChild(b.companionsDivElem),b.callingFlashObject?d.insertBefore(b.companionsRootDivElem,c):b.jsCallingVpaid&&(e=a.querySelector("body"),e.appendChild(b.companionsRootDivElem)),!0;F(b,6,"div element not found in post calling flash obj: "+b.divId)}function bb(b){if(b.flashSupport){b.vpwVersion=2;b.vpwURL=b.protocol+"//"+
b.conf.sUrl+"/player/"+b.conf.flName+("?se="+b.sessionId+"pst="+b.startTime+"&")+"v=";Ga(b);b.prevpwDiv=null;b.vpwCached=!0;try{if(b.callingFlashObject)f(b,"calling flash object present, no pre-vpw needed",!1);else if(a&&a.body){f(b,"appending vpw pre loader",!1);b.vpwCached=!1;b.prevpwDiv=a.createElement("div");a.body.appendChild(b.prevpwDiv);var c="vpwp"+Math.floor(1000001*Math.random());b.prevpwDiv.innerHTML='<object id="'+c+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1px" height="1px" codebase="'+
b.protocol+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0"><param name="movie" value="'+b.vpwURL+b.vpwVersion+'" /><param name="allowScriptAccess" value="always"></param>\x3c!--[if !IE]>--\x3e<object type="application/x-shockwave-flash" data="'+b.vpwURL+b.vpwVersion+'" width="1px" height="1px">\x3c!--<![endif]--\x3e\x3c!--[if !IE]>--\x3e</object>\x3c!--<![endif]--\x3e</object>';var d=CEDATO_SWF.swfobject.getObjectById(c);d?(b.prevpwPlayerData=[],b.prevpwPlayerData.vastId=
0,b.prevpwPlayerData.flashElement=d,b.prevpwPlayerData.flashInitialTimeout=null,b.prevpwPlayerData.flashLoadCheckInterval=null,b.prevpwPlayerData.vpwWaitFunc=null,f(b,"vpw pre loader flash element prepared",!1),Ra(b,b.prevpwPlayerData)):(b.prevpwDiv=null,b.vpwCached=!0,f(b,"could not get vpw pre loader flash element",!1))}else f(b,"no document.body",!1)}catch(e){}}}function cb(b,c,d){try{if(d?f(b,"gsv answer from xhr",!1):f(b,"gsv answer from script",!1),b.gpvReturned)f(b,"gsv, already got answer",
!1);else{b.gpvM="2";d&&(b.gpvM="1");b.gpvReturned=!0;if(d)try{a.getElementsByTagName("head")}catch(e){}else try{b.gsvXHR.abort()}catch(e){}var k=((new Date).getTime()-b.startTime)/1E3,k=k.toFixed(1);b.gpvTime=k;f(b,c,!0);f(b,"initializing players",!1);b.urlReplacer=null;d=0;for(var h=c.length;d<h;d++){var l=c[d];"c"==l.id?(l.tpt&&(b.thirdPartyTimeout=l.tpt),b.vastWaitFactor=1,l.vwf&&(b.vastWaitFactor=l.vwf),b.maxFailedVastRetries=0,l.mvr&&(b.maxFailedVastRetries=l.mvr),l.mas&&(b.maxAdStarts=l.mas),
l.sc&&(b.allowSound=l.sc),l.lc&&(b.noContentLoop=!l.lc),l.paf&&(b.adsAfterContent=l.paf,b.adsAfterContent&&(b.autoplay=!1)),b.debugLogReason=l.sdlr?l.sdlr:"gpv","1"==l.sdl&&(f(b,"gpv turned sdl on",!1),r(b),b.keepDebugLog=!0),"1"==l.lvr&&(b.logVastResponse=!0),"1"==l.sdlpe&&(b.submitDebugLogOnPlayerError=!0),"1"==l.sdlve&&(b.submitDebugLogOnVastError=!0),l.vd&&(b.submitDebugLogOnVastDisplayed=l.vd),l.content&&(b.content=l.content),l.ni&&(b.networkId=l.ni),!1===l.ap?(b.autoplay=!1,b.mainAutoplay=!1):
(b.autoplay=!0,b.mainAutoplay=!0),l.rvu&&(b.urlReplacer=[],b.urlReplacer.vastId=l.rvu.v,b.urlReplacer.searchFor=l.rvu.s,b.urlReplacer.replaceWith=l.rvu.r,b.vpwURL&&(b.vpwURL=b.vpwURL.replace("v=","edl=2&v="))),b.allowSound=l.as?l.as:!1,b.controlBar=l.co?l.co:!1,l.content?(b.content.url=l.content.url,b.content.loader_image_url=l.content.loader_image_url,b.content.type=l.content.type,b.content.loop=!!(1*l.content.cl),b.content.click=l.content.click,b.content.playFull=!!(1*l.content.cpf),b.content.autoplay=
l.ap,b.content.playFull&&(b.autoplay=!1)):(b.content.url="",b.content.loader_image_url="",b.content.type=0,b.content.loop=!0,b.content.click="",b.content.playFull=!1,b.content.autoplay=!0,!1===l.ap&&(b.content.autoplay=!1)),l.is&&V(l.is,b)):La(b,l)}Da(b);if("single"==b.mode){b.domLoadTimeout=null;CEDATO_SWF.swfobject.addDomLoadEvent(function(){try{b.domLoadTimeout&&(clearTimeout(b.domLoadTimeout),b.domLoadTimeout=null),qa(b,1)}catch(a){F(b,3,"ondomload gave JS exception: "+a.message,a),f(b,"ondomload gave JS exception: "+
a.message,!1)}});var m=function(a){try{f(a,"domload timeout",!1),a.domLoadTimeout&&(clearTimeout(a.domLoadTimeout),a.domLoadTimeout=null),qa(a,1)}catch(b){}};b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){m(b)},b.conf.domLoadInitTimeout):setTimeout(m,b.conf.domLoadInitTimeout,b)}else b.domLoadTimeout=CEDATO_BROWSER.oldIE?setTimeout(function(){qa(b,1)},0):setTimeout(qa,0,b,1);f(b,"initiating fetch",!1);d=0;for(h=b.plist.length;d<h;d++)Ba(b.plist[d])}}catch(e){F(b,3,"gpv gave JS exception: "+
e.message,e)}}function Ua(a){try{k&&(k.onerror=function(a,b,c,e,g){try{-1===b.indexOf("algovid")&&-1===b.indexOf("tlvmedia")||f(d,"Unhandeled exception "+a+" == "+b+" == "+c,!1)}catch(h){}});var c=0,d=[],h=e(a);if(h.p&&h.sid){var l=h.p;a=[];a.push(l);-1!==l.indexOf(",")&&(a=l.split(","),l=a[0]);var m;h.d&&(m=decodeURIComponent(h.d));var n=(new Date).getTime(),q=decodeURIComponent(h.sid),r;r=h.did?decodeURIComponent(h.did):h.cb?"video"+l+decodeURIComponent(h.cb):"video"+l;var t="101.66";h.playerVersion&&
(t=h.playerVersion);var v="s8.algovid.com";h.mid&&(v=h.mid);var u=!1,x=!1;2==h.cnl&&(u=!0);3==h.cnl&&(x=u=!0);var z=!1;1==h.sv&&(z=!0);var D=!0;0==h.ap&&(D=!1);var C=!1;!C&&Fa();2==h.sdl&&(C=!0);var G;G=h.se?h.se:Xa();var H=300,J=250;isNaN(h.w)||(H=h.w);isNaN(h.h)||(J=h.h);var L=!1;1==h.lvr&&(L=!0);var I=!1,E,R=[];1==h.app&&(I=!0);var y=!1;h.tpt&&(y=h.tpt);var S={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(I){var K=
"appsu appidfa appv appn appb appc appaid".split(" ");for(E in K)K.hasOwnProperty(E)&&(S[K[E]]=!0,h[K[E]]&&R.push(K[E]+"="+encodeURIComponent(h[K[E]])));!h.d&&h.appn&&(m="app://"+encodeURIComponent(h.appn))}K=!1;if(1==h.jsv||I)K=!0;var O=h.ob,P=h.job,U=!1;h.hasOwnProperty("muted")&&"0"==h.muted&&(U=!0);var V=!1;h.mas&&(V=h.mas);var W=!1;E="";for(var Q in h)isNaN(Q)&&!S[Q]&&h.hasOwnProperty(Q)&&(E=E+"&"+Q+"="+h[Q]);try{d.playerId=l;d.subid=q;d.domain=m;d.sessionId=G;d.anyAdPlayed=!1;d.startTime=(new Date).getTime();
d.fpwReadyTime=null;d.scheduledPixelSent=!1;d.width=H;d.height=J;d.domReady=!1;d.domReadyTime=!1;d.anyPlaying=!1;d.divId=r;d.playerVersion=t;d.machineId=v;d.parallelStartAd=!0;d.usejsv=!1;O||(d.info=CEDATO_DEVICE.getDeviceInfo());d.initialStartAd=null;d.curUniq=0;d.logVastResponse=L;d.content=!1;d.singleVPW=z;d.autoplay=D;d.allowLongImpressions=!1;d.reportVPWStateInterval=null;d.allowSound=U;d.adsAfterContent=!1;d.maxAdStarts=V;d.curAdStarts=0;d.noContentLoop=!1;d.gpvM="0";d.vpwCached=!0;d.mode="single";
d.conf={};d.conf.flName="cedato_vpw_ima_101.60.swf";d.conf.sUrl="c.algovid.com";d.conf.pJsvUrl=d.conf.sUrl+"/player/jsv_pure.js";d.conf.mUrl="mc.algovid.com";d.conf.maxDomLoadTimes=60;d.conf.domLoadRetryTimeout=200;d.conf.domLoadInitTimeout=200;d.conf.content={};d.conf.content.defaultLoader="//"+d.conf.sUrl+"/player/spinner.gif";d.conf.content.playButton="//"+d.conf.sUrl+"/player/play_button_gr.png";d.content={};if(u||C)d.debugLogReason="tag";d.submitDebugLogOnPlayerError=!1;d.submitDebugLogOnVastError=
!1;d.submitDebugLogOnVastDisplayed=!1;d.thirdPartyTimeout=y;d.plist=[];d.protocol=CEDATO_URLUTILS.getProtocol(d.domain);d.detect=CEDATO_DETECT_UTILS.getStatsParam(d);c=1;w(d,u,C,x,!1);f(d,"player initialized. player version: "+d.playerVersion+", playerId: "+l+", subid: "+d.subid+", domain: "+d.domain+", singleVPW: "+d.singleVPW+", autoplay: "+d.autoplay+", width: "+d.width+", height: "+d.height,!1);f(d,"ua: "+k.navigator.userAgent,!1);d.domainDetected=CEDATO_URLUTILS.getDetectedDomain();f(d,"domain detected: "+
d.domainDetected,!1);d.domain?f(d,"domain received in param: "+d.domain,!1):(d.domain=d.domainDetected,f(d,"using detected domain: "+d.domain,!1));d.hasVideoSupport=!0;CEDATO_BROWSER.oldIE&&(f(d,"old ie",!1),9>CEDATO_BROWSER.msie.version&&(f(d,"no video support",!1),d.hasVideoSupport=!1));d.hasVideoSupport&&!CEDATO_BROWSER.supportsVideo()&&(f(d,"no video support using test",!1),d.hasVideoSupport=!1);d.info?f(d,"get device info returned mobile: "+d.info.mobile+", os: "+d.info.os+", osv: "+d.info.osv+
", make: "+d.info.make+", model: "+d.info.model,!1):f(d,"get device info failed",!1);q||F(d,6,"subid not defined");r||F(d,6,"divId not defined");l||F(d,6,"playerId not defined");c=2;d.playersStorageName="tlvp"+Math.floor(1000001*Math.random());k[d.playersStorageName]=d;if(O||P)d.mode="vpaid",d.vpaidObj=CEDATO_VPAID_OBJ.getVpaid();P&&(d.jsCallingVpaid=P,d.vpaidObj.initObj(P,"js",d.playersStorageName));d.detect=CEDATO_DETECT_UTILS.getStatsParam(d);c=15;$a(d,O);m=encodeURIComponent(m);c=3;"undefined"===
typeof tlvplayer&&(tlvplayer=null);c=41;CEDATO_ES5.include();c=42;d.DMVAST=DMVAST;d.flashSupport=!1;K&&(d.flashSupport=!1,d.info.mobile=!0,d.usejsv=!0);c=5;d.flashSupport=O?!0:d.usejsv||d.info&&d.info.mobile?!1:CEDATO_SWF.swfobject.hasFlashPlayerVersion("10.0.1");var X="/ppx/start?p="+d.playerId;p(d,X);W=!0;d.info&&!d.info.mobile&&5==Math.floor(100*Math.random())&&(d.reportVPWLoaded=!0);if(d.flashSupport)Ya(d);else if(d.usejsv||d.info&&d.info.mobile)d.usejsv=d.info.mobile,d.usejsv&&f(d,"using jsv",
!1),d.parallelStartAd=!1;else{if(CEDATO_SWF.swfobject.hasFlashPlayerVersion("6.0.0")){l=h="";try{h=navigator.userAgent(),l=CEDATO_SWF.swfobject.getFlashPlayerVersion()}catch(ca){}F(d,2,"noflash old ver "+l+": "+h)}d.reportVPWLoaded&&p(d,"/ppx/vpws?p="+d.playerId+"&st=3")}c=52;if(d.usejsv){f(d,"jsv loaded",!1);try{CEDATO_JSV.include()}catch(ca){}d.hasVideoSupport=!0}c=53;bb(d);c=54;ab(d);c=6;f(d,"calling gpv",!1);if(I){var T=R.join("&");T&&(E="&"+T)}d.gpvReturned=!1;var Z;Z=d.flashSupport?"1":"0";
var aa;aa=d.hasVideoSupport?"1":"0";T="";d.domainDetected!==d.domain&&(T=encodeURIComponent(d.domainDetected));var ba=CEDATO_URLUTILS.buildUrl(d.protocol+"//"+d.machineId+"/player/get_player_vasts?",{p:a.join(","),cb:n,d:d.domain,sid:q,pv:t,w:H,h:J,f:Z,dd:T,vs:aa,extra:E});CEDATO_HTTP.GetPlayerVast({url:ba,retryInterval:1E4,retries:2,success:cb,externals:{players:d,debugLog:f,playerError:F}})}catch(ca){F(d,3,"init stage "+c+" gave JS exception: "+ca.message,ca)}}}catch(ca){d.playerId||(d.playerId=
"0"),d.machineId||(d.machineId="s8.algovid.com"),d.subid||(d.subid=""),d.playerVersion||(d.playerVersion="101.66"),d.sessionId||(d.sessionId=""),0===c&&w(d,!1,!1,!1,!1),F(d,3,"init error  gave JS exception: "+encodeURIComponent(ca.message),ca),W||(X="/ppx/start?p="+d.playerId,p(d,X))}}var Ea=function(){function a(){}a.xhr=function(){return CEDATO_BROWSER.createXMLHTTPObject()};a.supported=function(){return!!this.xhr()};a.get=function(c,d,e){var h=d.players;CEDATO_HTTP.FetchVastService.get({vastId:null,
url:c,flashSupport:h.flashSupport,exceptionHeaders:[],onNonRetry:function(a,b){},externals:{players:h,playerData:d.playerData,fixURLPrm:l,debugLog:f,vastError:q,cb:e,vastURLHandler:a,vpwException:Q}})};return a}(),ra=a.getElementsByTagName("script"),I,ha;for(ha in ra)if(ra.hasOwnProperty(ha)){var P=ra[ha].src||"";if(-1!=P.indexOf("cedato_player")||-1!=P.indexOf("tlvplayer"))I=P}ha=ra.length;var E,P={},ia;if(0<ha&&(E=I,P=e(E),I=E.indexOf("algovid"),ia=E.indexOf("tlvmedia"),(-1===I||18<I)&&(-1===ia||
18<ia)||!P.p)){try{E=CEDATO_URLUTILS.ScriptPath(),P=e(E)}catch(b){E=""}I=E.indexOf("algovid");ia=E.indexOf("tlvmedia");if((-1===I||18<I)&&(-1===ia||18<ia)||!P.p){I=-1;for(I=ha-2;0<=I&&(E=ra[I].src,-1===E.indexOf("algovid")&&-1===E.indexOf("tlvmedia"));--I);P=e(E)}}P.ob||P.job||Ua(E);k.viddspPlayerInit=Ua})(window,document);

