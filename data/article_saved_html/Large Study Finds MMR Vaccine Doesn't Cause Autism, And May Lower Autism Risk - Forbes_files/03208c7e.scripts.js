angular.module("fbsMapper",[]),angular.module("forbesArticleApp",["fbsSharing"]),angular.module("forbesContributorsApp",[]),angular.module("forbesCSFApp",[]);var brightcove=brightcove||void 0,forbes_app=angular.module("forbesApp",["ngSanitize","ngRoute","ngAnimate","ngTouch","fbsMapper","fbsAds","fbsBreakPoint","fbsModal","fbsLogin","fbsSharing","fbsTracking","forbesContributorsApp","forbesArticleApp","forbesCSFApp"]).config(["$routeProvider","$locationProvider","$controllerProvider","$httpProvider","$compileProvider",function(a,b,c,d,e){var f=angular.injector(["fbsMapper"]).get("fbsMapper.TemplateMap");a.when("/sites/:contrib_slug/:year/:month/:day/:article/",{templateUrl:f.article_page,controller:"ArticlePageController",resolve:{type:function(){return"article"}}}).when("/sites/:contrib_slug/:year/:month/:day/:article/:page*",{templateUrl:f.article_page,controller:"ArticlePageController",resolve:{type:function(){return"article"}}}).when("/preview/sites/:preview_url*",{templateUrl:f.article_page,controller:"ArticlePageController",resolve:{type:function(){return"article"}}}).when("/sites/:contrib_slug/archive/:year/:month/",{templateUrl:f.contrib_page,controller:"ContribPageController",resolve:{type:function(){return"contrib"}}}).when("/sites/:contrib_slug/",{templateUrl:f.contrib_page,controller:"ContribPageController",resolve:{type:function(){return"contrib"}}}).when("/sites/:contrib_slug/people/:author_slug/",{templateUrl:f.contrib_page,controller:"ContribPageController",resolve:{type:function(){return"contrib"}}}).when("/sites/:contrib_slug/:subblog_id/",{templateUrl:f.contrib_page,controller:"ContribPageController",resolve:{type:function(){return"contrib"}}}).otherwise({templateUrl:f.csf_page,controller:"CsfPageController",resolve:{type:function(){return"csf"}}}),b.html5Mode(!0),d.responseInterceptors.push("HttpInterceptorFactory"),forbes_app.lazyCompileProvider=e}]).run(["$route","$rootScope","$location","fbsMapper.TemplateMap","ContribAppState","fbsModalService","ScrollHandlerService","StringHelperService","UtilsService",function(a,b,c,d,e,f,g,h,i){FastClick.attach(document.body),g.bindEvents(),e.edit_tools=document.cookie.indexOf("forbeseditor")>-1&&document.cookie.indexOf("forbes_tools")>-1?!0:!1,f.modal_template_url=d.shared_modal_template,c.$$html5&&(i.sharing_hash=h.harvestSharingHashTree(c.hash()),c.hash(i.sharing_hash).replace());var j=c.path;c.path=function(d,e){if(e===!1)var f=a.current,g=b.$on("$locationChangeSuccess",function(){a.current=f,g()});return j.apply(c,[d])}}]);angular.module("forbesApp").directive("stickyAdUnit",["ScrollHandlerService",function(a){return{restrict:"AE",replace:!1,scope:{options:"=stickyAdUnit"},link:function(b,c,d){if(b.options!==!1){if(!b.options)throw new Error("Arbitrary handlers not yet supported");if(!b.options.name)throw new Error("Next diff will contain arbitrary names, otherwise pick one");a.register({name:b.options.name,scope:b.options.scope||{},priority:0,scroll:b.options.scroll||function(a,b){},onRegister:b.options.onRegister||null,onDestroy:b.options.onDestroy||null}),b.$on("$destroy",function(){a.unregister(b.options.name)})}}}}]),angular.module("forbesApp").service("fbsService",["$route","$injector",function(a,b){var c,d;return"contrib"===a.current.locals.type&&(d=b.get("ContribAdService")),c=Object.create(d)}]),angular.module("forbesApp").controller("AuthorFollowLinksController",["$scope","fbsUserFormFactory","fbsUserDataService",function(a,b,c){var d=this;a.initialized=!1,a.unireg_class="unireg_login",this.initEmailForm=function(){var d,e=a.user,f=a.author;e||(e={name:"",user_email:""}),d='<div class="modal_screen email_contributor"><div class="heading"><h2>Contact '+f.name+'</h2><div class="shelf_shadow"></div></div><div class="main"><div class="main_error_msg" style="display:none;"></div><form user-form-intercept ng-submit="interceptSubmit($event)" id="following_form" class="forbes_forms v1" name="user" method="post"><div class="input_block clearfix"><div class="col1"><label for="user_name">Name</label><input class="textbox user_name" type="text" name="user_name" value="'+e.name+'" id="email_form_user_name"><span class="error_msg"></span></div><div class="col2"><label for="user_email">Email</label><input class="textbox email" type="text" name="user_email" value="'+e.user_email+'" id="email_form_user_email"><span class="error_msg"></span></div></div><div class="input_block"><label for="email_subject">Subject*</label><input class="textbox subject" type="text" name="email_subject" value="" id="email_form_subject"><span class="error_msg"></span></div><div class="input_block"><label for="email_body">Message*</label><textarea class="textarea" name="email_body" value="" id="email_form_body"></textarea><span class="error_msg"></span><input type="hidden" name="contributor_email" id="email_form_contributor_email" value="'+f.email+'" /><input type="hidden" name="contributor_author" id="email_form_contributor_name" value="'+f.name+'" /></div><a data-submit-button="true" class="fancy_button submit" ng-click="interceptSubmit($event)"><span class="outer"><span class="inner"><span class="icon"></span><span class="label">Send</span></span></span></a><div class="small_required">*Required Field</div><a class="fancy_button modal_close hidden" ng-click="hideModal()"><span class="outer"><span class="inner"><span class="icon"></span><span class="label">Close</span></span></span></a></form></div></div>',b.custom_form_cache.unireg_email_form={content:d,width:750,height:550,submit:function(a,d){var e,f=d.find("#email_form_user_name"),g=d.find("#email_form_user_email"),h=d.find("#email_form_contributor_name"),i=d.find("#email_form_contributor_email"),j=d.find("#email_form_subject"),k=d.find("#email_form_body"),l=$(".email_contributor"),m=l.find(".heading").find("h2"),n=l.find(".main"),o=l.find(".main_error_msg"),p=n.find("form"),q=p.find(".modal_close"),r=p.find(".submit"),s=!1,t=function(a,b,c,d){var e=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?");c&&""===a.val()?(a.parent().addClass("error"),a.parent().find(".error_msg").html(d),s=!0):(a.parent().removeClass("error"),a.parent().find(".error_msg").empty()),"email"===b&&""!==a.val()&&e.test(a.val())===!1&&(a.parent().addClass("error"),a.parent().find(".error_msg").html(d),s=!0)};return t(g,"email",!1,"Email provided is not a valid format."),t(j,"",!0,"Message subject is required."),t(k,"",!0,"A Message is required."),s?!1:(c.user_action_in_progress=!0,d.find(".fancy_button.submit").find(".label").html("Sending..."),e={action:"unireg_email",user_name:f.val(),user_email:g.val(),email_subject:j.val(),email_body:k.val(),contrib_email:i.val(),contrib_author:h.val()},void b.attemptUserFormPost(e,"/add").then(function(a){"success"===a.data&&200===a.status?(p.find("div, a.submit").remove(),m.html("Thank You"),$("<h3>Your email has been sent to "+e.contrib_author+".</h3>").insertBefore(q),q.removeClass("hidden")):(a.data.error&&a.data.errors&&o.html(a.data.errors[0].msg_html).show(),o.html("An error occurred.").show(),r.find(".label").html("Send"),c.user_action_in_progress=!1)},function(a){c.user_action_in_progress=!1,o.html("There was an error connecting to the server: "+a.data).show(),r.find(".label").html("Send")}))}}},this.userChanged=function(){c.initialized&&(a.initialized=!0,c.user?(a.user=c.user,a.unireg_class="unireg_email_form"):(a.user=c.user,a.unireg_class="unireg_login"),d.initEmailForm())},a.$watch(function(){return c.user},this.userChanged),a.$watch(function(){return c.initialized},this.userChanged)}]),angular.module("forbesCSFApp").directive("authorByline",["fbsMapper.TemplateMap","UtilsService",function(a,b){return{restrict:"AE",templateUrl:a.author_byline,scope:{author:"="},link:function(a,c){a.author&&a.author.avatars&&angular.isArray(a.author.avatars)&&a.author.avatars.length>0&&(a.author.avatars=b.parseAvatars(a.author.avatars))}}}]),angular.module("forbesApp").directive("authorFollowLinks",["fbsMapper.TemplateMap",function(a){return{restrict:"AE",controller:"AuthorFollowLinksController",templateUrl:a.follow_links,scope:{author:"="},link:function(a){a.author.googlePlus&&(a.author.googlePlus=(/[^\d]/.test(a.author.googlePlus)?"+":"")+a.author.googlePlus),a.follow_type=a.author.blog?"blog":"author"}}}]),angular.module("forbesApp").directive("brandVoiceBlurb",["fbsMapper.TemplateMap",function(a){return{templateUrl:a.brandvoice_blurb_template,restrict:"AE",scope:{voiceType:"@brandVoiceBlurb"},link:function(a,b,c){a.show_brandvoice_blurb=!1,a.toggleBrandvoiceBlurb=function(){a.show_brandvoice_blurb=!a.show_brandvoice_blurb},"ad"===a.voiceType?a.blurb_template="/forbes/views/shared/brandvoice/a043e59d.brandvoiceblurb.html":"comm"===a.voiceType?a.blurb_template="/forbes/views/shared/brandvoice/51320f51.communityvoiceblurb.html":"marketplace"===a.voiceType&&(a.blurb_template="/forbes/views/shared/brandvoice/304a6621.marketplaceblurb.html")}}}]),angular.module("forbesCSFApp").directive("brandvoiceTitle",["fbsMapper.TemplateMap",function(a){return{templateUrl:a.brandvoice_title,restrict:"AE",scope:{brandvoiceTitle:"=",title:"="}}}]),angular.module("forbesApp").directive("compileHtml",["$sce","$compile","$timeout",function(a,b,c){return{restrict:"AE",link:function(d,e,f){var g=a.parseAsHtml(f.compileHtml),h=function(){return g(d)};d.$watch(h,function(a){c(function(){e.append(b(a)(d))})})}}}]),angular.module("forbesApp").directive("moduleResolver",["$route","$http","$templateCache","$compile","$timeout","ContribAppState","fbsTrackingService",function(a,b,c,d,e,f,g){var h,i;return{restrict:"AE",link:function(g,j){var k,l=angular.injector(["fbsMapper"]).get("fbsMapper.TemplateMap");g.$watch(function(){return a.current},function(m){if(document.all&&document.querySelector&&!document.addEventListener?f.ie8_reload_done=f.ie8_reload_done||!1:f.ie8_reload_done=!0,m&&m.resolve&&m.resolve.type()&&k!==m.resolve.type()){var n,o=m.resolve.type()+"_index",p=c.get(l[o]);n=function(b){if(h){h.$destroy(),h=g.$new();var c=d(b)(h);i.replaceWith(c)}else h=g.$new(),i=d(b)(h),j.html(i);document.all&&document.querySelector&&!document.addEventListener&&e(function(){f.ie8_reload_done=!0,a.reload()}),k=m.resolve.type()},p?n(p):b.get(l[o]).then(function(a){n(a.data)})}})}}}]),angular.module("forbesApp").factory("StackTraceFactory",function(){return{print:printStackTrace}}),angular.module("forbesApp").factory("ExceptionLogFactory",["$log","$window","StackTraceFactory",function(a,b,c){function d(d,e){var f,g,h;a.error.apply(a,arguments);try{switch(f=d.toString()){case"TypeError: Object #<an Object> has no method 'addListener'":case"TypeError: Object doesn't support property or method 'addListener'":case"TypeError: Result of expression 'g.addListener' [undefined] is not a function.":case"TypeError: 'g.addListener' is not a function":case"TypeError: L’objet ne gère pas la propriété ou la méthode « addListener »":case'TypeError: Das Objekt unterstützt die Eigenschaft oder Methode "addListener" nicht':case"TypeError: De eigenschap of methode addListener wordt niet ondersteund door dit object":case"‏‏TypeError: لا يدعم الكائن الخاصية أو الأسلوب 'addListener'":case"TypeError: 物件沒有支援這個屬性或方法 'addListener'":case"TypeError: オブジェクトは 'addListener' プロパティまたはメソッドをサポートしていません。":case"TypeError: 개체가 'addListener' 속성이나 메서드를 지원하지 않습니다.":return}g=c.print({e:d}),h="{user_agent: "+navigator.userAgent+",\r\n url: "+b.location.href+",\r\n message: "+f+",\r\n type: exception,\r\n stack_trace:\r\n"+g.join("\r\n")+",\r\n cause: "+e||"}",$.ajax({type:"POST",url:"/forbesapi/log.json",data:{data:h}})}catch(i){a.warn("Error: Server-side logging failed"),a.log(i)}}return d}]),angular.module("forbesApp").factory("ApplicationLogFactory",["$log","$window",function(a,b){return{error:function(c){var d;a.error.apply(a,arguments),d="{url: "+b.location.href+",\r\n message: "+c+',\r\n type: "HTTP error"}',$.ajax({type:"POST",url:"/forbesapi/log.json",data:{data:d}})},debug:function(b){a.log.apply(a,arguments)}}}]),angular.module("forbesApp").factory("HttpInterceptorFactory",["$rootScope","$q","$injector","$location","ApplicationLogFactory",function(a,b,c,d,e){return function(a){return a.then(function(a){return a},function(a){if(null===a.status||401===a.status||403===a.status||404===a.status||500===a.status||502===a.status||503===a.status||504===a.status){var c={type:"HTTP Response Error",method:a.config.method,url:a.config.url,params:a.config.params,status:a.status};e.error(c.type+": "+JSON.stringify(c))}return b.reject(a)})}}]),angular.module("forbesApp").factory("$exceptionHandler",["ExceptionLogFactory",function(a){return a}]),angular.module("forbesApp").filter("limitChars",[function(){return function(a,b,c){return b=parseInt(b,10),a&&a.length>b?a.substring(0,b)+(c?c:""):a}}]).filter("makeRange",[function(){return function(a){var b,c;switch(a.length){case 1:b=0,c=parseInt(a[0])-1;break;case 2:b=parseInt(a[0]),c=parseInt(a[1]);break;default:return a}for(var d=[],e=b;c>=e;e++)d.push(e);return d}}]),angular.module("forbesContributorsApp").controller("MetaController",["$scope","MetaData",function(a,b){a.meta=b.meta}]),angular.module("forbesContributorsApp").directive("metaTitle",["MetaData",function(a){return{template:"<title>{{meta.title}}</title>",restrict:"AE",replace:!0,link:function(b){b.meta=a.meta}}}]),angular.module("forbesContributorsApp").service("MetaData",["$rootScope","CsfAppState",function(a,b){this.suffix=" - Forbes",this.keywords=[],this.canonical_base="http://www.forbes.com/",this.defaults={title:"Forbes",description:"",keywords:this.keywords.join(", "),canonical:"http://www.forbes.com/",code:200},this.meta={title:"Forbes",description:"",keywords:this.keywords.join(", "),canonical:"http://www.forbes.com/",code:200},this.set=function(a,b){if(a){var c=b.title||this.defaults.title,d=this.defaults.keywords,e=b.canonical?-1===b.canonical.indexOf("/",b.canonical.length-1)?b.canonical+"/":b.canonical:this.defaults.canonical;c=this.suffix?c+this.suffix:c,b.keywordsPrefix&&(d=b.keywordsPrefix.join(", "),""===d&&(d=this.defaults.keywords)),this.meta.code=b.code?b.code:200,this.meta.title=c,this.meta.description=b.description||this.defaults.description,this.meta.author=b.author,this.meta.keywords=d,this.meta.username=b.username,this.meta.shortUri=b.shortUri,this.meta.canonical=e,this.meta.image=b.image,this.meta.twitterHandle=b.twitterHandle}},this.construct=function(c,d){if(0===c.indexOf("/sites/")){for(var e=[],f="",g=0;g<(d.contributors?d.contributors.length:0);g++)e.push(d.contributors[g].name);return e=0===e.length?[d.name]:e,f="AdVoice"===d.type?d.advoiceBrand+"Voice"+(d.blogName?" - "+d.blogName:"")+(d.tagName?" - "+d.tagName:""):d.parent_blog&&"AdVoice"===d.parent_blog.type?d.parent_blog.advoiceBrand+"Voice - "+d.name+(d.blogName?" - "+d.blogName:""):d.name+(d.blogName?" - "+d.blogName:""),{title:f,description:("AdVoice"===d.type?d.advoiceBrand+"Voice":d.name)+"'s stories. "+(d.blogName?d.blogName:"")+(d.shortBio?(d.blogName?": ":"")+d.shortBio:""),keywordsPrefix:e,author:d.advoiceBrand?d.advoiceBrand:d.name,username:d.slug,shortUri:d.shortUri,canonical:d.url,image:d.avatars&&d.avatars[2]?d.avatars[2].image:"",twitterHandle:d.twitterName?"@"+d.twitterName:"",code:d.code}}if("doge"===c){var h,e=[],f="";d.authors&&d.authors.length>0&&(h="ad"===d.blogType||"group"===d.blogType?"@"+d.authors[1].twitterName:"@"+d.authors[0].twitterName);for(var g=0;g<(d.newsKeywords?d.newsKeywords.length:0);g++)e.push(d.newsKeywords[g]);return f="ad"===d.blogType&&d.display_author&&d.display_author.advoiceBrand?d.display_author.advoiceBrand+"Voice: "+d.title:d.title,{title:f,description:d.description||"",keywordsPrefix:d.newsKeywords||[],author:d.author,username:d.slug,shortUri:d.shortUri,canonical:d.uri,image:d.image||"",twitterHandle:"@"===h||"@undefined"===h?"":h,code:200}}return"csf"===c?(a.is_csr&&(this.suffix=null),{title:d.title,description:d.description||"",keywordsPrefix:d.keywords||[],shortUri:d.shortUri,canonical:b.urlBase()+d.url,image:d.image||"",code:200}):{}}}]),angular.module("forbesApp").service("ScrollHandlerService",["ScrollHandlerHelper",function(a){var b=this,c=!1;this.scroll_element=$(document),a.scroll_element_wrapper={scroll_element:b.scroll_element},this.scroll_event_namespace="fbs_scroll",this.bindEvents=function(){return c||!this.scroll_element?!1:(c=!0,this.scroll_element.off("scroll."+this.scroll_event_namespace).on("scroll."+this.scroll_event_namespace,a.scrollDelegator),this.scroll_element.off("resize."+this.scroll_event_namespace).on("resize."+this.scroll_event_namespace,a.scrollDelegator),void this.scroll_element.off("orientation."+this.scroll_event_namespace).on("orientation."+this.scroll_event_namespace,a.scrollDelegator))},this.register=function(b){var c=[];b.name&&(b=[b]);for(var d in b){if(a.registered_handlers[b[d].name])throw new Error("Scroll handler `"+b[d].name+"` has already been registered!");if(!b[d].scroll)throw new Error("Scroll handler `"+b[d].name+"` does not have a scroll function!");var e={name:b[d].name,fn:b[d].scroll,scope:b[d].scope||{},priority:Math.min(Math.max(0===b[d].priority?0:b[d].priority||2,0),2),onDestroy:b[d].onDestroy,onArticleChange:b[d].onArticleChange,parents:b[d].ensureExecuteBefore||[],children:b[d].ensureExecuteAfter||[]};a.registered_handlers[b[d].name]=e,a.priority[e.priority].nodes.push(e),b[d].onRegister&&c.push({fn:b[d].onRegister,scope:e.scope})}a.registerCallback(c)},this.unregister=function(b){var c=[];"string"==typeof b&&(b=[b]);for(var d in b){var e=a.registered_handlers[b[d]];if(e)for(var f in a.priority[e.priority].nodes)a.priority[e.priority].nodes[f].name===b[d]&&(a.priority[e.priority].nodes.splice(f,1),e.onDestroy&&c.push({fn:e.onDestroy,scope:e.scope}),delete a.registered_handlers[b[d]])}a.registerCallback(c)},this.isRegistered=function(b){var c=[];"string"==typeof b&&(b=[b]);for(var d in b)c.push(!!a.registered_handlers[b[d]]);return c.length>1?c:c[0]}}]),angular.module("forbesApp").service("ScrollHandlerHelper",["$rootScope","UtilsService",function(a,b){var c=this;this.root_scope_update=!1,this.registered_handlers={},this.priority=[{fn:function(a){c.executePriorityLevel(a)},nodes:[]},{fn:b.throttle(function(a){c.executePriorityLevel.apply(this,[a])},100),nodes:[]},{fn:b.throttle(function(a){c.executePriorityLevel.apply(this,[a])},500),nodes:[]}],this.scrollDelegator=b.throttle(function(){for(var a=2;a>=0;a--)c.priority[a].fn(a)},10),this.executePriorityLevel=function(d){if(0!==c.priority[d].nodes.length){for(var e=c.scroll_element_wrapper.scroll_element.scrollTop(),f=0;f<c.priority[d].nodes.length;f++)c.priority[d].nodes[f].fn.apply(c,[c.priority[d].nodes[f].scope,e]);c.root_scope_update&&(0===d||this.deferred)&&b.phaseSafeApply(a,c)}},this.articleSwitched=function(){for(var d=2;d>=0;d--)for(var e=0;e<c.priority[d].nodes.length;e++)c.priority[d].nodes[e].onArticleChange&&c.priority[d].nodes[e].onArticleChange.apply(c,[c.priority[d].nodes[e].scope]);c.root_scope_update&&b.phaseSafeApply(a,c)},this.registerCallback=function(d){for(var e in d)d[e]&&(d[e].fn&&d[e].fn.apply(c,[d[e].scope]),d[e].scope=null);c.root_scope_update&&b.phaseSafeApply(a,c)},a.$on("ARTICLE_LOAD_COMPLETE",this.articleSwitched),a.$on("ARTICLE_SWITCH",this.articleSwitched)}]),angular.module("forbesApp").service("StringHelperService",["$location",function(a){function b(a,b,c){function d(a){var b,c,d=y.exec(a);return d?(b=d.index,c=d[0].length,a.substring(0,b)+a.substring(b+c)):a}function e(a){var b="";return a.reverse().forEach(function(a){-1===o.indexOf(a)&&(b+="</"+a+">")}),b}function f(a){if(i=a.indexOf(" "),-1===i&&(i=a.indexOf(">"),-1===i))throw new Error("HTML tag is not well-formed : "+a);return a.substring(1,i)}var g,h,i,j,k,l={},m="",n="...",o=["img"],p=[],q=0,r=m,s='([\\w|-]+\\s*=\\s*"[^"]*"\\s*)*',t="\\s*\\/?\\s*",u="\\s*\\/\\s*",v=new RegExp("<\\/?\\w+\\s*"+s+u+">"),w=new RegExp("<\\/?\\w+\\s*"+s+t+">"),x=/(((ftp|https?):\/\/)[\-\w@:%_\+.~#?,&\/\/=]+)|((mailto:)?[_.\w\-]+@([\w][\w\-]+\.)+[a-zA-Z]{2,3})/g,y=new RegExp("<img\\s*"+s+t+">"),z=!0;for(c=c||l,c.ellipsis=void 0!==c.ellipsis?c.ellipsis:n;z;){if(z=w.exec(a),!z){if(q>=b)break;if(z=x.exec(a),!z||z.index>=b){r+=a.substring(0,b-q);break}for(;z;)g=z[0],h=z.index,r+=a.substring(0,h+g.length-q),a=a.substring(h+g.length),z=x.exec(a);break}if(g=z[0],h=z.index,q+h>b){r+=a.substring(0,b-q);break}q+=h,r+=a.substring(0,h),"/"===g[1]?p.pop():(k=v.exec(g),k||(j=f(g),p.push(j))),r+=k?k[0]:g,a=a.substring(h+g.length)}return a.length>b&&c.ellipsis&&(r+=c.ellipsis),r+=e(p),c.keepImageTag||(r=d(r)),r}return{parseDAMLink:function(a,b,c,d){if(a&&(a.indexOf("specials-images.forbesimg.com")>-1||a.indexOf("192.168.16.155:8080")>-1)){var e;(e=a.match(/\d+x\d+\.(jpg|jpeg|png|gif|tiff|bmp)/i))?a=a.replace(/\d+x\d+\.(jpg|jpeg|png|gif|tiff|bmp)/i,(b||0)+"x"+(c||0)+"."+(d&&d.filetype?d.filetype:e[1])):a+=(b||0)+"x"+(c||0)+"."+(d&&d.filetype?d.filetype:"jpg"),(e=a.match(/fit=([^\&$]+)/i))?d&&d.fit&&(a=a.replace(/fit=([^\&$]+)/i,"fit="+d.fit)):a+=(a.indexOf("?")>-1?"&":"?")+"fit="+(d&&d.fit?d.fit:"scale"),d&&d.background&&((e=a.match(/background=([^\&$]+)/i))?a=a.replace(/background=([^\&$]+)/i,"background="+d.background):a+="&background="+d.background)}return a},parseListEntityImage:function(a,b,c){if(a){var d="people",e=a.imageExists?a.uri:a.gender&&"F"===a.gender?"no-pic-female":"no-pic";if("organization"===a.type)d="companies",-1!==(a.uri||"").indexOf("fred/teams")?d="teams":-1!==(a.uri||"").indexOf("fred/colleges")&&(d="colleges");else if("place"===a.type){d="places";var f=(a.uri||"").split("/");f.length>1&&(e=f[1]+"-"+f[0])}return"http://i.forbesimg.com/media/lists/"+d+"/"+e+"_"+(b||"416")+"x"+(c||"416")+".jpg"}},generateMembersTitleString:function(a){var b="",c=0;for(c;c<(a||[]).length;c++)b+=a[c].name||"",a[c].birthDate&&(b+=", "+moment().diff(moment(a[c].birthDate).tz("America/New_York"),"years")),c<a.length-1&&(b+=";<br />");return b},truncateHTMLString:function(a,c){return b(a,c)},pad:function(a,b,c,d){for(a=""+a;a.length<b;)a=d?a+c:c+a;return a},harvestDomain:function(a){var b=a.substring(a.indexOf("//")+2);return b=b.substring(0,b.indexOf("/"))},harvestSharingHashTree:function(b){var c,d=function(a){for(var b=2147483647,c=a.length;c--;)b=31*b+a.charCodeAt(c)&2147483647;return b};return b=b&&24===b.length?b.slice(12):(d("WhereDidYouComeFromWhereDidYouGo").toString(16)+d("SomethingSomethingCottonEyedJoe").toString(16)).slice(0,12),c=(2147483647&(Math.floor(4096*Math.random())<<20|1048575&+new Date)).toString(16),c+=this.pad(d(a.protocol()+"://"+a.host()+a.path()).toString(16),4,"0"),c=this.pad(c,12,"0").slice(0,12),b+=c},removeHTMLTags:function(a){return a?a.replace(/<[^>]*>/gi,""):""},parseForBrandVoiceSpans:function(a){if(a){var b=a.match(/(^.*?[^\s])Voice(.*)$/);if(b&&b[1])return'<span class="brandvoice-brand">'+b[1]+'</span><span class="brandvoice-voice">Voice</span>'+(b[2]||"")}return a}}}]),angular.module("forbesArticleApp").directive("overlaySpinner",["$rootScope","ArticleAppState",function(a,b){return{restrict:"AE",link:function(b,c,d){b.spinner_class="hidden",b.spinner_background="grey",b.$watch(function(){return a.toggle_spinner},function(a,c){b.spinner_background="","show"===a?b.spinner_class="":b.spinner_class="hidden"})}}}]),angular.module("fbsMapper").service("fbsMapper.TemplateMap",[function(){this.ad_slot="/forbes/views/contributor/homepage/74204837.ad_slot.html",this.archive_template="/forbes/views/contributor/news/archive/f26f775c.layout.html",this.around_the_web="/forbes/views/contributor/common/ads/876d4da9.aroundtheweb.html",this.contrib_index="/forbes/views/contributor/7e62b1ce.index.html",this.contrib_page="/forbes/views/contributor/homepage/8349d450.layout.html",this.contributor_about="/forbes/views/contributor/about/1340988e.layout.html",this.contributor_bioblock="/forbes/views/contributor/about/f67b3043.bio-container.html",this.contributor_carouselfeature="/forbes/views/contributor/carouselfeature/1d3f2599.carousel.html",this.contributor_carouselslides="/forbes/views/contributor/carouselfeature/a4701619.carousel-slides.html",this.contributor_summary="/forbes/views/contributor/summary/6f977dab.layout.html",this.contributor_topfeature="/forbes/views/contributor/topfeature/3e55e22b.layout.html",this.facebook_block="/forbes/views/contributor/facebook/6091a696.layout.html",this.follow_comments="/forbes/views/contributor/user/following/180e8a6f.comments.html",this.follow_link="/forbes/views/contributor/user/following/7ff0a8a2.link.html",this.following="/forbes/views/contributor/user/following/87d8f3b7.following.html",this.googleplus_block="/forbes/views/contributor/googleplus/layout.html",this.header="/forbes/views/contributor/common/header/12e846e9.header.html",this.header_collapsed="/forbes/views/contributor/common/header/d6c0740c.header_collapsed.html",this.header_search="/forbes/views/contributor/common/header/ec9e2555.search.html",this.instagram_block="/forbes/views/contributor/instagram/a6ff0bcf.layout.html",this.loading_spinner="/forbes/views/contributor/homepage/8f623e0c.loading_spinner.html",this.modal_container="/forbes/views/contributor/common/modal/2541d636.modal_content.html",this.most_popular="/forbes/views/contributor/mostpopular/b20b1e52.layout.html",this.news_template="/forbes/views/contributor/news/09f2a4d0.layout.html",this.sharing_sticky="/forbes/views/contributor/common/sharing/a1473cb2.sharing.html",this.sidebar_template="/forbes/views/contributor/common/sidebar/a45ef2af.sidebar.html",this.stream_blog_template="/forbes/views/contributor/news/stream/77d6f075.blog.html",this.stream_calledout_template="/forbes/views/contributor/news/stream/d807ea22.calledout.html",this.stream_default_template="/forbes/views/contributor/news/stream/77d6f075.default.html",this.stream_headlinegrab_template="/forbes/views/contributor/news/stream/bf0041ae.headlinegrab.html",this.stream_magazine_template="/forbes/views/contributor/news/stream/77d6f075.magazine.html",this.stream_slide_template="/forbes/views/contributor/news/stream/9e1abcfa.slide.html",this.stream_template="/forbes/views/contributor/news/stream/b89de7a9.layout.html",this.stream_video_template="/forbes/views/contributor/news/stream/c8b453c4.video.html",this.twitter_block="/forbes/views/contributor/twitter/dae51620.layout.html",this.utility_items="/forbes/views/contributor/common/header/67aa230e.utility.html",this.video_block="/forbes/views/contributor/video/a230aa99.layout.html",this.video_player="/forbes/views/contributor/video/4f81f0f8.videoplayer.html",this.article_body="/forbes/views/article/body/f6facdbd.layout.html",this.article_contrib_block="/forbes/views/article/body/2991d7d7.contribblock.html",this.article_guest_contrib_template="/forbes/views/article/body/cc96d72b.guestcontrib.html",this.article_header="/forbes/views/article/header/75923c5f.layout.html",this.article_inbody_ad="/forbes/views/article/common/ads/a81d0055.inbodyad.html",this.article_index="/forbes/views/article/9417b478.index.html",this.article_intx_ad="/forbes/views/article/common/ads/b6da6103.intxad.html",this.article_page="/forbes/views/article/page/7e60261c.layout.html",this.article_quote_card="/forbes/views/article/body/529d2ca5.quotecard.html",this.article_search="/forbes/views/article/search/b0fc9891.layout.html",this.article_sidebar="/forbes/views/article/sidebar/15aa927a.layout.html",this.article_sidebar_comments="/forbes/views/article/sidebar/5d8936ed.comments.html",this.article_sidebar_comments_new_comment_box="/forbes/views/article/sidebar/ca5dfd7f.commentsnew.html",this.article_sidebar_comments_reply="/forbes/views/article/sidebar/5b9ac280.commentsreply.html",this.article_sidebar_nav="/forbes/views/article/sidebar/e1ff5c34.nav.html",this.article_sidebar_stream="/forbes/views/article/sidebar/layoutstream.html",this.article_sidebar_trending="/forbes/views/article/sidebar/31a8e65e.trending.html",this.article_social_icons="/forbes/views/article/common/sharing/6016d9ce.layout.html",this.article_speed_bump="/forbes/views/article/common/ads/19fc4a61.speedbump.html",this.article_speed_bump_desktop="/forbes/views/article/common/ads/aa9cc692.speedbumpdesktop.html",this.article_speed_bump_mobile="/forbes/views/article/common/ads/f7a82590.speedbumpmobile.html",this.article_stream_inline="/forbes/views/article/streaminline/b6b61c6e.layout.html",this.article_tweet_quote="/forbes/views/article/body/db1a6df8.tweetquote.html",this.article_vestpockets="/forbes/views/article/body/cd6c98ea.vestpockets.html",this.article_vestpockets_article="/forbes/views/article/body/vestpockets/b943137b.article.html",this.article_vestpockets_brandvoice="/forbes/views/article/body/vestpockets/1e914411.brandvoice.html",this.article_vestpockets_gallery="/forbes/views/article/body/vestpockets/db1c78be.gallery.html",this.article_vestpockets_organization="/forbes/views/article/body/vestpockets/a2013045.organization.html",this.article_vestpockets_person="/forbes/views/article/body/vestpockets/0a17c1da.person.html",this.article_vestpockets_place="/forbes/views/article/body/vestpockets/0d7862bb.place.html",this.article_vestpockets_video="/forbes/views/article/body/vestpockets/fe1865b7.video.html",this.csf_ads="/forbes/views/csf/grid/214c25ac.ads.html",this.csf_ads_edit_tools="/forbes/views/csf/grid/a59976b4.adsedittools.html",this.csf_article_grid="/forbes/views/csf/grid/5affa4cb.articlegrid.html",this.csf_article_image_layout="/forbes/views/csf/grid/3fc95c86.articleimagelayout.html",this.csf_article_list="/forbes/views/csf/grid/97a1fae1.articlelist.html",this.csf_custom_html="/forbes/views/csf/grid/0f361f83.custom.html",this.csf_description_text="/forbes/views/csf/grid/text/47c9c936.description.html",this.csf_edit_tools_link="/forbes/views/csf/edittools/f719862e.link.html",this.csf_gallery="/forbes/views/csf/grid/ec1efc08.gallery.html",this.csf_gallery_slide="/forbes/views/csf/grid/abb5133d.galleryslide.html",this.csf_header="/forbes/views/csf/header/4ab71de4.csf_header.html",this.csf_header_text="/forbes/views/csf/grid/text/db99d074.header.html",this.csf_index="/forbes/views/csf/c8a5bdfc.index.html",this.csf_orderedlist_text="/forbes/views/csf/grid/text/1203378a.orderedlist.html",this.csf_overlay="/forbes/views/csf/grid/0bea4089.overlay.html",this.csf_overlay_grid="/forbes/views/csf/grid/c0a5a589.overlaygrid.html",this.csf_overlay_slide="/forbes/views/csf/grid/3f4a5ec4.overlayslide.html",this.csf_page="/forbes/views/csf/page/ffc22e72.layout.html",this.csf_quote_text="/forbes/views/csf/grid/text/49fd8a66.quote.html",this.csf_sharing="/forbes/views/csf/sharing/3b668676.sharing.html",this.csf_sponsor_logo="/forbes/views/csf/header/feaeb07b.sponsorlogo.html",this.csf_unorderedlist_text="/forbes/views/csf/grid/text/9ddea28b.unorderedlist.html",this.csf_video="/forbes/views/csf/grid/12d39de5.video.html",this.csr_channel_share_bar="/forbes/views/csf/csr/header/2a297029.channel_share_bar.html",this.csr_gallery_slide="/forbes/views/csf/csr/7c51178a.galleryslide.html",this.csr_header="/forbes/views/csf/csr/header/9f17c6a6.header.html",this.csr_image_and_three_text_bottom="/forbes/views/csf/csr/613050ac.image_and_three_text_bottom.html",this.csr_image_and_three_text_top="/forbes/views/csf/csr/53e7df19.image_and_three_text_top.html",this.csr_image_text_and_sharing="/forbes/views/csf/csr/50050711.image_text_and_sharing.html",this.csr_side_panel="/forbes/views/csf/csr/67cc2034.side_panel.html",this.csr_sidebar_template="/forbes/views/csf/csr/sidebar/ff599712.sidebar.html",this.csr_special_feature="/forbes/views/csf/csr/9762f680.special_feature.html",this.csr_text_and_sharing="/forbes/views/csf/csr/2e1a790b.text_and_sharing.html",this.csr_trending_now="/forbes/views/csf/csr/65604fb0.trending_now.html",this.csr_stream="/forbes/views/csf/csr/stream/527c2a70.layout.html",this.csr_stream_blog_template="/forbes/views/csf/csr/stream/c9cf84aa.blog.html",this.csr_stream_default_template="/forbes/views/csf/csr/stream/default.html",this.csr_stream_magazine_template="/forbes/views/csf/csr/stream/magazine.html",this.csr_stream_slide_template="/forbes/views/csf/csr/stream/5bae75cd.slide.html",this.csr_stream_video_template="/forbes/views/csf/csr/stream/1bacb449.video.html",this.csr_text_and_sharing="/forbes/views/csf/csr/2e1a790b.text_and_sharing.html",this.csr_trending_now="/forbes/views/csf/csr/65604fb0.trending_now.html",this.csr_utility_items="/forbes/views/csf/csr/header/46bb31bd.utility.html",this.csr_rec_ad="/forbes/views/csf/csr/ads/32abb050.csr_rec_ad.html",this.csr_rec_rail_ad="/forbes/views/csf/csr/ads/48add893.csr_rec_rail.html",this.csr_loge_ad="/forbes/views/csf/csr/ads/d573bd29.csr_loge_ad.html",this.csr_medianet_ad="/forbes/views/csf/csr/ads/fdef5a8a.csr_medianet_ad.html",this.csr_inbody_top_ad="/forbes/views/csf/csr/ads/c67bde5b.csr_inbody_top_ad.html",this.csr_ads_edit_tools="/forbes/views/csf/csr/ads/b896adb9.csr_ads_edittools.html",this.author_byline="/forbes/views/shared/author/94059897.authorbyline.html",this.follow_links="/forbes/views/shared/author/2da72237.authorfollowlinks.html",this.brandvoice_blurb_template="/forbes/views/shared/brandvoice/90a30446.blurblayout.html",this.brandvoice_title="/forbes/views/shared/brandvoice/ba3d449d.brandvoicetitle.html",this.shared_modal_template="/forbes/views/shared/modal/1b32b0a9.fbsmodal.html"}]),angular.module("forbesApp").controller("TrackingController",["$cookies","$scope","$window","$controller","$location","$route","$timeout","fbsTrackingService","ArticleAdsService","CsfAdService","ContribAdService","ArticleAppState","ArticleManagementService","ContribAppState","CsfAppState","MetaData","UtilsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=d("FbsTrackingController",{$scope:b}),s=!1;r.prototype=angular.extend({},r),r.setCsfParams=function(){h.ga.params=function(){if(!s){var a=j.prototype.config.ad_params.site_zone.split("/")||[];dataLayer.push({channel:(o.page_data.channel.omnitureChannel||"").toLowerCase(),section:(o.page_data.channel.omnitureSection||"").toLowerCase(),slot:o.page_data.channel.specialSlot||"",DFPSite:a.length>2?a[2]:null,DFPZone:a.length>3?a[3]:null,
pageType:o.page_data.is_csr?null:"csf",edit:o.page_data.channel.editorialSlot,referrer:document.referrer||h.previous_url||"",brandVoice:o.page_data.channel.brandVoice?o.page_data.channel.author&&o.page_data.channel.author.advoiceBrand?o.page_data.channel.author.advoiceBrand:o.page_data.is_csr?null:"csf":""}),s=!0}},h.fastpixel.params=function(){return{channel:(o.page_data.channel.omnitureChannel||"").toLowerCase(),location:o.urlBase()+o.page_data.channel.url+encodeURIComponent("#")+q.sharing_hash,section:(o.page_data.channel.omnitureSection||"").toLowerCase(),type:"",id:"",au:o.page_data.channel.authorId||"",at:""}},h.reach.params=function(){var a=o.page_data.channel.brandVoice?["brandvoice"]:[];return{domain_base:o.urlBase(),date:o.page_data.channel.date?new Date(o.page_data.channel.date).toISOString():null,title:p.meta.title,url:o.urlBase()+o.page_data.channel.url,authors:[""],channels:[(o.page_data.channel.omnitureChannel||"").toLowerCase()],referrer:unescape(h.previous_url||""),tags:a.concat(["site::"+(o.page_data.channel.author?o.page_data.channel.author.slug||"":""),"slot::"+(o.page_data.channel.specialSlot||""),"type::special feature"])}}},r.setArticleParams=function(){h.ga.params=function(){var a,b=new Date(m.current_article.article.date),c=i.prototype.config.ad_params.site_zone.split("/")||[],d=m.current_article.article.type||"";m.current_article.article.specialSlot?a=m.current_article.article.specialSlot:m.current_article.article.display_author&&m.current_article.article.display_author.specialSlot?a=m.current_article.article.display_author.specialSlot:m.current_article.article.authors&&m.current_article.article.authors[1]&&m.current_article.article.authors[1].specialSlot&&(a=m.current_article.article.authors[1].specialSlot),d&&(m.current_article.article.templateType&&(d+=":"+m.current_article.article.templateType),m.current_article.article.subType&&(d+=":"+m.current_article.article.subType)),s?(dataLayer.push({event:"analyticsVPV",vpvName:e.path(),vpvAuthor:m.current_article.article.author,vpvSite:m.current_article.article.siteSlug,vpvChannel:m.current_article.article.displayChannel,vpvSlot:a,vpvEdit:m.current_article.article.editorialSlot,vpvContribType:m.current_article.article.display_author.type,vpvBlogType:m.current_article.article.blogType,vpvBrandVoice:"ad"===m.current_article.article.blogType?m.current_article.article.siteSlug:null,vpvPageType:d,vpvDFPSite:fbs_settings.ads&&fbs_settings.ads.site?fbs_settings.ads.site:c.length>2?c[2]:null,vpvDFPZone:fbs_settings.ads&&fbs_settings.ads.zone?fbs_settings.ads.zone:c.length>3?c[3]:null,vpvPublished:b.getFullYear()+"-"+(b.getMonth()+1)+"-"+b.getDate(),vpvCategories:m.current_article.article.newsKeywords&&m.current_article.article.newsKeywords.length>0?m.current_article.article.newsKeywords.join(","):"",vpvReferrer:l.page_data.articles["article_"+(m.current_article.index-1)].article.uri,vpvParagraphs:m.current_article.article.pTagCount||""}),window._sf_async_config&&window.pSUPERFLY&&window.pSUPERFLY.virtualPage&&(m.current_article.article&&m.current_article.article.naturalId&&(_sf_async_config.sections=m.current_article.article.displayChannel,_sf_async_config.authors=m.current_article.article.author||"",_sf_async_config.sections+=a?","+a:""),pSUPERFLY.virtualPage(e.path(),p.meta.title))):(dataLayer.push({author:m.current_article.article.author,site:m.current_article.article.siteSlug,channel:m.current_article.article.displayChannel,slot:a,edit:m.current_article.article.editorialSlot,contribType:m.current_article.article.display_author.type,blogType:m.current_article.article.blogType,brandVoice:"ad"===m.current_article.article.blogType?m.current_article.article.siteSlug:null,pageType:d,DFPSite:fbs_settings.ads&&fbs_settings.ads.site?fbs_settings.ads.site:c.length>2?c[2]:null,DFPZone:fbs_settings.ads&&fbs_settings.ads.zone?fbs_settings.ads.zone:c.length>3?c[3]:null,published:b.getFullYear()+"-"+(b.getMonth()+1)+"-"+b.getDate(),categories:m.current_article.article.newsKeywords&&m.current_article.article.newsKeywords.length>0?m.current_article.article.newsKeywords.join(","):"",referrer:document.referrer||h.previous_url||"",paragraphs:m.current_article.article.pTagCount||""}),s=!0)},h.fastpixel.params=function(){var a="";return m.current_article.article.authors&&m.current_article.article.authors.length>0&&(m.current_article.article.authors[0]&&!m.current_article.article.authors[0].blog&&-1===(m.current_article.article.authors[0].naturalId||"").indexOf("blog-")?a=m.current_article.article.authors[0].naturalId:m.current_article.article.authors[1]&&!m.current_article.article.authors[1].blog&&-1===(m.current_article.article.authors[1].naturalId||"").indexOf("blog-")&&(a=m.current_article.article.authors[1].naturalId)),{channel:m.current_article.article.displayChannel||"",section:m.current_article.article.displaySection||"",location:(m.current_article.article.uri||"")+encodeURIComponent("#")+q.sharing_hash,type:m.current_article.article.type||"",id:m.current_article.article.naturalId||"",au:a,at:m.current_article.article.display_author?m.current_article.article.display_author.authorType:""}},h.reach.params=f.current.params.preview_url&&0===m.current_article.index?!1:function(){var a=m.current_article.article&&"ad"===m.current_article.article.blogType?["brandvoice"]:[];return{domain_base:n.urlBase(),title:m.current_article.article.title,url:m.current_article.article.uri,date:new Date(m.current_article.article.date).toISOString(),authors:m.current_article.article.authors&&m.current_article.article.authors.length>0?m.current_article.article.authors[0].name:"",channels:m.current_article.article.displayChannel,tags:a.concat(m.current_article.article.newsKeywords||[]).concat(["site::"+m.current_article.article.siteSlug,"slot::"+(m.current_article.article.specialSlot||""),"type::article"])}}},r.setContribParams=function(){var a=r.getContribConfigPreset(),b=k.prototype.config.ad_params.site_zone.split("/")||[];h.ga.params=function(){s?dataLayer.push({event:"analyticsVPV",vpvName:e.path(),vpvAuthor:a.authors[0],vpvSite:a.slug,vpvChannel:a.channels[0],vpvSlot:a.slot,vpvContribType:a.contrib_type,vpvBrandVoice:a.advoice_brand,vpvPageType:"contrib",vpvDFPSite:b.length>2?b[2]:null,vpvDFPZone:b.length>3?b[3]:null,vpvReferrer:n.previous_url}):(s=!0,dataLayer.push({author:a.authors[0],site:a.slug,channel:a.channels[0],slot:a.slot,contribType:a.contrib_type,brandVoice:a.advoice_brand,pageType:"contrib",DFPSite:b.length>2?b[2]:null,DFPZone:b.length>3?b[3]:null,referrer:document.referrer||h.previous_url||""}))},h.fastpixel.params=function(){return{channel:a.channels[0],section:a.section,location:a.url+encodeURIComponent("#")+q.sharing_hash,type:a.type,id:a.id,au:a.id,at:a.type}},h.reach.params=function(){return{domain_base:"http://www.forbes.com",title:p.meta.title,url:a.url,date:a.date,authors:a.authors,channels:a.channels,tags:a.tags}}},r.getContribConfigPreset=function(){var a=n.brandvoice?["brandvoice"]:[],b={};return b=n.page_data.author.parent_blog?{url:n.page_data.author.parent_blog.url+n.sub_blog_id+"/",page_url:n.page_data.author.parent_blog.url+n.sub_blog_id+"/",date:new Date(n.page_data.author.parent_blog.contributorSince).toISOString(),authors:[n.page_data.author.name],channels:[n.page_data.author.parent_blog.displayChannel],section:n.page_data.author.parent_blog.displaySection,type:n.page_data.author.parent_blog.authorType,id:n.page_data.author.parent_blog.naturalId,slug:n.page_data.author.parent_blog.slug,slot:n.page_data.author.parent_blog.specialSlot,contrib_type:n.page_data.author.parent_blog.type,advoice_brand:n.page_data.author.parent_blog.advoiceBrand,tags:a.concat(["site::"+n.page_data.author.parent_blog.slug,"slot::"+(n.page_data.author.parent_blog.specialSlot||""),"type::author homepage"])}:{url:n.page_data.author.url,page_url:n.page_data.author.url,date:new Date(n.page_data.author.contributorSince).toISOString(),authors:[n.page_data.author.name],channels:[n.page_data.author.displayChannel],section:n.page_data.author.displaySection,type:n.page_data.author.authorType,id:n.page_data.author.naturalId,slug:n.page_data.author.slug,contrib_type:n.page_data.author.type,advoice_brand:n.page_data.author.advoiceBrand,tags:a.concat(["site::"+n.page_data.author.slug,"slot::"+(n.page_data.author.specialSlot||""),"type::author homepage"])}},this.track=function(){g(function(){f.current.locals&&"contrib"===f.current.locals.type?r.setContribParams():f.current.locals&&"article"===f.current.locals.type?r.setArticleParams():f.current.locals&&"csf"===f.current.locals.type&&r.setCsfParams(),r.prototype.track()})},h.track=this.track}]),angular.module("forbesApp").service("UtilsService",["$rootScope","$cookieStore",function(a,b){this.throttle=function(a,b,c){var d,e;return b||(b=250),function(){var f=c||this||{},g=+new Date,h=arguments;d&&d+b>g?(clearTimeout(e),e=setTimeout(function(){d=g,f.deferred=!0,a.apply(f,h)},b+g-d+1)):(d=g,a.apply(f,h))}},this.phaseSafeApply=function(b,c){b=b||a,"$digest"!==b.$$phase&&"$apply"!==b.$$phase&&((c||{}).root_scope_update=!1,b.$apply())},this.urlBase=function(){return"${domainBase!}"===fbs_settings.domain_base?"http://www-staging.forbes.com":fbs_settings.domain_base},this.blogsBase=function(){return"${blogsBase!}"===fbs_settings.blogs_base?"http://blogs-stage.forbes.com":fbs_settings.blogs_base},this.isValidBlogUrl=function(a){return a&&(0===a.indexOf("/sites")||0===a.indexOf("/newsletters"))},this.makeContributorLink=function(a){return this.isValidBlogUrl(a.profileUrl)?a.profileUrl:this.isValidBlogUrl(a.url)?a.url:null},this.setExternalServices=function(a,b){var c={},d=[],e=[];if(window.external_services=window.external_services||{},"article"===b){if(a.channelSectionMappings){for(var f=0;f<a.channelSectionMappings.length;f++){var g=a.channelSectionMappings[f];g.channelName&&-1===d.indexOf(g.channelName)&&d.push(g.channelName),g.sectionName&&-1===e.indexOf(g.sectionName)&&e.push(g.channelName+":"+g.sectionName)}d=d.join(","),e=e.join(",")}c={brandvoice:"ad"===a.blogType?!0:!1,author:a.author,channel:d,section:e,displayChannel:a.displayChannel,displaySection:a.displaySection,specialSlot:a.specialSlot||(a.authors&&a.authors[1]?a.authors[1].specialSlot:null)}}else"contrib"===b?c={brandvoice:"ad"===a.authorType?!0:!1,author:a.name,displayChannel:a.displayChannel,displaySection:a.displaySection,specialSlot:a.specialSlot}:"csf"===b&&(c={displayChannel:a.channelName,displaySection:a.sectionName,specialSlot:a.specialSlot});angular.extend(window.external_services,c)},this.getGlobalAdParams=function(){var a=b.get("global_ad_params")||{},c={},d=+new Date;for(var e in a)!a[e]||d>(a[e].expiration||-1)?delete a[e]:c[e]=""+a[e].value;return document.cookie="global_ad_params="+JSON.stringify(a)+";path=/;domain=.forbes.com;expires="+new Date(d+2592e6),c},this.parseAvatars=function(a){return angular.isArray(a)?(a=a.sort(function(a,b){return b.size-a.size}),{xlarge:a[0]?a[0]:"",large:a[1]?a[1]:"",medium:a[2]?a[2]:"",small:a[3]?a[3]:""}):a},this.addBrandvoiceWhitespace=function(a){return a&&a.length>11&&(a=a.split(" ").map(function(a,b,c){return b===c.length-1&&a.length>11?a+" ":a}).join(" ")),a},this.formatBrandVoiceAuthor=function(a){var b=a.blogType;!a.display_author||a.display_author.advoiceBrand||!a.advoiceBrand&&"comm"!==b&&"ad"!==b&&"group"!==b||("comm"===b?a.display_author.advoiceBrand="Community":a.authors&&(a.display_author.advoiceBrand=a.authors[0]&&a.authors[0].advoiceBrand?a.authors[0].advoiceBrand:a.authors[1]?a.authors[1].advoiceBrand||"":""))}}]),angular.module("forbesContributorsApp").service("ContribAppState",[function(){this.sub_blog_id=!1,this.sidebar_state="closed",this.edit_tools=!1,this.image_slide_prefix="http://specials-images.forbesimg.com/imageserve/",this.image_slide_postfix="/130x0.jpg?fit=fill&background=ffffff",this.brandvoice=!1,this.group_blog=!1,this.static_data={},this.page_data={author:{},promoted_content:{},header:{}},this.urlBase=function(){return"${domainBase!}"===fbs_settings.domain_base?"http://www-staging.forbes.com":fbs_settings.domain_base},this.edittoolsUrl=function(){return"${toolJs!}"===fbs_settings.tool_js?"https://edittools-dev.forbes.com/js/editboot.php":fbs_settings.tool_js},this.blogsBase=function(){return"${blogsBase!}"===fbs_settings.blogs_base?"http://blogs-stage.forbes.com":fbs_settings.blogs_base},this.blogImageBase=function(){return"${blogImageBase!}"===fbs_settings.blogs_image_base?"http://blogs-stage.forbes.com":fbs_settings.blogs_image_base}}]),angular.module("forbesContributorsApp").controller("ContribSidebarController",["$scope","ContribAppState","fbsMapper.TemplateMap","BreakPoint","fbsUserDataService",function(a,b,c,d,e){a.sidebar_template=c.sidebar_template,a.logged_in=!1,a.initialized=!1,this.render=function(c){c&&(a.channel_list=b.page_data.header)},this.onBreakPointChange=function(){d.current.min>d.sizes.large.max&&(b.sidebar_state="expanded")},this.userChanged=function(){e.initialized&&(a.initialized=!0),e.user?(a.logged_in=!0,a.user=e.user):(a.logged_in=!1,a.user=null)},a.$watch(function(){return b.page_data.header},this.render),a.$watch(function(){return e.user},this.userChanged),a.$watch(function(){return e.initialized},this.userChanged),a.$watch(function(){return b.sidebar_state},function(b){a.sidebar_state=b});var f=a.$on("breakpoint",this.onBreakPointChange),g=a.$on("$destroy",function(){f(),g()})}]),angular.module("forbesContributorsApp").controller("ContribHeaderController",["$scope","$timeout","ContribHeaderFactory","fbsMapper.TemplateMap","BreakPoint","ContribAppState","ScrollHandlerService",function(a,b,c,d,e,f,g){var h=this,i={},j={logo:!1,dropdown:!1};a.$on("LOAD_ADS",function(){a.is_mobile="true"===fbs_settings.mobile?!0:!1}),a.header_template=d.header,a.header_template_collapsed=d.header_collapsed,g.isRegistered("CollapsedHeaderListener")||g.register(i.collapsed_header_listener={name:"CollapsedHeaderListener",priority:0,scope:{parent_scope:a,header_threshold:125,applied:!1},scroll:function(a,b){b>a.header_threshold&&!a.applied?(a.applied=!0,a.parent_scope.collapsed_visible="visible",this.root_scope_update=!0):b<a.header_threshold&&a.applied&&(a.applied=!1,a.parent_scope.collapsed_visible="",this.root_scope_update=!0)}}),a.showChannel=function(b){b.contentPositions&&(a.channel_nav_hero=b.contentPositions[0],a.channel_nav_list=b.contentPositions.slice(1,b.contentPositions.length-1))},a.onMouseOver=function(b){return e.current.min<e.sizes.large.max||"forbeslife"===f.page_data.author.subType?!1:("logo"===b&&a.showChannel(a.channel_list[0]),j[b]=!0,void(a.header_nav_expand="expanded"))},a.onMouseOut=function(b){j[b]=!1,j.logo===!1&&j.dropdown===!1&&(a.header_nav_expand="")},this.getHeaderData=function(){c.request().then(function(b){b.data.promotedContent&&b.data.promotedContent.contentPositions&&(a.channel_list=f.page_data.header=b.data.promotedContent.contentPositions)})},this.setSubType=function(b,c){a.sub_type="forbeslife"===c.subType?"type-forbeslife":"type-contrib",h.destroy()},this.destroy=function(){return k(),l(),!1},this.getHeaderData();var k=a.$on("SHOW_HEADER",this.setSubType),l=a.$on("$destroy",this.destroy)}]),angular.module("forbesContributorsApp").directive("contribMenuIcon",["ContribAppState","$timeout",function(a,b){return{restrict:"AE",link:function(c){var d={right_section:$(".right-section")};c.animateSideBar=function(){"closed"===a.sidebar_state?(a.sidebar_state="expanded",d.right_section.addClass("expanded")):(d.right_section.removeClass("expanded"),b(function(){a.sidebar_state="closed"},400))}}}}]),angular.module("forbesContributorsApp").factory("ContribHeaderFactory",["$http",function(a){return{url:"/forbesapi/promote/get.json",params:{location:"header"},request:function(b){return a({method:"GET",url:this.url,params:this.params})}}}]),angular.module("forbesContributorsApp").directive("mobileTapIntercept",[function(){return{restrict:"AE",link:function(a){a.expanded="",a.expandFollow=function(b){""===a.expanded&&(b.preventDefault(),b.stopPropagation(),a.expanded="expanded")},a.hideFollow=function(b){b.preventDefault(),b.stopPropagation(),a.expanded=""}}}}]),angular.module("forbesContributorsApp").controller("UtilityItemsController",["$scope","CsfAppState","fbsMapper.TemplateMap","fbsUserDataService",function(a,b,c,d){a.template_path=c.utility_items,a.user=null,a.initialized=!1,this.userDataChange=function(){a.user=d.user,a.initialized=d.initialized},a.$watch(function(){return d.user},this.userDataChange),a.$watch(function(){return d.initialized},this.userDataChange)}]),angular.module("forbesContributorsApp").directive("headerSearch",["$window","fbsMapper.TemplateMap",function(a,b){return{restrict:"AE",templateUrl:b.header_search,link:function(b,c,d){b.slim="header-search-slim",b.doSearch=function(){var c=b.search_query;if(c){var d="http://www.forbes.com/search/?q="+c;a.location=d}},b.showSearch=function(){d.collapsed&&(b.slim="header-search-slim"===b.slim?"":"header-search-slim")}}}}]),angular.module("forbesContributorsApp").directive("contribStickySharing",["fbsMapper.TemplateMap","ContribAppState","UtilsService",function(a,b,c){return{templateUrl:a.sharing_sticky,controller:"FbsSharingController",restrict:"AE",link:function(a,d,e,f){a.visible="hidden",a.expanded="",a.toggleExpanded=function(){a.expanded=""===a.expanded?"expanded":""};var g=function(){b.page_data.author?(a.visible="",a.url=b.page_data.author.url+"#"+c.sharing_hash,f.defaults={url:b.page_data.author.url+"#"+c.sharing_hash,title:b.page_data.author.name,description:b.page_data.author.description,thumbnail_url:b.page_data.author.avatars&&b.page_data.author.avatars.length>3?b.page_data.author.avatars[2]:!1}):a.visible="hidden"};a.$watch(function(){return b.page_data.author},g)}}}]),angular.module("forbesApp").controller("FollowController",["$scope","FollowService","FollowFactory","fbsModalService","fbsUserDataService",function(a,b,c,d,e){this.getFollowData=function(d,f){a.state=b.states.loading_in_flight,"comments"===f?a.state=e.user?e.user.followingArticle?b.states.following:b.states.follow:b.states.login:c.getFollowInfo(d).then(function(c){a.log_in=e.user?null:b.states.login,c.data.success?(a.follow_count="("+c.data.num_followers+")",a.state=c.data.following?b.states.following:b.states.follow):a.state=b.states.follow},function(){a.state=b.states.follow})},this.follow=function(e){c.followInfoChange(e).then(function(f){if(f.data.success){a.state=b.states.following,a.follow_count="("+f.data.num_followers+")";var g=e;g.active="weekly",f.data.target_title||(f.data.target_title=e.target_title),f.data.target_type||(f.data.target_type=e.target_type),c.local_params=g,f.data.advoice_true=e.advoice_true;var h=b.generateModal(f.data);d.modal_content={width:600,content:h}}else a.state=b.states.follow},function(){a.state=b.states.follow})},this.unfollow=function(d){c.followInfoChange(d).then(function(c){c.data.success?(a.state=b.states.follow,a.follow_count="("+c.data.num_followers+")",a.follow_text="FOLLOWING"):a.state=b.states.following},function(){a.state=b.states.following})},this.updateFrequency=function(b){c.followInfoChange(b).then(function(c){c.data.success?(a.in_flight="",a.active={},a.active[b.frequency]=" active"):a.in_flight=""},function(){a.in_flight=""})}}]),angular.module("forbesApp").directive("followFrequency",["FollowFactory",function(a){return{restrict:"AE",controller:"FollowController",link:function(b,c,d,e){b.active={},b.active[a.local_params.active]=" active",b.in_flight="",b.displayForm=function(c){return c.preventDefault(),b.in_flight||b.active[c.delegateTarget.classList[0]]?!1:(b.in_flight="loading",a.local_params.frequency=c.delegateTarget.classList[0],void e.updateFrequency(a.local_params))}}}}]),angular.module("forbesApp").directive("followLink",["fbsMapper.TemplateMap","FollowFactory","FollowService","fbsUserDataService","ContribAppState",function(a,b,c,d,e){return{templateUrl:a.following,restrict:"AE",controller:"FollowController",scope:{},link:function(b,f,g,h){"comments"===g.followTemplate?(b.following_template_path=a.follow_comments,b.is_block_link=g.blockLink||!1):b.following_template_path=a.follow_link,b.state=c.states.loading;var i=function(){if(b.state===c.states.loading_in_flight)return!1;if(b.state=d.user?c.states.loading:c.states.loading,b.log_in=d.user?null:c.states.login,b.state===c.states.loading){var a={target_id:g.entityId,target_type:g.entityType};h.getFollowData(a,g.followTemplate)}},j=function(){if(b.state===c.states.loading_in_flight||!d.initialized)return!1;if(b.state=c.states.loading,b.log_in=d.user?null:c.states.login,e.page_data&&e.page_data.author&&b.state===c.states.loading){var a={target_id:g.entityId,target_type:g.entityType};h.getFollowData(a,g.followTemplate)}};b.handleClick=function(a){var d={target_id:g.entityId,target_type:g.entityType,target_title:g.entityTitle,advoice_title:g.displayAdvoiceBrand?g.displayAdvoiceBrand:"",advoice_true:g.displayAdvoiceBrand&&"Community"!==g.displayAdvoiceBrand?!0:"",frequency:"weekly"};a.delegateTarget.classList.contains("unireg_follow")?(a.preventDefault(),d.action="follow",b.state=c.states.loading_in_flight,h.follow(d)):a.delegateTarget.classList.contains("unireg_unfollow")&&(a.preventDefault(),d.action="unfollow",b.state=c.states.loading_in_flight,h.unfollow(d))},b.handleFollowTextChange=function(a,c){b.follow_text=c?"X UNFOLLOW":"FOLLOWING"},b.follow_text="FOLLOWING",b.$watch(function(){return d.user},i),b.$watch(function(){return e.page_data.author},j)}}}]),angular.module("forbesApp").factory("FollowFactory",["$http",function(a){return{local_params:null,getFollowInfo:function(b){return a({method:"get",params:b,url:"/ajax/follow_info"})},followInfoChange:function(b){return a({method:"POST",data:b,url:"/ajax/follow_update",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}})}}}]),angular.module("forbesApp").service("FollowService",["ContribAppState",function(a){this.generateModal=function(b){if("article"===b.target_type){var c="";return c+='<div class="modal_screen following_unireg following_comments">',c+='<div class="heading">',c+="<h2>Thank You</h2>",c+='<div id="dfp-sociallogo"></div>',c+='<div class="shelf_shadow"></div>',c+="</div>",c+='<div class="main">',c+="<h3>You are now following comments on:</h3>",c+='<h2 class="follow_article_title">'+b.target_title+"</h2>",c+="<p>You will receive email notifications when new comments are posted</p>",c+='<a href="'+a.blogsBase()+'/account/#accounttab-5" class="manage_link">Manage your alerts</a>',c+="</div>",c+="</div>"}return b.image_url||(b.image_url=""),b.image_url.indexOf("/media/lists/companies/")>0&&(b.image_url=b.image_url.replace(/http\:\/\/images.forbes.com\/media\/lists\/companies\//,""),b.image_url=b.image_url.replace("_200x200.jpg","")),'<div class="modal_screen following"><div class="heading"><h2>You are now following:</h2><div class="shelf_shadow"></div></div><div class="main"><div class="entity"><img src="'+(-1!==b.image_url.indexOf("forbesimg.com")?b.image_url:"http://www.forbes.com/"+b.image_url)+'" alt="'+b.entity_name+'" /><span class="title">'+b.entity_name+(b.advoice_true?'<span class="advoice_brand">Voice</span>':"")+'</span><div class="follow-frequency-container {{in_flight}}" follow-frequency><span class="immediate{{active.immediate}}" ng-click="displayForm($event)">Immediate</span><span class="daily{{active.daily}}" ng-click="displayForm($event)">Daily</span><span class="weekly{{active.weekly}}" ng-click="displayForm($event)">Weekly</span><span class="none{{active.none}}" ng-click="displayForm($event)">None</span><span class="loading" ng-if="in_flight===\'loading\'"><img src="http://i.forbesimg.com/assets/img/loading_spinners/16px_on_transparent.gif" alt="loading..." /></span></div></div><span class="fancy-button" ng-click="hideModal()">Done</span></div></div>'},this.states={following:"following",follow:"to-follow",loading:"loading",loading_in_flight:"loading-inflight",login:"log-in",error:"error"}}]),angular.module("forbesContributorsApp").controller("FacebookController",["$scope","$window","$document","$timeout","$sce","ContribAppState",function(a,b,c,d,e,f){a.author_name=f.page_data.author.name,a.facebook_url=e.trustAsResourceUrl(f.page_data.author.facebookPage),this.runFacebookScript=function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4",e.parentNode.insertBefore(d,e))}(c.context,"script","facebook-jssdk")}]),angular.module("forbesContributorsApp").controller("ContribAboutController",["$scope","$sce","$route","$location","$timeout","ContribAppState","StringHelperService",function(a,b,c,d,e,f,g){var h,i=f.sub_blog_id?f.page_data.author.parent_blog:f.page_data.author,j=320,k=Number.MAX_VALUE,l=7,m=i.contributors?i.contributors.length:7,n=c.current.params.author_slug,o=null;if(a.author=i,a.hide_writers=i.contributors&&0!==i.contributors.length?"":"hidden",a.group_blog=f.group_blog,a.blogs_base=f.blogsBase(),a.writer_limit=l,a.has_more_writers=m>l,a.displaying_all_writers=l>=m,a.current_contrib=null,a.current_index=null,a.author.description&&a.author.description.length>j?(a.author_readmore=a.author_readmore_collapsed=!0,a.author_readmore_limit=j):(a.author_readmore=a.author_readmore_collapsed=!1,a.author_readmore_limit=k),a.toggleWriters=function(){a.has_more_writers&&(a.displaying_all_writers=!a.displaying_all_writers,a.writer_limit=a.displaying_all_writers?m:l)},a.toggleDescription=function(){a.author_readmore_collapsed=!a.author_readmore_collapsed,a.author_readmore_limit=a.author_readmore_collapsed?j:k},a.getAuthorDescriptionHTML=function(c){var d=c===a.author&&c.description?g.truncateHTMLString(c.description,a.author_readmore_limit):c.description;return c&&c.description?b.trustAsHtml(d):""},a.setCurrentContrib=function(b){a.current_index=b,a.current_contrib=a.author.contributors[b],d.path(a.current_contrib.profileUrl,!1)},h=function(){var a=$("html,body");(o||"true"===fbs_settings.mobile)&&(a.stop().animate({scrollTop:a.scrollTop()+$("section.contrib-about").offset().top-$(".collapsed-header").outerHeight()},1e3),o=null)},a.closeBioBlock=function(){d.path("/sites/"+a.author.slug+"/",!1),a.current_index=null,a.current_contrib=null,h()},a.init=function(){for(var b=0;b<a.author.contributors.length;b++)if(a.author.contributors[b].profileUrl==d.path()){o=!0,h(),a.setCurrentContrib(b),b>a.writer_limit&&a.toggleWriters();break}a.current_contrib||d.path("/sites/"+a.author.slug+"/",!1)},n){var p="true"===fbs_settings.mobile?3e3:1e3;e(function(){a.init()},p)}}]),angular.module("forbesContributorsApp").directive("bioContainer",["$timeout","$animate","fbsMapper.TemplateMap",function(a,b,c){return{restrict:"AE",templateUrl:c.contributor_bioblock,link:function(b,c,d){if($(c).is(":visible")){var e=$("html,body"),f="true"===fbs_settings.mobile,g=function(){f&&e.stop().animate({scrollTop:e.scrollTop()+$(".bio-container:visible").offset().top-$(".collapsed-header").outerHeight()},1e3)},h=b.$watchCollection(function(a){return{current_index:a.current_index,display:a.displaying_all_writers}},function(b,c){if(b.current_index>=0){var d=$($(".writers li:not(.has-more-writers)")[b.current_index]);"true"!==fbs_settings.mobile&&a(function(){var a=$(".bio-container:hidden"),d=$(".bio-container:visible");d.height(a.outerHeight()),b.current_index==c.current_index&&navigator.userAgent.match("Safari")&&!navigator.userAgent.match("Chrome")?d.css("min-height",a.outerHeight()):d.css("min-height","")}),b.display==c.display&&g(),d.siblings().addClass("inactive").removeClass("active"),d.removeClass("inactive").addClass("active")}});b.$on("$destroy",function(){$(".writers li:not(.has-more-writers)").removeClass("inactive").removeClass("active"),h()})}}}}]),angular.module("forbesContributorsApp").controller("ContribCarouselFeatureController",["$scope","ContribAppState","ContribCarouselFeatureService",function(a,b,c){a.carouselfeature_content=c.parse(b.page_data.promoted_content.carousel_feature),a.$broadcast("renderCarousel")}]),angular.module("forbesContributorsApp").directive("contribSlickCarousel",["$timeout","fbsMapper.TemplateMap",function(a,b){return{restrict:"AE",templateUrl:b.contributor_carouselslides,replace:!1,controller:"ContribCarouselFeatureController",link:function(b,c){var d={init:!1,config:{onInit:function(){d.init=!0},onBeforeChange:function(){c.addClass("slicking")},onAfterChange:function(){a(function(){c.removeClass("slicking")},0)},prevArrow:'<button type="button" class="slick-prev"><div class="knob icon icon-chevron-left"></div></button>',nextArrow:'<button type="button" class="slick-next"><div class="knob icon icon-chevron-right"></div></button>',arrows:!0,dots:!1,slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:5e3,speed:500,infinite:!0,responsive:[{breakpoint:799,settings:{autoplay:!0,autoplaySpeed:5e3,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,infinite:!0}},{breakpoint:767,settings:{autoplay:!1,autoplaySpeed:5e3,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,infinite:!0}}]}},e=function(){a(function(){c.removeClass("hidden"),c.slick(d.config)})};e();var f={},g=b.$on("renderCarousel",e),h=b.$on("$destroy",function(){f.removeListener(),f.removeDestroy(),d.init&&(d.init=!1,c.unslick())});f.removeListener=g,f.removeDestroy=h}}}]),angular.module("forbesContributorsApp").service("ContribCarouselFeatureService",[function(){this.parse=function(a){var b=[];a=a||[];for(var c=0;c<a.length;c++)a[c].id&&(a[c].images&&a[c].images.medium?a[c].display_image=a[c].images.medium.url:a[c].display_image=a[c].image,b.push(a[c]));return b}}]),angular.module("forbesContributorsApp").service("ContribAdService",["$rootScope","$route","fbsAdsService","ContribAppState","UtilsService",function(a,b,c,d,e){if(b.current.locals&&"contrib"!==b.current.locals.type)return{};var f={listeners:{}},g=Object.create(c);return g.prototype=c,g.config.slot_map={top:"mobile",rec:"mobilerec",topx:"mob-stream",recx:"mobilex"},g.config.ad_params.id="blogandpageid/blog/page/"+b.current.params.contrib_slug,g.config.ad_params.site_zone="true"===fbs_settings.mobile?"/7175/fdcmobile/contribhome":"/7175/fdc.forbes/contribhome",g.config.responsive=!1,g.config.single_request=!0,g.config.enable_openx=!0,g.config.enable_medianet=!0,g.config.custom_params=e.getGlobalAdParams(),d.page_data&&d.page_data.author&&"ad"!==d.page_data.author.authorType&&(c.medianet_flag=!0),f.getTabName=function(){return d.page_data&&d.page_data.author?d.page_data.author.advoiceBrand===d.page_data.author.name?"all":d.page_data.author.name.replace(/\s+/g,"").toLowerCase():void 0},g.createSlot=function(b){return!d.page_data.author||angular.equals({},d.page_data.author)?(f.listeners.appStateDefined=a.$watch(function(){return d.page_data.author},function(a){(a||!angular.equals({},a))&&(g.createSlot(b),f.listeners.appStateDefined())}),g):("true"===fbs_settings.mobile&&(b.slot=g.config.slot_map[b.slot]),d.page_data.author&&d.page_data.author.specialSlot&&googletag.pubads().setTargeting("specialslot",d.page_data.author.specialSlot),d.sub_blog_id&&d.page_data.author.parent_blog.specialSlot&&googletag.pubads().setTargeting("specialslot",d.page_data.author.parent_blog.specialSlot),d.brandvoice&&(googletag.pubads().setTargeting("advoice",d.sub_blog_id?d.page_data.author.parent_blog.slug:d.page_data.author.slug),googletag.pubads().setTargeting("tab",f.getTabName())),void g.prototype.createSlot.apply(this,arguments))},g.refreshSlot=function(a){d.brandvoice&&googletag.pubads().setTargeting("tab",f.getTabName()),g.prototype.refreshSlot.apply(this,arguments)},g.config.ready=!0,g}]),angular.module("forbesContributorsApp").directive("editTools",["$rootScope","$timeout","ContribAppState","ContribPromoBlockFactory","UtilsService",function(a,b,c,d,e){var f=!1,g=!1,h=!1,i=!1,j=null;return{restrict:"AE",replace:!0,link:function(a,k,l){a.show=!0;
var m=function(){f||(f=!0,$(document).off("carousel_published").on("carousel_published",function(){location.reload()}),$(document).off("promo_grid_preview").on("promo_grid_preview",function(c,d){if("hpfeature"===d.promotedContent.context){var e={promotedContent:{}},f={};e.promotedContent[d.promotedContent.location]=d.promotedContent,f={location:e.promotedContent[d.promotedContent.location].location,promoted_content_map:e.promotedContent},q(d),a.$broadcast("PROMO_LOADED",f),a.$apply(),q(d),b(function(){l.type="grid",i=!1,p(),b(function(){$(document).trigger("promo_grid_previewed")},600)},500)}}))},n=function(){if("script"===l.type&&!g){g=!0;for(var a,b=[c.edittoolsUrl()],d=0;d<b.length;d++)a=document.createElement("script"),a.src=b[d],k.append(a)}},o=function(){if("carousel"===l.type&&!h){h=!0;var a="hpcarousel",b="hpcarouselfeature",e=c.page_data.promoted_content.carousel_feature?c.page_data.promoted_content.carousel_feature.panel_id:"panel1",f=d.location(c.page_data.author.naturalId)+"_carouselfeature",g=c.sub_blog_id?c.page_data.author.parent_blog.primaryBlogNaturalId:c.page_data.author.primaryBlogNaturalId,i='<div class="edittools-ng-promoblock" data-et-removable="true" data-et-primaryblognaturalid="'+g+'" data-et-context="'+a+'" data-et-panel="'+b+'" data-et-location-id="'+f+'" data-et-panel-id="'+e+'">.</div>';k.html(i)}},p=function(){if("grid"===l.type&&!i){k=j||k;var a="hpfeature",e="hpdefaultfeature",f=c.page_data.promoted_content.top_feature?c.page_data.promoted_content.top_feature.panel_id:"panel1",g=c.page_data.promoted_content.et_show_remove_button?'data-et-removable="true"':"",h=d.location(c.page_data.author.naturalId)+"_topfeature",m=c.sub_blog_id?c.page_data.author.parent_blog.primaryBlogNaturalId:c.page_data.author.primaryBlogNaturalId;k.parent().find(".edittools-ng-promoblock").length||k.parent().find(".articles").wrap('<div class="edittools-ng-promoblock" '+g+' data-et-primaryblognaturalid="'+m+'"  data-et-context="'+a+'" data-et-panel="'+e+'" data-et-location-id="'+h+'" data-et-panel-id="'+f+'"></div>'),b(function(){k.parent().find(".articles li").each(function(a){var b=a+1;$(this).addClass("promostory promostory-"+b),$(this).find(".grid-image").parent("a").addClass("editable editable-img"),$(this).find(".article-title").addClass("editable editable-hed")})},500),i=!0,j=k}},q=function(a){c.page_data.promoted_content.top_feature={panel:"hpimagefeature"===a.promotedContent.panel?"contrib-image-feature":"",panel_id:a.promotedContent.panelId||"",data:a.promotedContent.contentPositions},e.phaseSafeApply()};c.edit_tools?(setTimeout(function(){n()},1e3),m(),o(),p(),k.on("$destroy",function(){$(document).off("carousel_published")})):k.hide()}}}]),angular.module("forbesContributorsApp").controller("ContribInstagramController",["$scope","$sce","ContribAppState",function(a,b,c){for(var d=c.page_data.author.instagram.split(","),e=0;e<d.length;e++)d[e]=b.trustAsResourceUrl("//instagram.com/p/"+d[e]+"/embed");a.author_name=c.page_data.author.name,a.instagram_urls=d}]),angular.module("forbesContributorsApp").controller("ContribMostPopularController",["$scope","ContribMostPopularFactory","ContribAppState",function(a,b,c){a.stream_state={display:5,limit:10,has_more:!1,articles:[]};var d=c.sub_blog_id?c.page_data.author.parent_blog:c.page_data.author;a.author=b.parseAuthor(d),a.brandvoice=c.brandvoice,a.displayMore=function(){a.stream_state.has_more&&(a.stream_state.display=a.stream_state.limit,a.stream_state.has_more=!1)},this.makeRequest=function(){b.request(a.stream_state).then(function(c){a.stream_state.articles=b.parse(c.data.data,a.stream_state),a.stream_state.articles.length>5&&(a.stream_state.has_more=!0)})},this.makeRequest()}]),angular.module("forbesContributorsApp").factory("ContribMostPopularFactory",["$http","ContribAppState",function(a,b){return{url:function(){return"/statsapi/"+(b.group_blog?"page/all":"author/pages")+"/20/id.json2"},params:function(a){return b.group_blog?{rank:"PV",limit:a.limit,partial:!0,id:"blogAndPostId/blog/post/"+b.page_data.author.parent_naturalId.substring(b.page_data.author.parent_naturalId.indexOf("-")+1)+"-",enrich:!0}:{limit:a.limit,rank:!0,enrich:!0,id:b.page_data.author.parent_naturalId.substring(b.page_data.author.parent_naturalId.indexOf("/author/")+8)}},request:function(b){return a({method:"GET",url:this.url(),params:this.params(b)})},parse:function(a,b){for(var c,d=b.articles,e=0;e<a.length;e++)c=a[e],d.push({title:c.contentData.title,uri:c.contentData.uri,views:c.metrics.PV,naturalId:c.contentData.naturalId});return d},parseAuthor:function(a){return a.author_possessive="",b.brandvoice||(a.author_possessive="s"===a.name.charAt(a.name.length-1)?"'":"'s"),a}}}]),angular.module("forbesContributorsApp").controller("ContribArchiveController",["$scope","$rootScope","$routeParams","$location","ContribAppState","fbsMapper.TemplateMap","ContribArchiveFactory","ContribStreamFactory",function(a,b,c,d,e,f,g,h){var i=this,j=null;a.$emit("STREAM_READY"),e.page_data.promoted_content.carousel_feature||e.page_data.promoted_content.top_feature||(a.stream_state={start:0,has_more:!1,articles:[],archive_override:!0},h.request(a.stream_state).then(function(b){h.parse(b.data,a.stream_state)})),a.toggleMonth=function(b){var c=g.findMonthInArchive(b,a.archive_content),f=b.substr(0,4),h=b.substr(4,2);return c.expanded===!1?(j&&(j.expanded=!1,j.mouse_defeat=!1),c.expanded=!0,c.mouse_defeat=!0,c.viewContents||i.loadArchiveFor(b),d.path("/sites/"+e.page_data.author.slug+(e.sub_blog_id?"/"+e.sub_blog_id:"")+"/archive/"+f+"/"+h+"/",!1),j=c):(c.expanded=!1,c.mouse_defeat=!0,d.path("/sites/"+e.page_data.author.slug+(e.sub_blog_id?"/"+e.sub_blog_id:"")+"/archive/",!1),j=null),j},this.loadArchiveFor=function(d){g.request(d).then(function(e){if(d){var f=g.parse(e.data)[0],h=g.findMonthInArchive(d,a.archive_content);h&&f&&(h.viewContents=f.viewContents,h.expanded=!0)}else if(a.archive_content=g.parse(e.data),c.year&&c.month){var j=c.year+c.month;i.loadArchiveFor(j)}b.$broadcast("SCROLL_TO_ARCHIVE")})},this.loadArchiveFor()}]),angular.module("forbesContributorsApp").factory("ContribArchiveFactory",["$http","ContribAppState",function(a,b){return{url:function(){return"/forbesapi/search/archive/"+(b.group_blog?"blog":"author")+"/naturalid.json"},params:function(a){var c=void 0===a;return{hidemonthescount:!c,isdefaultqueryyearmonth:c,limit:500,naturalid:b.page_data.author.naturalId,queryyearmonth:a,start:0}},request:function(b){return a.get(this.url(),{params:this.params(b)})},parse:function(a){var b,c=[];if(a.searchResult.archives)for(var d=0;d<a.searchResult.archives.length;d++){if(b=a.searchResult.archives[d],b.date=moment.tz(b.date,"America/New_York").format("MMMM YYYY"),b.expanded=!1,b.mouse_defeat=!1,b.order=parseFloat(b.yearMonth),b.viewContents)for(var e=0;e<b.viewContents.length;e++)b.viewContents[e]&&"www"===b.viewContents[e].source&&(b.viewContents[e].uri=b.viewContents[e].uri.split(".html").length<=1?b.viewContents[e].uri+".html":b.viewContents[e].uri);c.push(b)}return c},findMonthInArchive:function(a,b){for(var c,d=0;d<b.length;d++)if(c=b[d],c.yearMonth===a)return c;return null}}}]),angular.module("forbesContributorsApp").controller("ContribNewsController",["$scope","$location","ContribAppState","fbsMapper.TemplateMap",function(a,b,c,d){a.author=c.page_data.author,a.is_sub_blog=c.sub_blog_id,a.news={is_latest:-1===b.path().indexOf("/archive")},a.news_content_template=a.news.is_latest?d.stream_template:d.archive_template,a.showLatest=function(){a.news.is_latest||(a.news.is_latest=!0,a.news_content_template=d.stream_template,b.path("/sites/"+a.author.slug+"/",!1))},a.showArchive=function(){a.news.is_latest&&(a.news.is_latest=!1,a.news_content_template=d.archive_template,b.path("/sites/"+a.author.slug+"/archive/",!1))},this.showAd=function(){a.stream_ready=!0};var e=a.$on("STREAM_READY",this.showAd),f=a.$on("$destroy",function(){e(),f()})}]),angular.module("forbesContributorsApp").controller("ContribStreamController",["$scope","fbsMapper.TemplateMap","ContribStreamFactory","ContribViewCountFactory","ContribAppState","ContribPageOrderService",function(a,b,c,d,e,f){var g=this;a.stream_state={start:0,has_more:!1,articles:[]},a.blog_template=b.stream_blog_template,a.calledout_template=b.stream_calledout_template,a.default_template=b.stream_default_template,a.headlinegrab_template=b.stream_headlinegrab_template,a.magazine_template=b.stream_magazine_template,a.slide_template=b.stream_slide_template,a.video_template=b.stream_video_template,a.base_url=e.urlBase(),a.displayMore=function(){a.stream_state.has_more&&g.requestPage()},this.requestPage=function(){c.request(a.stream_state).then(function(b){return a.stream_state.articles=c.parse(b.data,a.stream_state),a.stream_state.start=a.stream_state.articles.length,0===a.stream_state.start?(f.collapseBlock("contrib-news"),!1):(a.stream_state.has_more=b.data.more,a.$emit("STREAM_READY"),void d.request(a.stream_state).then(function(b){a.stream_state.articles=d.parse(b.data,a.stream_state)}))})},this.requestPage()}]),angular.module("forbesContributorsApp").factory("ContribStreamFactory",["$http","ContribAppState","StringHelperService",function(a,b,c){return{url:"/forbesapi/contents/stream.json",params:function(a){var d=[],e="guestContributor,title,uri,naturalId,type,date,image,slides,commentCount,calledOutCommentCount,magazine,description,authors,blogType,manualDescription",f=!1,g=b.sub_blog_id?"blogstream_"+b.page_data.author.parent_blog.primaryBlogNaturalId+"_"+b.page_data.author.full_subblog_id+"_all":"blogstream_"+b.page_data.author.primaryBlogNaturalId+"_all";if(0===a.start){b.page_data.promoted_content.top_feature&&b.page_data.promoted_content.top_feature.data&&(d=d.concat(b.page_data.promoted_content.top_feature.data));for(var h=0;h<d.length;h++)d[h]=d[h].id;return{location:g,limit:a.archive_override?4:b.page_data.promoted_content.carousel_feature||b.page_data.promoted_content.top_feature?5:9,fields:e,filterdescription:!0,more:!1,moreRecent:f,ids:d.join(",")}}var i=new Date(a.articles[a.articles.length-1].date);d.push(a.articles[a.articles.length-1]),b.page_data.promoted_content.top_feature&&b.page_data.promoted_content.top_feature.data&&(d=d.concat(b.page_data.promoted_content.top_feature.data));for(var h=a.articles.length-2;h>=0&&a.articles[h].date>=a.articles[a.articles.length-1].date;h--)d.push(a.articles[h]);for(var h=0;h<d.length;h++)d[h]=d[h].id;return{location:g,limit:5,fields:e,more:!0,moreRecent:f,publishDate:c.pad(i.getMonth()+1,2,"0")+"/"+c.pad(i.getDate(),2,"0")+"/"+i.getFullYear()+" "+c.pad(i.getHours(),2,"0")+":"+c.pad(i.getMinutes(),2,"0")+":"+c.pad(i.getSeconds(),2,"0")+"."+c.pad(i.getMilliseconds(),3,"0"),ids:d.join(",")}},request:function(b){var c=this;return a.get(c.url,{params:c.params(b)})},parse:function(a,d){var e,f=d.articles;if(!a.contentList)return f;for(var g=0;g<a.contentList.length;g++){a.contentList[g].selected_comment=!1,e=a.contentList[g];var h=void 0,i=void 0;if("slide"===e.type){if(b.brandvoice&&e.title){var j=e.title.indexOf("Voice: ");e.title=j>=0?e.title.substring(j+7)||e.title:e.title}h=[];for(var k=0;k<e.slides.length;k++){var l=e.slides[k];h.push({uri:l.uri,image:b.image_slide_prefix+l.imageId+b.image_slide_postfix})}}else if("calledout"===e.type){i=[];for(var k=0;k<e.comments.length;k++){var m=e.comments[k];m.commentAuthorThumbnailUrl&&-1!==m.commentAuthorThumbnailUrl.indexOf("gravatar.com")&&(m.commentAuthorThumbnailUrl+="&d=mm"),i.push({id:m.id,commentAuthorThumbnailUrl:m.commentAuthorThumbnailUrl,author:m.author,calledOutAuthorId:m.calledOutAuthorId,text:c.truncateHTMLString(m.text,150),author_type:m.byline?m.byline.type:""})}}else"blogslide"===e.type?(-1===e.image.indexOf("http://")&&-1===e.image.indexOf("https://")&&(e.image=b.blogImageBase()+e.image),e.image=c.parseDAMLink(e.image,400,0,{fit:"scale",background:"ffffff"})):"headlinegrab"===e.type?e.source_domain=c.harvestDomain(e.uri):"blog"===e.type&&(e.image=c.parseDAMLink(e.image,400,0,{fit:"scale",background:"ffffff"}));f.push({title:e.title,uri:e.uri,date:e.date,image:e.image,description:e.description,views:"...",naturalId:e.naturalId,id:e.id,type:e.type,slides:h,comments:i,commentCount:e.commentCount,calledOutCommentCount:e.calledOutCommentCount,guestContributor:e.guestContributor,selected_comment:!1,source_domain:e.source_domain})}return 0!==d.start||b.page_data.promoted_content.carousel_feature||b.page_data.promoted_content.top_feature||(b.page_data.promoted_content.top_feature={data:f.splice(0,4),panel:"",type:"default"}),f}}}]),angular.module("forbesContributorsApp").controller("ContribPageController",["$scope","$rootScope","$route","$location","ContribAppState","ContribPageFactory","ContribPromoBlockFactory","ContribPageOrderService","MetaData","fbsTrackingService","UtilsService",function(a,b,c,d,e,f,g,h,i,j,k){if(e.ie8_reload_done){var l={},m=c.current.params.contrib_slug,n=c.current.params.subblog_id;b.footer_year=(new Date).getFullYear(),e.page_data={},e.sub_blog_id="archive"!==n?n:!1,a.edit_tools=e.edit_tools,a.brandvoice=e.brandvoice||!1,b.is_mobile="true"===fbs_settings.mobile,d.$$html5?a.page_order=h.page_order=e.brandvoice?h.defaults.brandvoice.loading:h.defaults.loading:(e.static_data={},a.page_order=h.page_order=h.defaults.loading),l.setContribAppState=function(c){if(!(c&&c.data&&c.data.author))return!1;var h=c.data.author;if(b.$broadcast("SHOW_HEADER",h),a.brandvoice=e.brandvoice="ad"===h.authorType,a.primary_blog_naturalid=h.primaryBlogNaturalId,e.group_blog="ad"===h.authorType||"group"===h.authorType||"comm"===h.authorType,h.tagName&&(h.tagName=$("<div/>").html(h.tagName).text()),e.page_data.author=h,k.setExternalServices(h,"contrib"),e.static_data.summary_data=e.static_data.summary_data||angular.extend({},h),e.static_data.summary_data.avatars&&e.static_data.summary_data.avatars.length>0&&(e.static_data.summary_data.avatars=k.parseAvatars(e.static_data.summary_data.avatars)),a.is_mobile&&window.innerWidth<=320&&"ad"===e.static_data.summary_data.authorType&&e.static_data.summary_data.advoiceBrand&&(e.static_data.summary_data.advoiceBrand=k.addBrandvoiceWhitespace(e.static_data.summary_data.advoiceBrand)),e.page_data.author.contributors)for(var m=0;m<e.page_data.author.contributors.length;m++)e.page_data.author.contributors[m].avatars&&(e.page_data.author.contributors[m].avatars=k.parseAvatars(e.page_data.author.contributors[m].avatars));if(e.brandvoice&&e.sub_blog_id&&(e.page_data.author=f.getSubblogAuthor(h,e.sub_blog_id)||{}),e.page_data.author.parent_naturalId=h.naturalId,i.set(d.path(),i.construct(d.path(),e.page_data.author)),j.track(),!h.naturalId)return!1;var n=g.location(h.naturalId);a.edit_tools&&(a.edit_tools_location=n),fbs_settings.promoted_content&&!angular.equals({},fbs_settings.promoted_content)?(l.setPromoData({data:{promotedContent:fbs_settings.promoted_content}}),fbs_settings.promoted_content=null):g.request(n).then(l.setPromoData)},l.setPromoData=function(a){if(!a||!a.data)return!1;var b=a.data;e.page_data.promoted_content=g.parse(b),h.page_order=h.getPageOrder(b)},this.pageOrderChanged=function(){a.page_order=h.page_order},this.init=function(){fbs_settings.content&&!angular.equals({},fbs_settings.content)?l.setContribAppState({data:{author:fbs_settings.content}}):f.request(m).then(l.setContribAppState)},a.$watch(function(){return h.page_order},this.pageOrderChanged),this.init()}}]),angular.module("forbesContributorsApp").factory("ContribPageFactory",["$http",function(a){return{getSubblogAuthor:function(a,b){for(var c={},d=0;d<a.subBlogs.length;d++)if(b===a.subBlogs[d].naturalId.split("subblog-")[1]){var e=a.subBlogs[d].naturalId.split("/");c=a.subBlogs[d],c.full_subblog_id=e[e.length-1];break}return c.parent_blog=a,c},getParams:function(a){return{slug:a,include_contributor:!0,contributors_limit:100}},request:function(b){return a.get("/forbesapi/authorblog/slug.json",{params:this.getParams(b)})}}}]),angular.module("forbesContributorsApp").factory("ContribPromoBlockFactory",["$http","ContribAppState",function(a,b){return{url:"/forbesapi/promote/get.json",location:function(a){var c="contribhp_"+a.replace(/\//g,"");return b.brandvoice&&b.sub_blog_id?c="contribhp_"+b.page_data.author.parent_blog.primaryBlogNaturalId.replace(/\//g,"")+"_"+b.page_data.author.full_subblog_id:b.brandvoice&&(c+="_0"),c},params:function(a){return{location:a,type:"map",all:!0}},request:function(b){return a.get(this.url,{params:this.params(b)})},parse:function(a){var c={},d=this.location(b.page_data.author.naturalId);return a.promotedContent&&a.promotedContent[d+"_topfeature"]?(c.et_show_remove_button=!0,c.top_feature={panel:"hpimagefeature"===a.promotedContent[d+"_topfeature"].panel?"contrib-image-feature":"",panel_id:a.promotedContent[d+"_topfeature"].panelId||"panel1",data:a.promotedContent[d+"_topfeature"].contentPositions}):c.et_show_remove_button=!1,a.promotedContent&&a.promotedContent[d+"_carouselfeature"]&&(c.carousel_feature=a.promotedContent[d+"_carouselfeature"].contentPositions,c.carousel_feature.panel_id=a.promotedContent[d+"_carouselfeature"].panelId||"panel1"),c}}}]),angular.module("forbesContributorsApp").service("ContribPageConfigService",["fbsMapper.TemplateMap","ContribAppState",function(a,b){this.page_config={modules_list:{topx_ad:{template:a.ad_slot,class_name:"contrib-top-adblock",ad_unit:"topx",id:1},mostpopular:{template:a.most_popular,class_name:"contrib-most-popular",name:"mostpopular",active:function(){return!0}},twitter:{template:a.twitter_block,class_name:"contrib-twitter",name:"twitter",active:function(){return b.page_data.author.twitterName&&b.page_data.author.enableTwitterFeed}},facebook:{template:a.facebook_block,class_name:"contrib-facebook",name:"facebook",active:function(){return b.page_data.author.facebookPage}},instagram:{template:a.instagram_block,class_name:"contrib-instagram",name:"instagram",active:function(){return b.page_data.author.instagram}},video:{template:a.video_block,class_name:"contrib-video",name:"video",active:function(){return b.page_data.author.youtube||b.page_data.author.youtubePlaylist||b.page_data.author.brightcove||b.page_data.author.brightcovePlaylist}}},standard:{mobile:{statics:[{template:a.ad_slot,class_name:"contrib-top-adblock",ad_unit:"top"},{template:a.contributor_summary,class_name:"contrib-summary"},{template:a.contributor_carouselfeature,class_name:"contrib-carousel",no_border:"no_border"},{template:a.contributor_topfeature,class_name:"contrib-top-feature"},{template:a.ad_slot,class_name:"contrib-mobile-adblock",ad_unit:"rec",id:"rec"},{template:a.news_template,class_name:"contrib-news"},{template:a.ad_slot,class_name:"contrib-mobile-adblock",ad_unit:"recx",id:"recx"}]},statics:[{template:a.ad_slot,class_name:"contrib-top-adblock",ad_unit:"top"},{template:a.contributor_summary,class_name:"contrib-summary"},{template:a.contributor_carouselfeature,class_name:"contrib-carousel",no_border:"no_border"},{template:a.contributor_topfeature,class_name:"contrib-top-feature"},{template:a.news_template,class_name:"contrib-news"},{template:a.around_the_web,class_name:"contrib-top-adblock around-web"}],dynamics:[{id:"twitter"},{id:"facebook"},{id:"video"},{id:"instagram"},{id:"mostpopular"}]},group:{mobile:{statics:[{template:a.ad_slot,class_name:"contrib-top-adblock",ad_unit:"top"},{template:a.contributor_summary,class_name:"contrib-summary"},{template:a.contributor_carouselfeature,class_name:"contrib-carousel",no_border:"no_border"},{template:a.contributor_topfeature,class_name:"contrib-top-feature"},{template:a.contributor_about,class_name:"contrib-about"},{template:a.ad_slot,class_name:"contrib-mobile-adblock",ad_unit:"rec",id:"rec"},{template:a.news_template,class_name:"contrib-news"},{template:a.ad_slot,class_name:"contrib-mobile-adblock",ad_unit:"recx",id:"recx"}]},statics:[{template:a.ad_slot,class_name:"contrib-top-adblock",ad_unit:"top"},{template:a.contributor_summary,class_name:"contrib-summary"},{template:a.contributor_carouselfeature,class_name:"contrib-carousel",no_border:"no_border"},{template:a.contributor_topfeature,class_name:"contrib-top-feature"},{template:a.contributor_about,class_name:"contrib-about"},{template:a.news_template,class_name:"contrib-news"},{template:a.around_the_web,class_name:"contrib-top-adblock around-web"}],dynamics:[{id:"twitter"},{id:"facebook"},{id:"video"},{id:"instagram"},{id:"mostpopular"}]},brandvoice:{loading:[{template:a.contributor_summary,class_name:"contrib-summary"},{template:a.loading_spinner,class_name:""}],mobile:{statics:[{template:a.contributor_summary,class_name:"contrib-summary"},{template:a.contributor_carouselfeature,class_name:"contrib-carousel",no_border:"no_border"},{template:a.contributor_topfeature,class_name:"contrib-top-feature"},{template:a.contributor_about,class_name:"contrib-about"},{template:a.ad_slot,class_name:"contrib-mobile-adblock",ad_unit:"rec",id:"rec"},{template:a.news_template,class_name:"contrib-news"},{template:a.ad_slot,class_name:"contrib-mobile-adblock",ad_unit:"recx",id:"recx"}]},statics:[{template:a.contributor_summary,class_name:"contrib-summary"},{template:a.contributor_carouselfeature,class_name:"contrib-carousel",no_border:"no_border"},{template:a.contributor_topfeature,class_name:"contrib-top-feature"},{template:a.contributor_about,class_name:"contrib-about"},{template:a.news_template,class_name:"contrib-news"}],dynamics:[{id:"instagram"},{id:"video"},{id:"twitter"},{id:"facebook"},{id:"mostpopular"}]},loading:[{template:a.loading_spinner,class_name:""}]}}]),angular.module("forbesContributorsApp").service("ContribPageOrderService",["ContribAppState","ContribPageConfigService",function(a,b){this.defaults=b.page_config,this.page_order=this.defaults.loading,this.getPageOrder=function(b){var c,d,e={order_positions:{dynamics:[]}},f=a.page_data.author.naturalId.replace(/\//g,""),g={},h=0;f=a.brandvoice?a.sub_blog_id?f+"_"+a.sub_blog_id:f+"_0":f,g=this.getStaticBlocks(),d=b.promotedContent&&b.promotedContent["contribhp_"+f+"_order"]?b.promotedContent["contribhp_"+f+"_order"].contentPositions:a.brandvoice?this.defaults.brandvoice.dynamics:this.defaults.standard.dynamics,h=g.length+1;for(var i in d)c=this.defaults.modules_list[d[i].id],c&&c.active&&c.active()&&(a.edit_tools?e.order_positions.dynamics.push(c):g.push(c));if(a.edit_tools)return e.order_positions.statics=g,e.order_positions.order=this.getEditToolsOrder(),e.order_positions.dynamics[e.order_positions.dynamics.length-1]&&(e.order_positions.dynamics[e.order_positions.dynamics.length-1].no_border="no_border"),e;if(a.page_data.promoted_content.carousel_feature){if(!a.page_data.promoted_content.top_feature){var j=a.brandvoice?1:2;"contrib-carousel"===g[j].class_name&&(g[j].no_border=""),g.splice(a.brandvoice?2:3,1),h-=1}}else g.splice(a.brandvoice?1:2,1),h-=1;return g.splice(h,0,angular.extend({},this.defaults.modules_list.topx_ad)),g.length-h>1&&(g[h-1].no_border="no_border"),g[g.length-1].no_border="no_border",a.brandvoice||"true"!==fbs_settings.mobile||g.shift(),g},this.getStaticBlocks=function(){var b={};return b="group"===a.page_data.author.authorType||"comm"===a.page_data.author.authorType?"true"===fbs_settings.mobile?this.defaults.group.mobile.statics:this.defaults.group.statics:a.brandvoice?"true"===fbs_settings.mobile?this.defaults.brandvoice.mobile.statics:this.defaults.brandvoice.statics:"true"===fbs_settings.mobile?this.defaults.standard.mobile.statics:this.defaults.standard.statics,angular.extend([],b)},this.getEditToolsOrder=function(){for(var b=[],c=angular.extend([],a.brandvoice?this.defaults.brandvoice.dynamics:this.defaults.standard.dynamics),d=0;d<c.length;d++){var e=this.defaults.modules_list[c[d].id];e&&e.active&&e.active()&&b.push(c[d].id)}return b.join(",")},this.collapseBlock=function(b){for(var c=a.edit_tools?this.page_order.order_positions.statics:this.page_order,d=0;d<c.length;d++)if(c[d].class_name===b){c.splice(d,1);break}return c}}]),angular.module("forbesContributorsApp").controller("ContribSummaryController",["$scope","$location","$sce","ContribAppState","ContribSummaryService",function(a,b,c,d,e){if(d.static_data.summary_data){var f=d.static_data.summary_data;a.author=f,a.base_url=d.urlBase(),a.follow_type="ad"===f.authorType||"group"===f.authorType?"blog":"author",a.show_brandvoice_blurb=!1,a.show_long_bio=!1,a.onClick=function(a){d.edit_tools?window.location.href=a:b.path(a,!0)},a.toggleBrandvoiceBlurb=function(){a.show_brandvoice_blurb=!a.show_brandvoice_blurb},a.closeBrandvoiceBlurb=function(){a.show_brandvoice_blurb&&(a.show_brandvoice_blurb=!1)},a.toggleLongBio=function(){a.show_long_bio=!a.show_long_bio},a.getAuthorDescriptionHTML=function(){return a.author.description?c.trustAsHtml(a.author.description):""},f.subBlogs&&f.subBlogs.length>0&&(a.sub_blogs_list=e.parse(f,d.sub_blog_id))}}]),angular.module("forbesContributorsApp").service("ContribSummaryService",[function(){this.parse=function(a,b){for(var c={active_sub_blog:b,home_page:"/sites/"+a.slug+"/",sub_blogs:a.subBlogs},d=0;d<a.subBlogs.length;d++){var e=c.sub_blogs[d].naturalId.split("subblog-")[1];c.sub_blogs[d].subblog_id=e,c.sub_blogs[d].subblog_url=c.home_page+e+"/"}return c}}]),angular.module("forbesContributorsApp").controller("ContribTopFeatureController",["$scope","ContribViewCountFactory","ContribAppState","ContribTopFeatureService",function(a,b,c,d){if(c.page_data.promoted_content.top_feature&&c.page_data.promoted_content.top_feature.data&&(c.page_data.promoted_content.top_feature.data=d.parse(c.page_data.promoted_content.top_feature.data)),a.topfeature_content=c.page_data.promoted_content.top_feature,a.topfeature_content){var e={start:0,articles:a.topfeature_content.data};b.request(e).then(function(a){var f=b.parse(a.data,e);c.page_data.promoted_content.top_feature&&c.page_data.promoted_content.top_feature.data&&(c.page_data.promoted_content.top_feature.data=d.parse(f))})}this.defaultPromoViews=function(c){if(c&&c.data)if("default"===c.type){var e={start:0,articles:c.data};b.request(e).then(function(a){b.parse(a.data,e)})}else d.parse(c.data);a.topfeature_content=c},a.$watch(function(){return c.page_data.promoted_content.top_feature},this.defaultPromoViews)}]),angular.module("forbesContributorsApp").service("ContribTopFeatureService",["ContribAppState","StringHelperService",function(a,b){this.parse=function(c){for(var d=0;d<c.length;d++)if(c[d].image){var e=0===d?0:1;-1===c[d].image.indexOf("http://")&&-1===c[d].image.indexOf("https://")&&(c[d].image=a.blogImageBase()+c[d].image),c[d].image=b.parseDAMLink(c[d].image,0===e?800:360,0===e?400:180,{fit:"fill",background:"ffffff"})}return c}}]),angular.module("forbesContributorsApp").controller("ContribTwitterController",["$scope","$window","$document","$timeout","ContribAppState",function(a,b,c,d,e){var f=e.page_data.author.forbesTwitterProfile;a.widget_id="600720083413962752",a.author=e.page_data.author,a.tweet_limit=a.is_mobile?5:"",f&&f.createdDate&&(a.author.forbesTwitterProfile.createdDate=moment.tz(f.createdDate,"America/New_York").format("MMMM YYYY")),this.runTwitterScript=function(){b.twttr&&b.twttr.widgets?d(function(){b.twttr.widgets.load()}):!function(a,b,c){var d,e=a.getElementsByTagName(b)[0],f=/^http:/.test(a.location)?"http":"https";a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src=f+"://platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(c.context,"script","twitter-wjs")},this.runTwitterScript()}]),angular.module("forbesContributorsApp").controller("ContribVideoController",["$scope","$sce","$timeout","ContribAppState","ContribVideoFactory","ContribVideoHandlerService","ContribVideoLoader",function(a,b,c,d,e,f,g){var h=this;if(a.author_name=d.page_data.author.name,a.author_type=d.page_data.author.authorType,a.changeVideo=function(b){f.canChangeVideo(a.video_player_id)&&(e.changeVideo(b,a.video_data),f.checkPlayerInitialized(a.video_player_id)||f.initializePlayer(a.video_player_id),f.playVideo(a.video_player_id,b),f.updateShareLink(a.video_data.current_video.shortUri,a.video_player_id))},this.nextVideo=function(){c(function(){a.changeVideo(a.video_data.next_video.videoId)})},this.setVideoId=function(b){a.video_player_id="standalone_video"+b},this.initVideo=function(){f.initializePlayer(a.video_player_id,{sz:"620x350",volume:1,buffer_limiting:!0,rendition_selection:!0})},this.handleBreakpoint=function(){f.resizeVideos()},this.set={init:function(d){var i=d;e.request(i).then(function(d){d.data.entityInbox&&(a.video_data=e.parse(d.data),h.setVideoId(a.video_data.current_video.videoId),f.createPlayerHandlers(a.video_player_id),a.video_player=b.trustAsHtml(g.generateVideo(a.video_data.current_video)),c(function(){f.createExperience(a.video_player_id)},100))})}},d.page_data.author.youtube?a.youtube=b.trustAsResourceUrl("//www.youtube.com/embed/"+d.page_data.author.youtube):d.page_data.author.youtubePlaylist&&(a.youtube_playlist=b.trustAsResourceUrl("//www.youtube.com/embed?listType=playlist&list="+d.page_data.author.youtubePlaylist)),d.page_data.author.brightcove){a.brightcove=!0;var i=d.page_data.author.brightcove,j="contrib_video";a.video_player_id=j+i,f.createPlayerHandlers(j+i),a.video_player=b.trustAsHtml(g.generateVideo({videoId:i,shortUri:"",location_id:j})),c(function(){f.createExperience(j+i)})}else d.page_data.author.brightcovePlaylist&&(a.brightcove_playlist=!0,this.set.init(d.page_data.author.brightcovePlaylist));var k=a.$on("NEXT_VIDEO",this.nextVideo),l=a.$on("VIDEO_INITIALIZE",this.initVideo),m=a.$on("breakpoint",this.handleBreakpoint),n=a.$on("$destroy",function(){f.destroySpecificPlayer(a.video_player_id),k(),l(),m(),n()})}]),angular.module("forbesContributorsApp").directive("contribBrightCoveLoader",["fbsMapper.TemplateMap",function(a){return{templateUrl:a.video_player,replace:!1,restrict:"AE"}}]),angular.module("forbesContributorsApp").factory("ContribVideoFactory",["$http",function(a){return{video_page:5,request:function(b){var c={id:"video/brightcove/playlist/"+b};return a({method:"GET",url:"/forbesapi/entityinbox/id.json",params:c})},parse:function(a){this.start=0,this.page=6;for(var b=a.entityInbox.items,c=0;c<b.length;c++)b[c].videoId=b[c].id.replace("video/brightcove/",""),b[c].description&&(b[c].description=b[c].description.replace(/((?:\r\n?)|\n)/g," "));var d=this.parseVideoList(b),e=d.shift(),f=d[0],g={full_list:b,video_list:d,current_video:e,next_video:f};return g},changeVideo:function(a,b){var c;this.pushNewItem(b);for(var d=0;d<b.video_list.length;d++)if(b.video_list[d].videoId===a){c=d;break}b.video_list.push(b.current_video),b.current_video=b.video_list[c],b.video_list.splice(c,1),b.next_video=b.video_list[0]},parseVideoList:function(a){return a.slice(this.start,this.page)},pushNewItem:function(a){if(this.page<a.full_list.length)for(var b=0;b<this.video_page;b++)a.full_list[this.page]&&a.video_list.push(a.full_list[this.page]),this.page++}}}]),angular.module("forbesContributorsApp").service("ContribVideoHandlerService",["$timeout",function(a){var b=1.2,c=.85,d="620x350",e=1,f={},g=this;this.initializePlayer=function(a,b){f[a].experiences=brightcove.api.getExperience(a),f[a].experiences||(f[a].experiences=brightcove.getExperience(a)),f[a].APIModules=brightcove.api.modules.APIModules,f[a].videoPlayers=f[a].experiences.getModule(f[a].APIModules.VIDEO_PLAYER),f[a].experienceModules=f[a].experiences.getModule(f[a].APIModules.EXPERIENCE),f[a].menuModules=f[a].experiences.getModule("menu"),f[a].socialModules=f[a].experiences.getModule("social"),b||(b={sz:d,volume:e,buffer_limiting:!0,rendition_selection:!0});var c=b.sz?b.sz:d,h=b.key_values?b.key_values:null,i=b.volume?b.volume:e,j=b.buffer_limiting?b.buffer_limiting:!1,k=b.rendition_selection?b.rendition_selection:!1;if(j&&this.handleBufferLimiting(f[a].videoPlayers),k&&f[a].videoPlayers.setRenditionSelectionCallback&&f[a].videoPlayers.setRenditionSelectionCallback(function(b){return f.handleRenditionSelection(b,a)}),f[a].videoPlayers.setVolume&&f[a].videoPlayers.setVolume(i?i:e),f[a].adModules=f[a].experiences.getModule(f[a].APIModules.ADVERTISING),f[a].adModules&&f[a].adModules.getAdPolicy){
var l=f[a].adModules.getAdPolicy(function(b){b=g.handleAdPolicy(b,c,h),g.setAdPolicy(f[a].adModules,b)});l&&(l=this.handleAdPolicy(l,c,h),this.setAdPolicy(f[a].adModules,l))}f[a].functionHandleVideoBegin=function(){g.handleVideoBegin(a)},f[a].videoPlayers.addEventListener(brightcove.api.events.MediaEvent.BEGIN,f[a].functionHandleVideoBegin),fbsBrightcove.handleEventListeners(a,f[a]),f[a].initial_click=!1,f[a].video_started=!1},this.handleBufferLimiting=function(a){"function"==typeof a.enableInitialBandwidthDetection&&a.enableInitialBandwidthDetection(!1),"function"==typeof a.setDefaultBufferTime&&a.setDefaultBufferTime(3),"function"==typeof a.setBufferCapacity&&a.setBufferCapacity(3),"function"==typeof a.setBackBufferCapacity&&a.setBackBufferCapacity(3)},this.handleRenditionSelection=function(a,d){var e=function(a,b,c,d){return a-c+(b-d)};f[d].detected_bandwidth||(f[d].detected_bandwidth=0);for(var g=1e3*f[d].detected_bandwidth*c,h=e(a.screenHeight,a.screenWidth,0,0)*b,i=a.renditions.slice(),j=Number.MAX_VALUE,k=null,l=-Number.MAX_VALUE,m=null,n=Number.MAX_VALUE,o=null,p=0;p<i.length;p++){var q=e(i[p].frameHeight,i[p].frameWidth,a.screenHeight,a.screenWidth);(0>=g||i[p].encodingRate<g)&&(q>=0&&j>q&&(j=q,k=p),0>q&&q>l&&(l=q,m=p)),n>q&&(n=q,o=p)}var r=o;return k&&h>=j?r=k:m&&(r=m),r},this.updateShareLink=function(a,b){a&&f[b]&&f[b].socialModules&&"function"==typeof f[b].socialModules.setLink&&f[b].socialModules.setLink(a)},this.handleAdPolicy=function(a,b,c){if(a){var d=(new Date).getTime();if(a.adServerURL="http://pubads.g.doubleclick.net/gampad/ads?sz="+b+"&iu=/7175/fdcvideo&ciu_sz=s&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&url="+window.location+"&correlator="+d,c){var e=c;a.playerAdKeys?a.playerAdKeys+=";"+e:a.playerAdKeys=e}return a}},this.setAdPolicy=function(a,b){a&&b&&a.setAdPolicy&&a.setAdPolicy(b)},this.resizeVideos=function(){for(var a in f)this.resizeVideo(a)},this.resizeVideo=function(a){f[a]&&f[a].experienceModules&&f[a].experienceModules.setSize&&f[a].experienceModules.setSize($("#"+a).parent().outerWidth(),$("#"+a).parent().outerHeight())},this.handleVideoBegin=function(a){f[a]&&f[a].videoPlayers&&(f[a].video_started=!0,f[a].initial_click=!0,f[a].menuModules&&"function"==typeof f[a].menuModules.isMenuPageShowing&&f[a].menuModules.isMenuPageShowing()&&f[a].menuModules.closeMenuPage())},this.playVideo=function(b,c){fbsBrightcove.playVideo(b),f[b].video_started=!1,f[b].initial_click=!0,f[b]&&f[b].videoPlayers&&"function"==typeof f[b].videoPlayers.loadVideo?f[b].videoPlayers.loadVideo(c):f[b].videoPlayers.loadVideoByID(c),a(function(){g.playVideoTimeout(b)},3e3)},this.playVideoTimeout=function(a){f[a].video_started||fbsBrightcove[a].video_started||(f[a].initial_click=!1)},this.play=function(a){f[a]&&f[a].videoPlayers&&f[a].videoPlayers.play()},this.pause=function(a){f[a]&&f[a].videoPlayers&&f[a].videoPlayers.pause()},this.createPlayerHandlers=function(a){f[a]={},fbsBrightcove.createPlayerHandlers(a)},this.createExperience=function(a){fbsBrightcove.createExperience(a,0)},this.checkPlayerInitialized=function(a){return f[a]&&f[a].videoPlayers?!0:!1},this.canChangeVideo=function(a){return(fbsBrightcove[a].video_started||f[a].video_started||!f[a].initial_click)&&this.checkPlayerInitialized(a)?!0:!1},this.destroySpecificPlayer=function(a){fbsBrightcove.destroySpecificPlayer(a,f[a]),f[a]&&f[a].videoPlayers&&f[a].videoPlayers.removeEventListener(brightcove.api.events.MediaEvent.BEGIN,f[a].functionHandleVideoBegin),f[a]&&f[a].experienceModules&&(f[a].experienceModules.unload?f[a].experienceModules.unload():f[a]=null),delete f[a]},this.destroy=function(){for(var a in f)this.destroySpecificPlayer(a);f={}}}]),angular.module("forbesContributorsApp").service("ContribVideoLoader",[function(){var a="standalone_video",b="3823799546001",c="AQ~~,AAAB6EYTR0k~,fdb8Mwy5g9EcMY6akcTFYr86SA4f7HPT",d="480",e="270";this.generateVideo=function(f){var g=f.location_id?f.location_id:a,h=f.videoId,i=f.shortUri,j=f.auto_start||!1,k='<div style="display:none"></div><div id="'+g+'" class="video_data"></div><object id="'+g+h+'" class="BrightcoveExperience"><param name="bgcolor" value="#FFFFFF" /><param name="width" value="'+d+'" /><param name="height" value="'+e+'" /><param name="playerID" value="'+b+'" /><param name="playerKey" value="'+c+'" /><param name="isVid" value="true" /><param name="isUI" value="true" /><param name="dynamicStreaming" value="true" /><param name="autoStart" value="'+j+'" /><param name="includeAPI" value="true" /><param name="@videoPlayer" value="'+h+'"/><param name="linkBaseURL" value="'+i+'" /> <param name="wmode" value="transparent" /><param name="templateLoadHandler" value="fbsBrightcove.'+g+h+'.onTemplateLoaded" /><param name="templateReadyHandler" value="fbsBrightcove.'+g+h+'.onTemplateReady" /></object>';return k}}]);var fbsBrightcove={ad_timeout:5e3,distance_tolerance:1.2,bitrate_tolerance:.85,handleEventListeners:function(a,b){fbsBrightcove[a].functionHandleVideoCompleteEvent=function(){fbsBrightcove.handleVideoCompleteEvent(a)},b.videoPlayers.addEventListener(brightcove.api.events.MediaEvent.COMPLETE,fbsBrightcove[a].functionHandleVideoCompleteEvent),fbsBrightcove[a].functionHandleAdStarted=function(){fbsBrightcove.handleAdStarted(a)},b.adModules.addEventListener(brightcove.api.events.AdEvent.START,fbsBrightcove[a].functionHandleAdStarted),fbsBrightcove[a].functionHandleAdComplete=function(){fbsBrightcove.handleAdComplete(a)},b.adModules.addEventListener(brightcove.api.events.AdEvent.COMPLETE,fbsBrightcove[a].functionHandleAdComplete),fbsBrightcove[a].video_complete=!1,fbsBrightcove[a].ad_started=!1,fbsBrightcove[a].ad_complete=!1,fbsBrightcove[a].video_started=!1,angular.element("#"+a).scope().$emit("VIDEO_READY")},removeEventListeners:function(a,b){b&&b.videoPlayers&&fbsBrightcove[a]&&(b.videoPlayers.removeEventListener(brightcove.api.events.MediaEvent.COMPLETE,fbsBrightcove[a].functionHandleVideoCompleteEvent),b.adModules.removeEventListener(brightcove.api.events.AdEvent.START,fbsBrightcove[a].functionHandleAdStarted),b.adModules.removeEventListener(brightcove.api.events.AdEvent.COMPLETE,fbsBrightcove[a].functionHandleAdComplete))},handleVideoComplete:function(a){angular.element("#"+a).scope().$emit("NEXT_VIDEO")},handleVideoCompleteEvent:function(a){fbsBrightcove[a].video_complete=!0,setTimeout(function(){fbsBrightcove.handleAdTimeout(a)},fbsBrightcove.ad_timeout)},handleAdTimeout:function(a){!fbsBrightcove[a].video_complete||fbsBrightcove[a].ad_started||fbsBrightcove[a].ad_complete||fbsBrightcove.handleAdComplete(a)},handleAdStarted:function(a){fbsBrightcove[a].video_started=!0,fbsBrightcove[a].video_complete&&(fbsBrightcove[a].ad_started=!0)},handleAdComplete:function(a){fbsBrightcove[a].video_complete&&!fbsBrightcove[a].ad_complete&&(fbsBrightcove[a].ad_started=!1,fbsBrightcove[a].ad_complete=!0,fbsBrightcove[a].video_started=!1,fbsBrightcove.handleVideoComplete(a))},playVideo:function(a){fbsBrightcove[a].video_complete=!1,fbsBrightcove[a].ad_started=!1,fbsBrightcove[a].ad_complete=!1,fbsBrightcove[a].video_started=!1},createPlayerHandlers:function(a){fbsBrightcove[a]={},fbsBrightcove[a].onTemplateLoaded=function(){fbsBrightcove[a].ready_initialized=!1},fbsBrightcove[a].onTemplateReady=function(){fbsBrightcove[a].ready_initialized||(fbsBrightcove[a].ready_initialized=!0,angular.element("#"+a).scope().$emit("VIDEO_INITIALIZE",a))}},createExperience:function(a,b){b||(b=0),$("#"+a).length>0?brightcove.createExperiences():5>b&&window.setTimeout(function(){fbsBrightcove.createExperience(a,b+1)},1e3)},destroySpecificPlayer:function(a,b){fbsBrightcove.removeEventListeners(a,b),delete fbsBrightcove[a]}};angular.module("forbesContributorsApp").factory("ContribViewCountFactory",["$http",function(a){return{params:function(a){for(var b=[],c=a.articles,d=Math.max(a.start-5,0);d<c.length;d++)b.push(c[d].naturalId);return{ids:'["'+b.join('","')+'"]'}},request:function(b){var c=this;return a.get("/statsapi/allTimeList",{params:c.params(b)})},parse:function(a,b){for(var c=Math.max(b.start-5,0);c<b.articles.length;c++)b.articles[c].views=-1===a[b.articles[c].naturalId]?"...":a[b.articles[c].naturalId];return b.articles}}}]);var fbs_force_build="20150903";angular.module("forbesArticleApp").controller("ContribBlockController",["$scope","$compile","$sce","ArticleStatsFactory","ArticleManagementService",function(a,b,c,d,e){a.recent=a.popular="Loading...",a.load_status="",this.render=function(b){b&&(a.contrib_block=e.current_article.article,a.follow_type="ad"===e.current_article.article.display_author.authorType||"group"===e.current_article.article.display_author.authorType?"blog":"author",$(window).width()>=1401&&"ad"===e.current_article.article.display_author.authorType&&a.contrib_block&&a.contrib_block.display_author&&(a.contrib_block.display_author.name||"").length>11&&(a.contrib_block.display_author.name=a.contrib_block.display_author.name.split(" ").map(function(a,b,c){return b===c.length-1&&a.length>11?a+" ":a}).join(" ")))},this.getRecentPopular=function(){a.load_status="info-loading",d.getRecentPopular(a.contrib_block).then(function(d){a.load_status="info-loaded";var e=b(d.data)(a);a.recent=c.trustAsHtml(e[0].outerHTML),a.popular=c.trustAsHtml(e[2].outerHTML),e=null},function(){a.load_status="",a.recent=a.popular="Error loading data! Try again later."})},this.reset=function(){a.recent=a.popular="Loading...",a.load_status=""},this.render(e.current_article)}]),angular.module("forbesArticleApp").directive("contribBlock",["$timeout","ArticleManagementService","BreakPoint","fbsMapper.TemplateMap","UtilsService",function(a,b,c,d,e){return{templateUrl:d.article_contrib_block,controller:"ContribBlockController",restrict:"AE",link:function(d,f,g,h){var i=$("body"),j=$(".modal-dialog"),k=f.parents(".article-contrib-container"),l=f.find(".entity-dive"),m=b.current_article_index;d.toggle_mode="",d.contribMouseover=function(){return c.current.max<c.sizes.xlarge.min?!1:void n()},d.contribMouseout=function(){return c.current.max<c.sizes.xlarge.min?!1:void o()},d.toggleContrib=function(){""===d.toggle_mode?n():o()},d.toggleContribTab=function(a){l.removeClass("recent popular bio").addClass(a)};var n=function(){d.toggle_mode="expand",p(),l.hasClass("info-loaded")||l.hasClass("info-loading")||h.getRecentPopular()},o=function(){a(function(){d.toggle_mode="",i.off("click.contrib_"+m),e.phaseSafeApply(d)})},p=function(){i.on("click.contrib_"+m,function(a){var b=$(a.target);$.contains(k[0],b[0])||$.contains(j[0],b[0])||o()})},q=d.$on("$destroy",function(){i.off("click.contrib_"+m),i=null,j=null,k=null,l.remove(),l=null,q()})}}}]),angular.module("forbesArticleApp").factory("ArticleStatsFactory",["$http",function(a){return{getRecentPopular:function(b){var c={authorId:b.display_author.naturalId,authorType:b.blogType,contentId:b.naturalId};return b.display_author.advoiceBrand&&(c.adPrefix=b.display_author.advoiceBrand),a({method:"get",params:c,url:"/ajax/article/author_recent_popular/",headers:{Accept:"application/json; charset=utf-8"}})}}}]),angular.module("forbesArticleApp").controller("ArticleTweetQuoteController",["$scope","$sce","ArticleManagementService","fbsMapper.TemplateMap",function(a,b,c,d){a.template_src=d.article_tweet_quote;var e=Object.create(c.current_article.article.tweetQuotes);for(var f in e)e[f]=b.trustAsHtml(e[f]);a.tweet_quotes=e}]),angular.module("forbesArticleApp").directive("articleBody",["$timeout","$interval","$compile","$route","$window","$rootScope","fbsMapper.TemplateMap","ArticleManagementService","ArticleAppState",function(a,b,c,d,e,f,g,h,i){return{templateUrl:g.article_body,restrict:"AE",link:function(j,k,l){var m,n,o,p,q={listeners:{}};if(j.guest_contrib_template=g.article_guest_contrib_template,m=h.current_article.article.uri?h.current_article.article.uri.split(".forbes.com/"):[],j.url_path=m&&m.length>1?m[1]||"":"",j.blogs_base=i.blogsBase(),d.current.params.preview_url&&0===j.article.index){var r=d.current.params.preview_url.split("/");j.url_path="preview/sites/"+r[0]+"/"+r[1]+"/"}if(n=h.current_article.article.page+1,j.url_prev=2>=n?"":n-1+"/",j.url_next=isNaN(n)?"2/":n+1+"/",j.showSpinner=function(){f.toggle_spinner="show"},j.openComments=function(b){if(b!==h.current_article_index){var c=$("#article-container-"+(i.page_data.articles["article_"+(b+1)]&&i.page_data.articles["article_"+(b+1)].in_array?b+1:"spinner")),d=$(document).scrollTop();d+.75*window.innerHeight>=c.offset().top&&$(document).scrollTop(c.offset().top-.75*window.innerHeight-25)}a(function(){i.sidebar_state="comments-expanded"===i.sidebar_state?"":"comments-expanded"})},j.openCorrectionsEmail=function(){var a="%0A",b="mailto:corrections@forbes.com",c=a+a+"--"+a+a;b+="?subject="+encodeURIComponent("Report Correction"),b+="&body=Reporting Correction for:"+a+a,b+="Title: "+h.current_article.article.title+a,b+="Author: "+h.current_article.article.author+a,b+="URL: "+h.current_article.article.uri,b+=c,b+="Your Name:"+a,b+="Correction Request:",b+=c,b+="Thank you for reporting a correction. Forbes staff will review your concern shortly.",e.location=b},o=h.current_article.article.page&&0!==h.current_article.article.page?'<p class="previous-page">Continued from page '+h.current_article.article.page+"</p>":"",p='<div class="article-injected-body">'+o+h.current_article.article.pages[h.current_article.article.page||0]+"</div>",k.find(".article-text").html(h.current_article.article.body=c(p)(j.$new())),twttr&&twttr.widgets&&twttr.widgets.load(),j.page_data=h.current_article,brightcove)a(function(){brightcove.createExperiences()});else var s=b(function(){brightcove&&(b.cancel(s),a(function(){brightcove.createExperiences()}))},100);q.initVideos=function(){var a,b,c,d=$(".video_block").width(),e=$(".video_block").height();if(h.current_article.article.brightCoveVideos)for(var f=0;f<h.current_article.article.brightCoveVideos.length;f++)a=brightcove.api.getExperience("article_video"+h.current_article.article.brightCoveVideos[f]),b=brightcove.api.modules.APIModules,a&&(c=a.getModule(b.EXPERIENCE),c.setSize(d,e))},q.listeners.videoInitializeListener=j.$on("VIDEO_INITIALIZE",q.initVideos),q.listeners.orientationListener=j.$on("orientation",q.initVideos),q.listeners.onDestroy=j.$on("$destroy",function(){q.listeners.videoInitializeListener(),q.listeners.orientationListener(),q.listeners.onDestroy()})}}}]),angular.module("forbesArticleApp").directive("articleQuoteCard",["$filter","fbsMapper.TemplateMap","ArticleAppState","ArticleManagementService","ArticleQuotecardFactory",function(a,b,c,d,e){return{templateUrl:b.article_quote_card,restrict:"A",scope:{},link:function(a,b,f){function g(){a.reverse_display=b.parents(".article-injected-body").width()/2<b.find(".card-preview").position().left}var h={quotes:{results:[{D2:parseInt(f.quotesNow),D20:parseInt(f.quotesClosing),D782:new moment(new Date).tz("America/New_York").format("MM/DD/YYYY, hh:mma zz")}]}},i=!1;a.url=c.urlBase()+f.link,a.name=f.name,a.ticker="null"===f.ticker||null===f.ticker?null:f.ticker,a.show_card=!1,a.change=e.parse(h),a.reverse_display=!1,a.showQuotecard=function(){i?(g(),a.show_card=!0):(i=!0,g(),a.show_card=!0,e.get({id:f.naturalid,type:f.type,ticker:f.ticker,exchange:f.exchange,natural_id:d.current_article.article.naturalId}).then(function(b){if(b.data){var c=e.parse(b.data);a.stories=b.data.stories,a.change=c||a.change,g()}}))},a.hideQuotecard=function(){a.show_card=!1}}}}]),angular.module("forbesArticleApp").directive("vestPocket",["$rootScope","$timeout","$window","ArticleAppState","ArticleManagementService","ArticleBodyService","ArticleAdsService","ScrollHandlerService","BreakPoint","fbsMapper.TemplateMap","UtilsService",function(a,b,c,d,e,f,g,h,i,j,k){return{templateUrl:j.article_vestpockets,restrict:"AE",link:function(a,c){function d(){b(function(){if(c.find(".vp-box").length<a.vestpockets.length){if(l++>10)return;return void b(function(){d()},10)}c.find(".vp-slick-slider").slick({onInit:function(){a.carousel_init=!0,k.phaseSafeApply(a)},onBeforeChange:function(b,c,d){a.vestpocket_initialized&&a.vestpocket_initialized[c]&&!a.vestpocket_initialized[d+1]&&(a.vestpocket_initialized=a.vestpocket_initialized.concat(i.current.max>=768?[!0,!0,!0]:[!0]),k.phaseSafeApply(a))},prevArrow:"",nextArrow:j,arrows:!0,centerMode:!1,dots:!1,slidesToShow:3,slidesToScroll:3,variableWidth:!0,autoplay:!1,speed:500,infinite:!0,responsive:[{breakpoint:768,settings:{variableWidth:!1,slidesToShow:1,slidesToScroll:1}}]})},20)}a.single_slide=!1,a.bv_ad=!1,a.carousel_init=!1,a.recommended_by="ad"===a.article.article.blogType?a.article.article.slug:"Forbes";var g,j,l=0,m={listeners:{}};g='<button type="button" class="slick-prev" data-track="vest-pocket-arrow-previous"><div class="knob icon icon-chevron-left" data-track="vest-pocket-arrow-previous"></div></button>',j='<button type="button" class="slick-next" data-track="vest-pocket-arrow-next"><div class="knob icon icon-chevron-right" data-track="vest-pocket-arrow-next"></div></button>',a.vestpockets=f.parseVestpockets(e.current_article.article.vestPocketList),"ad"===e.current_article.article.blogType&&"true"!==fbs_settings.mobile&&a.vestpockets.forEach(function(a){a.advoiceBrand&&(a.advoiceBrand=k.addBrandvoiceWhitespace(a.advoiceBrand))}),"ad"!==e.current_article.article.blogType&&"true"!==fbs_settings.mobile&&i.current.max>=768&&(h.register({name:"vestpockets_scroll-"+a.article.index,scope:{parent_scope:a,current_article_index:a.article.index},priority:2,scroll:m.addBvPockets=function(a,b){c.offset().top-b<window.innerHeight/.75&&(a.parent_scope.bv_ads=!0,this.root_scope_update=!0,h.unregister("vestpockets_scroll-"+a.current_article_index))}}),a.vestpockets&&(a.vestpockets.splice(0,0,{template_src:f.types.brandvoice.template_src}),a.vestpockets.splice(2,0,{template_src:f.types.brandvoice.template_src}))),h.register({name:"vestpockets-initial-load-"+a.article.index,scope:{parent_scope:a,current_article_index:a.article.index},priority:2,scroll:m.vpInitialLoadPocket=function(a,b){c.offset().top-b<1.25*window.innerHeight&&(a.parent_scope.vestpocket_initialized=i.current.max>=768?[!0,!0,!0,!0]:[!0,!0],this.root_scope_update=!0,h.unregister("vestpockets-initial-load-"+a.current_article_index))}}),a.vestpockets&&a.vestpockets.length>0&&d(),m.listeners.removeDestroy=a.$on("$destroy",function(){m.listeners.removeDestroy(),a.carousel_init&&(a.carousel_init=!1,c.find(".vp-slick-slider").unslick())})}}}]),angular.module("forbesArticleApp").factory("ArticleQuotecardFactory",["$http","$filter",function(a,b){return{get:function(b){return a.get("/json/get_info_card",{params:b})},parse:function(a){var c=null;if(a&&a.quotes&&a.quotes.results&&a.quotes.results.length>0&&a.quotes.results[0]){var d=a.quotes.results[0].D2-a.quotes.results[0].D20;c={display_class:0>d?"negative":"positive",change_percent:(0>d?"":"+")+b("number")(d/a.quotes.results[0].D2*100,2)+"%",change:b("number")(d,2),price_old:b("number")(a.quotes.results[0].D20,2),price_new:b("number")(a.quotes.results[0].D2,2),timestamp:a.quotes.results[0].D782}}return c}}}]),angular.module("forbesArticleApp").service("ArticleBodyService",["fbsMapper.TemplateMap","$filter","StringHelperService",function(a,b,c){this.types={blog:{template_src:a.article_vestpockets_article,author_image:!0},blogslide:{template_src:a.article_vestpockets_article,author_image:!0},brandvoice:{template_src:a.article_vestpockets_brandvoice},magazine:{template_src:a.article_vestpockets_article,author_image:!0},place:{template_src:a.article_vestpockets_place},person:{template_src:a.article_vestpockets_person},organization:{template_src:a.article_vestpockets_organization},slide:{template_src:a.article_vestpockets_gallery,author_image:!0},video:{template_src:a.article_vestpockets_video,author_image:!0}},this.reason_types={FB:{display_class:"popular-facebook",text:"Trending on Facebook"},TW:{display_class:"popular-twitter",text:"Trending on Twitter"},LI:{display_class:"popular-linkedin",text:"Trending on LinkedIn"},"MP-V":{display_class:"popular-video-gallery",text:"Most Popular"},"MP-G":{display_class:"popular-video-gallery",text:"Most Popular"},"CM-H":{display_class:"popular-video-gallery",text:"Active Conversation"},"PV-D":{display_class:"popular-video-gallery",text:"+{{number}} Views",replace_metric:function(a,c){return a.replace(/{{number}}/i,b("number")(c))}}},this.parseAdvoiceBrand=function(a){return a.advoiceBrand.replace("Voice","")},this.parseVestpockets=function(a){for(var b in a){var d=this.types[a[b].type];d&&(a[b].template_src=d.template_src,a[b].image=c.parseDAMLink(a[b].image,340,0,{background:"000000"}),a[b].advoiceBrand=a[b].advoiceBrand?this.parseAdvoiceBrand(a[b]):null,a[b].reason_parsed=a[b].reason?this.reason_types[a[b].reason.toUpperCase()]:null,a[b].reason_parsed&&a[b].reason_parsed.replace_metric&&(a[b].reason_parsed.text=a[b].reason_parsed.replace_metric(a[b].reason_parsed.text,a[b].count)))}return a||[]},this.parseSigfile=function(a,b){if(b&&b.sigfile&&a.enableSigfile&&a.pages.length>0){b.sigfile=b.sigfile.split("\r\n\r\n");for(var c in b.sigfile)b.sigfile[c]=b.sigfile[c].replace(/\u00a0/g," "),b.sigfile[c]="<p>"+b.sigfile[c].replace(/\r\n/g,"<br />")+"</p>",a.pages[a.pages.length-1]=a.pages[a.pages.length-1]||"",a.pages[a.pages.length-1]+=b.sigfile[c]}},this.parseTweetQuotes=function(a){if(a.tweetQuotes)for(var b in a.pages)a.pages[b]="<div class='tweet-this' ng-controller='ArticleTweetQuoteController' ng-include src='template_src'></div>"+a.pages[b]}}]),angular.module("fbsAds").controller("ArticleAdsController",["$scope","$controller","ArticleAdsService","ArticleAppState","ArticleManagementService",function(a,b,c,d,e){c.block_init=!0;var f={listeners:{}},g=b("fbsAdUnitController",{$scope:a,fbsService:c});return g.prototype=angular.extend({},g),g.pushGPT=function(a,b){g.new_val=g.new_val||a,g.new_val&&c.library_loaded&&(f.listeners.pushGPTListener(),g.prototype.pushGPT&&g.prototype.pushGPT.apply(this,arguments))},f.listeners.pushGPTListener=a.$watch(function(){return e.current_article&&e.current_article.article?e.current_article.article.naturalId||"stream"===e.current_article.type:!1},g.pushGPT),g}]),angular.module("forbesArticleApp").directive("adRail",["$route","$timeout","ArticleAdsService","ArticleAppState","ArticleManagementService","ScrollHandlerService",function(a,b,c,d,e,f){return{restrict:"AE",replace:!1,link:function(e,g,h){var i,j={listeners:{},ad_space_used:0,ad_rendering:!1,ad_load_complete:!1,article_element:$("#article-container-"+e.article.index),mobile_progressive_index:1,sticky_rec_ad_options:{},win:$(window)},k=850,l=600;j.article_body_element=j.article_element.find(".article-rail"),c.resetXAdCounts(),e.article.article&&(e.article.article.specialSlot?i=e.article.article.specialSlot:e.article.article.authors&&e.article.article.authors[0]&&e.article.article.authors[0].specialSlot?i=e.article.article.authors[0].specialSlot:e.article.article.authors&&e.article.article.authors[1]&&e.article.article.authors[1].specialSlot&&(i=e.article.article.authors[1].specialSlot)),e.progressive=!(!a.current.params.ss&&!i),e.is_mobile||"takeover"===e.article.article.templateType||(j.ad_rendering=!0,e.ad_units=[{slot:"rec"}],j.listeners.recAdArticleListener=e.$on("REC_AD_ARTICLE_RENDERED",function(a,b){b.slot_id==="REC-AD-ARTICLE-"+e.article.index&&(j.calculateUsedSpace(b.event.size[1],0),j.listeners.recAdArticleListener(),j.listeners.recAdArticleListener=null,j.ad_rendering=!1,e.progressive?$(document).scroll():j.tryToInsertAd(this))}),j.listeners.logeAdArticleListener=e.$on("LOGE_AD_ARTICLE_RENDERED",function(a,b){b.slot_id==="LOGE-AD-ARTICLE-"+e.article.index&&(j.calculateUsedSpace(b.event.size[1],600),j.listeners.logeAdArticleListener(),j.listeners.logeAdArticleListener=null,j.ad_rendering=!1,e.progressive?$(document).scroll():j.tryToInsertAd())}),j.listeners.recxAdArticleListener=e.$on("RECX_RENDERED",function(a,b){0===b.slot_id.indexOf("RECX-AD-ARTICLE-"+e.article.index)&&(j.calculateUsedSpace(b.event.size[1],l),j.ad_rendering=!1,e.progressive?$(document).scroll():j.tryToInsertAd())}),e.rec_ad_sticky_options=fbs_settings.is_tablet?!1:{name:j.sticky_rec_ad_options.name="article_"+e.article.index+"_sticky_rec_ad",scope:j.sticky_rec_ad_options.scope={parent_scope:e,parent_locals:j,parent_element:g,article_element:$("#article-container-"+e.article.index)},scroll:j.sticky_rec_ad_options.scroll=function(a,b){if(a.ad_element){var c,d=b-a.parent_element.offset().top,e=$(a.parent_element.children().get(1)),f=a.ad_element.outerHeight()+100;a.parent_ad_element.height(f-100),!a.top_ad_element.length>0?(a.top_ad_element=$("#top-ad-article-"+a.parent_scope.article.index),c=30):c=a.top_ad_element.hasClass("sticky")?a.top_ad_element.outerHeight(!0):30,0>d+c?a.ad_element.removeClass("sticky absolute").css("margin-top",0):d+c>=0&&e.offset().top-f-c-b>0?a.ad_element.addClass("sticky").removeClass("absolute").css("margin-top",c):e.offset().top-f-c-b<=0&&a.ad_element.removeClass("sticky").addClass("absolute").css("margin-top",e.offset().top-f),e=null}},onRegister:j.sticky_rec_ad_options.onRegister=function(a){b(function(){a.ad_element=a.parent_element.find("#rec-ad-article-"+a.parent_scope.article.index),a.parent_ad_element=a.parent_element.find(".rec-ad-sticky"),a.top_ad_element=$("#top-ad-article-"+a.parent_scope.article.index)})},onDestroy:j.sticky_rec_ad_options.onDestroy=function(a){a.parent_scope=null,a.parent_locals=null,a.parent_element=null,a.ad_element=null,a.top_ad_element=null}}),(e.progressive||e.is_mobile||"takeover"===e.article.article.templateType)&&(f.isRegistered("article_"+e.article.index+"_ad_rail")||f.register({name:"article_"+e.article.index+"_ad_rail",scope:{parent_scope:e,parent_locals:j},priority:1,scroll:j.scroll=function(a,b){if(!j.ad_rendering){var c=b-a.parent_locals.article_element.offset().top;if(a.parent_locals.ad_load_complete||c>a.parent_locals.article_element.height())return void f.unregister("article_"+a.parent_scope.article.index+"_ad_rail");if("true"===fbs_settings.mobile||a.parent_scope&&a.parent_scope.article&&a.parent_scope.article.article&&"takeover"===a.parent_scope.article.article.templateType){var e=d.page_data.progressive_ads_mobile["article-"+a.parent_scope.article.index+"-ad-"+j.mobile_progressive_index];return e||(e=d.page_data.progressive_ads_mobile["article-"+a.parent_scope.article.index+"-takeover"],e&&e.scope&&e.scope.active&&(e=null)),void(e&&(!a.parent_scope.progressive&&j.mobile_progressive_index<=2||e.element.offset().top<=c+5*j.win.height()/4)&&(e.scope.active=!0,e.scope.id&&e.scope.id.indexOf("-takeover")<0&&j.mobile_progressive_index++,this.root_scope_update=!0,$(document.body).scroll()))}c>j.ad_space_used-j.win.height()/4&&j.tryToInsertAd(this)}}}),b(function(){$(document.body).scroll()})),j.calculateUsedSpace=function(a,b){j.ad_space_used+=a+b},j.tryToInsertAd=function(a){var b=k+l,c=j.article_body_element.height();j.loge_seen&&c-j.ad_space_used<=b?(j.ad_load_complete=!0,j.listeners.recxArticleListener&&(j.listeners.recxArticleListener(),j.listeners.recxArticleListener=null)):((e.ad_units||[]).push({slot:!j.loge_seen&&c-j.ad_space_used<=1.5*b&&(j.loge_seen=!0)?"loge":"recx"}),j.ad_rendering=!0,a&&(a.root_scope_update=!0))},b(function(){e.init_ads=!0}),j.listeners.onDestroy=e.$on("$destroy",function(){j.listeners.onDestroy&&(f.unregister(["article_"+e.article.index+"_ad_scroll","article_"+e.article.index+"_ad_rail"]),j.article_element=null,j.article_body_element=null,j.win=null,j.listeners.onDestroy())})}}}]),angular.module("forbesArticleApp").directive("articleAdInbody",["$cookies","fbsMapper.TemplateMap","fbsUserDataService","ArticleAppState",function(a,b,c,d){return{restrict:"A",scope:{},templateUrl:b.article_inbody_ad,link:function(b,e,f){function g(f){return b.initialized?!1:"inread"===b.unit?(h(),$(".inread").removeClass("inread-active"),$(e).addClass("inread-active"),void(c.user||a.inread_last_fire&&!(a.inread_last_fire<Date.now())||(b.initialized=!0,b.active=!0,a.inread_last_fire=Date.now()+3e5))):(b.initialized=!0,h(),d.page_data.progressive_ads_mobile=d.page_data.progressive_ads_mobile||{},void(d.page_data.progressive_ads_mobile[b.id]={element:e,scope:b}))}var h;e.attr("id","article-"+b.$parent.article.index+"-"+e.attr("id")),b.id=e.attr("id"),b.unit=f.articleAdInbody,h=b.$watch(function(){return b.$parent.progressive},g),b.$on("$destroy",function(){h&&h()})}}}]),angular.module("forbesArticleApp").directive("articleRelatedLinks",["$location","$timeout","ArticleManagementService","ArticleAdDirectivesService",function(a,b,c,d){return{restrict:"AE",link:function(e,f,g){"true"===fbs_settings.mobile||"ad"===c.current_article.article.blogType||d.related_links_list[g.id]||(d.related_links_list[g.id]=!0,b(function(){window._mNHandle.queue.push(function(){window.medianet_requrl=a.path(),window._mNDetails.loadTag(g.id,"grey"===g.color?"800x200":"800x145","grey"===g.color?"241437544":"114441758")})}))}}}]),angular.module("forbesArticleApp").directive("intxAd",["$timeout","fbsMapper.TemplateMap","fbsUserDataService","ArticleManagementService",function(a,b,c,d){return{restrict:"A",scope:{},templateUrl:b.article_intx_ad,link:function(b,e,f){var g={listeners:{}};g.init=function(){if(1===d.current_article.index&&"true"!==fbs_settings.mobile){if(g.triggered_intx)return;if(g.listeners.articleChangeListener&&(g.listeners.articleChangeListener(),g.listeners.articleLoadListener(),g.listeners.articleChangeListener=null,g.listeners.articleLoadListener=null),"ad"===d.current_article.article.blogType)return;g.triggered_intx=!0,g.triggered_intx_timer=a(function(){b.display_intx=!0},25e3)}else g.listeners.articleChangeListener||(g.listeners.articleChangeListener=b.$on("ARTICLE_SWITCH",g.init),g.listeners.articleLoadListener=b.$on("ARTICLE_LOAD_COMPLETE",g.init))},g.userChanged=function(){c.initialized&&(g.listeners.userInitializedListener(),g.listeners.userDataListener(),g.listeners.userInitializedListener=null,g.listeners.userDataListener=null,c.user||g.init())},g.listeners.userInitializedListener=b.$watch(function(){return c.user},g.userChanged),g.listeners.userDataListener=b.$watch(function(){return c.initialized},g.userChanged),g.listeners.onDestroy=b.$on("$destroy",function(){g.listeners.onDestroy&&g.listeners.onDestroy(),g.listeners.userDataListener&&(g.listeners.userInitializedListener(),g.listeners.userDataListener()),g.articleChangeListener&&(g.listeners.articleChangeListener(),g.listeners.articleLoadListener()),b.triggered_intx&&!b.display_intx&&a.cancel(g.intx_trigger_timeout)})}}}]),angular.module("fbsAds").directive("dynamicAdUnit",[function(){return{restrict:"AE",controller:"ArticleAdsController",replace:!1,scope:{id:"@id",slot:"@dynamicAdUnit",breakpoint:"@breakpoint",delayed:"@delayed",dynamic:"@dynamic",extra:"@extra"},link:function(a,b,c){var d=a.$on("$destroy",function(){d&&(b.find("iframe").empty(),d())})}}}]),angular.module("forbesArticleApp").directive("renderEndedDispatch",["$rootScope","$interval",function(a,b){return{restrict:"AE",link:function(c,d,e){var f={listeners:{},overlapInterval:void 0};window.external_services=window.external_services||{},window.external_services.ad_slots={},f.overlap=function(){var c=0;f.overlapInterval=b(function(){a.$broadcast("TOP_AD_INTERVAL"),c++,c>20&&(b.cancel(f.overlapInterval),c=0)},250)},f.listeners.removeListener=c.$on("RENDER_ENDED",function(b,c){0===c.slot_id.indexOf("TOP-AD-ARTICLE")&&(a.$broadcast("TOP_AD_ARTICLE_RENDERED",c),f.overlap()),0===c.slot_id.indexOf("REC-AD-ARTICLE")&&a.$broadcast("REC_AD_ARTICLE_RENDERED",c),0===c.slot_id.indexOf("LOGE-AD-ARTICLE")&&a.$broadcast("LOGE_AD_ARTICLE_RENDERED",c),0===c.slot_id.indexOf("RECX-AD-ARTICLE")&&a.$broadcast("RECX_RENDERED",c),0===c.slot_id.indexOf("SPON-LOGO-AD-ARTICLE")&&c.event&&c.event.isEmpty===!0&&$("#"+c.slot_id.toLowerCase()).css("display","none"),0===c.slot_id.indexOf("MOB-LOGO-AD-ARTICLE")&&c.event&&(c.event.isEmpty===!0||0===c.event.size[0]&&0===c.event.size[1]||1===c.event.size[0]&&1===c.event.size[1])&&$("#"+c.slot_id.toLowerCase()).css("display","none"),
0===c.slot_id.indexOf("INLINE-ARTICLE-")&&c.event&&(c.event.isEmpty===!0||0===c.event.size[0]&&0===c.event.size[1]||1===c.event.size[0]&&1===c.event.size[1])&&$("#"+c.slot_id.toLowerCase()).css("display","none"),c.slot_id.indexOf("-INREAD")>-1&&c.event&&(c.event.isEmpty===!0||0===c.event.size[0]&&0===c.event.size[1])&&$("#"+c.slot_id.toLowerCase()).css("display","none"),c&&c.slot_id&&(window.external_services.ad_slots[c.slot_id.toLowerCase()]={creative_id:c.event.creativeId,line_item_id:c.event.lineItemId,size_width:null!==c.event.size?c.event.size[1]:null,size_height:null!==c.event.size?c.event.size[0]:null})}),f.listeners.onDestroy=c.$on("$destroy",function(){f.overlapInterval&&(b.cancel(f.overlapInterval),f.overlapInterval=null),f.listeners.removeListener(),f.listeners.onDestroy()})}}}]),angular.module("forbesArticleApp").directive("speedBump",["$location","$interval","fbsMapper.TemplateMap","ArticleManagementService",function(a,b,c,d){return{templateUrl:c.article_speed_bump,restrict:"AE",link:function(a,b,e){"northwesternmutual"!==d.current_article.article.siteSlug&&"rbcwealthmanagement"!==d.current_article.article.siteSlug&&("true"===fbs_settings.mobile?a.speed_bump_template=c.article_speed_bump_mobile:"jpmorganchase"!==d.current_article.article.siteSlug&&(a.now=Date.now(),window.speedbump_now=a.now,a.speed_bump_template=c.article_speed_bump_desktop))}}}]),angular.module("fbsAds").service("ArticleAdsService",["$route","$location","$timeout","fbsAdsService","ArticleAppState","ArticleManagementService","UtilsService",function(a,b,c,d,e,f,g){if(a.current.locals&&"article"!==a.current.locals.type)return{};var h=Object.create(d),i={},j=0,k=0;return h.prototype=d,h.config.responsive=!1,h.config.single_request=!0,h.config.enable_openx=!0,h.config.enable_medianet=!0,h.config.enable_yieldbot="true"===fbs_settings.mobile,h.config.yieldbot_slots=h.config.enable_yieldbot?["mobile_LB","mobile_medrec"]:[],h.config.slots.loge=h.config.slots.rec,h.config.slots["mob-stream2"]=h.config.slots.mobilex,h.config.slots["mob-pro-scroll"]=h.config.slots["scroll-1"]=h.config.slots["scroll-2"]=h.config.slots.mobilex,h.config.custom_params=g.getGlobalAdParams(),h.config.slots.mobiletext={sizes:[[300,250],[336,280],[1,1]],breaks:{xxlarge:[[300,250],[336,280],[1,1]],xlarge:[[300,250],[336,280],[1,1]],large:[[300,250],[336,280],[1,1]],medium:[[300,250],[336,280],[1,1]],small:[[300,250],[336,280],[1,1]]}},h.config.slots.trend={sizes:[[1,1]],breaks:{xxlarge:[[1,1]],xlarge:[[1,1]],large:[[1,1]],medium:[[1,1]],small:[[1,1]]}},h.config.slots["spon-logo"]={sizes:[[120,40],[300,170],[300,100],[1,1]],breaks:{xxlarge:[[120,40],[300,170],[300,100],[1,1]],xlarge:[[120,40],[300,170],[300,100],[1,1]],large:[[120,40],[300,170],[300,100],[1,1]],medium:[[120,40],[300,170],[300,100],[1,1]],small:[[120,40],[300,170],[300,100],[1,1]]}},h.config.slots["ntv-belt"]={sizes:[[2,3],[1,1]],breaks:{xxlarge:[[2,3],[1,1]],xlarge:[[2,3],[1,1]],large:[[2,3],[1,1]],medium:[[2,3],[1,1]],small:[[2,3],[1,1]]}},h.config.slots.inread={sizes:[[1,1]],breaks:{xxlarge:[[1,1]],xlarge:[[1,1]],large:[[1,1]],medium:[[1,1]],small:[[1,1]]}},h.config.slots.intx={sizes:[[1,1]],breaks:{xxlarge:[[1,1]],xlarge:[[1,1]],large:[[1,1]],medium:[[1,1]],small:[[1,1]]}},h.getSpecialSlot=function(a){var b="";return a.specialSlot?b=a.specialSlot:a.display_author&&a.display_author.specialSlot?b=a.display_author.specialSlot:a.authors&&a.authors[1]&&a.authors[1].specialSlot&&(b=a.authors[1].specialSlot),b.replace(/-\d+$/,"")},h.incrementXAds=function(a){a&&"recx"===a.slot?a.custom_params={recx:""+ ++j}:a&&"mobilex"===a.slot?a.custom_params={mobilex:""+ ++j}:a&&"topx"===a.slot&&(a.custom_params={topx:""+ ++k})},h.resetXAdCounts=function(){j=0,k=0},h.applyTargeting=function(a){for(var b in a)googletag.pubads().setTargeting(b,a[b])},h.setTargeting=function(c){if(c){var d=f.current_article.article,g=[],j=[],k=d.displayChannel||"",l=d.displaySection||"",m=d.authors&&d.authors[0]?(d.authors[0].type||"").toLowerCase().replace(/\s+/g,""):"",n=h.getSpecialSlot(d),o=d.brandsToFilter?d.brandsToFilter.join(","):"",p=a.current.params.ss||"";if(e.page_data.is_inline_stream)k=e.page_data.articles.article_0.article.displayChannel||e.page_data.articles.article_0.article.omnitureChannel||"",l=e.page_data.articles.article_0.article.displaySection||"",n=h.getSpecialSlot(e.page_data.articles.article_0.article),h.config.ad_params.id="/article-d/stream",h.config.ad_params.site_zone="true"===fbs_settings.mobile?"/7175/fdcmobile/stream":"/7175/fdc.forbes/stream";else{if(d.channelSectionMappings){for(var q=0;q<d.channelSectionMappings.length;q++){var r=d.channelSectionMappings[q]||{},s=(r.channelName||"").toLowerCase().replace(/\s+/g,""),t=(r.sectionName||"").toLowerCase().replace(/\s+/g,"");s&&-1===g.indexOf(s)&&g.push(s),t&&-1===j.indexOf(t)&&j.push(s+":"+t)}g=g.join(","),j=j.join(",")}h.config.ad_params.id=d.naturalId,h.config.ad_params.site_zone="true"===fbs_settings.mobile?"/7175/fdcmobile/article-d":"/7175/fdc.forbes/article-d"}"ad"===d.blogType&&(p=""),(p||n)&&(g="",j="",k="",l="",p&&(n="")),i={channel:g,section:j,type:m,specialslot:n,brand:o,swimlane:p,fl:"forbeslife"===d.subType?"yes":""},d.images&&d.images.featured&&(i.img="big"),"app"===b.search().utm_medium&&"true"===fbs_settings.mobile&&(i.app="fdc"),"ntv-belt"===c.slot&&(c.custom_params=c.custom_params||{},c.custom_params.strnativekey="12653cf9"),"ntv-article"===c.slot&&(c.custom_params=c.custom_params||{},c.custom_params.strnativekey="3e7e0323"),"mobilerec"===c.slot&&(c.custom_params=c.custom_params||{},c.custom_params.strnativekey="13b84c32"),"top"===c.slot&&f.current_article&&0!==f.current_article.index&&(c.custom_params=c.custom_params||{},c.custom_params.scroll="true"),h.config.ad_params.displaychannel=k,h.config.ad_params.displaysection=l,h.incrementXAds(c),h.applyTargeting(i)}},h.createDynamicSlot=function(a){h.setTargeting(a),h.prototype.createDynamicSlot.apply(this,arguments)},h.createSlot=function(a){var b,d=[];if(h.setTargeting(a),a.slot_extra){if(a.slot_extra="string"==typeof a.slot_extra?JSON.parse(a.slot_extra):a.slot_extra,a.slot_extra.block&&!a.slot_extra.group)return!1;c(function(){googletag.cmd.push(function(){for(var c=0;c<a.slot_extra.group.length;c++)b=h.getAdTemplate({slot:a.slot_extra.group[c].pos,slot_id:a.slot_extra.group[c].id}),h.ad_slots[a.slot_extra.group[c].id]=googletag.defineSlot(h.config.ad_params.site_zone,b.sizes,a.slot_extra.group[c].id).setTargeting("pos",a.slot_extra.group[c].pos).setTargeting("id",h.config.ad_params.id).setTargeting("displaychannel",h.config.ad_params.displaychannel).setTargeting("displaysection",h.config.ad_params.displaysection).addService(googletag.pubads()),h.config.responsive&&h.ad_slots[a.slot_extra.group[c].id].defineSizeMapping(h.getMapping(b,a.slot_extra.group[c].pos)),a.slot_extra.group[c]=angular.extend(a.slot_extra.group[c],{slot_id:a.slot_extra.group[c].id,slot:a.slot_extra.group[c].pos}),h.prototype.setCustomTargeting(a.slot_extra.group[c]),h.prototype.setOpenxTargeting(a.slot_extra.group[c]),h.prototype.setYieldBotTargeting(a.slot_extra.group[c]);googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),googletag.enableServices(),h.prototype.medianetTargeting()}),googletag.cmd.push(function(){for(var b=0;b<a.slot_extra.group.length;b++)googletag.display(a.slot_extra.group[b].id),d.push(h.ad_slots[a.slot_extra.group[b].id]);googletag.pubads().refresh(d,{changeCorrelator:!1})})},0)}else h.prototype.createSlot.apply(this,arguments)},h.refreshSlot=function(a){var b=[];if(a.slot_extra){if(a.slot_extra="string"==typeof a.slot_extra?JSON.parse(a.slot_extra):a.slot_extra,a.slot_extra.block&&!a.slot_extra.group)return!1;for(var d=0;d<a.slot_extra.group.length;d++)b.push(h.ad_slots[a.slot_extra.group[d].id]);c(function(){googletag.pubads().refresh(b)},0)}else h.prototype.refreshSlot.apply(this,arguments)},h.config.ready=!0,h}]),angular.module("forbesArticleApp").service("ArticleAdDirectivesService",["$compile","$rootScope",function(a,b){this.related_links_list={},this.insertGPTDirective=function(){var c=b.$new(),d=a('<div class="f-gpt-bookmarklet" gpt-bookmarklet></div>')(c);$("body").append(d)}}]),angular.module("forbesArticleApp").service("ArticleAppState",[function(){this.page_data={articles:{},metrics:{},comments:{},stream:[],progressive_ads_mobile:{}},this.sidebar_state="",this.urlBase=function(){return"${domainBase!}"===fbs_settings.domain_base?"http://www-staging.forbes.com":fbs_settings.domain_base},this.blogsBase=function(){return"${blogsBase!}"===fbs_settings.blogs_base?"http://blogs-stage.forbes.com":fbs_settings.blogs_base}}]),angular.module("forbesArticleApp").service("ArticleManagementService",["$location","$rootScope","$route","ArticleAppState","ArticlePageFactory","fbsUserFormFactory","fbsUserDataService","MetaData","fbsTrackingService","fbsAdsService","UtilsService",function(a,b,c,d,e,f,g,h,i,j,k){var l=this,m=!0;this.current_article=null,this.current_article_index=0,this.maximum_article_count=11,this.loading=!1,this.medianet_flag=!1,this.loadNextArticle=function(){if(l.loading)return!1;var n=null,o=null,p=null;if(m?(n="sites/"+c.current.params.contrib_slug+"/"+c.current.params.year+"/"+c.current.params.month+"/"+c.current.params.day+"/"+c.current.params.article+"/",o=angular.equals({},fbs_settings.content)?null:fbs_settings.content||null,m=!1,j.medianet_flag=!0):(j.resetAmazonSlot(),n=d.page_data.stream&&d.page_data.stream[l.current_article_index-1]&&d.page_data.stream[l.current_article_index-1].uri?d.page_data.stream[l.current_article_index-1].uri.substring(d.page_data.stream[l.current_article_index-1].uri.indexOf(".forbes.com")+12)||null:null,a.search().ss&&a.search("ss",null),d.page_data.is_inline_stream=!1,j.medianet_flag=!0,j.config.enable_openx=!1),!n)return!1;if(0===l.current_article_index&&c.current.params.preview_url){var q=c.current.params.preview_url.split("/");n="preview/sites/"+q[0]+"/"+q[1]+"/",q[2]&&(c.current.params.page=q[2])}"true"!==fbs_settings.mobile&&0!==l.current_article_index||parseInt(c.current.params.page,10)-1!==0||a.path(n,!1).replace(),p=function(m){if(m&&m.data&&m.data.content){if(l.current_article=d.page_data.articles["article_"+l.current_article_index]={article:e.parse(m),comments:{},metrics:{},index:l.current_article_index,type:"article"},l.current_article.article&&"ad"!==l.current_article.article.blogType)try{window.advBidxc.next()}catch(o){}else j.medianet_flag=!1;0===l.current_article_index&&c.current.params.page?l.current_article.article.page=Math.min(Math.max(parseInt(c.current.params.page,10)-1,0),l.current_article.article.pages.length-1):l.current_article.article.page=0,k.setExternalServices(l.current_article.article,"article"),g.user_action_in_progress=!0,f.getUser(l.current_article.article.naturalId),!l.current_article.article.uri||a.path()===n&&l.current_article.article.page===parseInt(c.current.params.page,10)-1||a.path(n+(l.current_article.article.page?l.current_article.article.page+1+"/":""),!1).replace(),h.set(a.path(),h.construct("doge",l.current_article.article)),i.track(),l.loading=!1,b.$broadcast("ARTICLE_LOAD_COMPLETE",l.current_article_index)}else l.loading=!1},l.loading=!0,o?p({data:{content:o}}):e.request(n).then(p,function(){l.loading=!1})},this.unloadArticle=function(a){if(a>-1){var c=$(document),e=c.scrollTop(),f=$("#article-container-"+a),g=f.height();delete d.page_data.articles["article_"+a],c.scrollTop(e-g),f.scope().$broadcast("$destroy"),b.$broadcast("ARTICLE_UNLOAD_COMPLETE",a)}},this.switchArticle=function(c,e){return l.loading||l.current_article_index+c<0||l.current_article_index+c>l.maximum_article_count-1?!1:(l.current_article_index+=c,void(d.page_data.articles["article_"+l.current_article_index]?(l.current_article=d.page_data.articles["article_"+l.current_article_index],"stream"===l.current_article.type?(d.page_data.is_inline_stream=!0,b.stream_initialized=!0):(d.page_data.is_inline_stream=!1,a.path(l.current_article.article.uri.substring(l.current_article.article.uri.indexOf(".forbes.com")+12)+(l.current_article.article.page?l.current_article.article.page+1+"/":""),!1).replace(),h.set(a.path(),h.construct("doge",l.current_article.article))),b.$broadcast("ARTICLE_SWITCH",l.current_article_index),e&&k.phaseSafeApply()):l.loadNextArticle()))}}]),angular.module("forbesArticleApp").controller("ArticleSharingController",["$scope","$window","$controller","ArticleManagementService","ArticleSharingService","$rootScope","UtilsService",function(a,b,c,d,e,f,g){var h={poll:0,ctrl:c("FbsSharingController",{$scope:a})},i=this;this.setDefaults=function(){a.story?h.ctrl.defaults={url:a.story.uri+"#"+g.sharing_hash,title:a.story.title,description:a.story.content.description,thumbnail_url:a.story.image}:d.current_article.article.naturalId&&(h.ctrl.defaults={url:d.current_article.article.uri,title:d.current_article.article.title,description:d.current_article.article.description,thumbnail_url:d.current_article.article.image},i.resetShareDefaults()),a.permalink=h.ctrl.defaults.url+"#"+g.sharing_hash;var b=encodeURIComponent(h.ctrl.defaults.title+" - Forbes"),c=encodeURIComponent("Hi,\n\nI thought you'd like this:\n"+h.ctrl.defaults.url+"\n\n"+h.ctrl.defaults.title+" - Forbes");return a.mailto_query="subject="+b+"&body="+c,h.ctrl.defaults},a.postTwitter=function(){var a=h.ctrl.defaults.title,c=h.ctrl.defaults.url+"#"+g.sharing_hash,e=" via @forbes";"ad"===d.current_article.article.blogType&&(a=d.current_article.article.slug+"Voice: "+a),(a+e+" ").length+23>140&&(a=a.substring(0,140-(("… "+e+" ").length+23)),a=a.substring(0,a.lastIndexOf(" "))+"…"),b.gigya.socialize.postBookmark({provider:"twitter",url:c,shortURLs:"never",title:a+e})},a.expanded="",a.toggleExpanded=function(){a.expanded=""===a.expanded?"expanded":""},this.resetShareDefaults=function(){b.gigya&&b.gigya.socialize?e.displaySharingForArticle(d.current_article):h.poll++<5&&setTimeout(i.resetShareDefaults,300)},this.bindCountScope=function(){a.counts=e.cached_sharing_object||{}},a.$watch(function(){return e.cached_sharing_object},this.bindCountScope),f.$on("ARTICLE_LOAD_COMPLETE",function(a,b){h.poll=0,i.setDefaults()}),f.$on("ARTICLE_SWITCH",function(a,b){h.poll=0,i.setDefaults()}),e.pinterest_loaded||(globalUtils.getExternalScript({src:"//assets.pinterest.com/js/pinit.js",attrs:{"data-pin-hover":"true","data-pin-tall":"true"}}),e.pinterest_loaded=!0),(a.story||d.current_article&&d.current_article.article)&&i.setDefaults()}]),angular.module("forbesArticleApp").directive("articleSharing",["fbsMapper.TemplateMap",function(a){return{templateUrl:a.article_social_icons,controller:"ArticleSharingController",restrict:"AE",scope:{story:"="},link:function(a,b,c){a.track=c.track}}}]),angular.module("forbesArticleApp").service("ArticleSharingService",["$timeout","$window",function(a,b){var c=this;c.cached_sharing_object={},c.provider_share_language={facebook:"share",linkedin:"share"},this.displaySharingForArticle=function(d){c.cached_sharing_object={},d.metrics.share_counts?c.applyShareCounts(d.metrics.share_counts):a(function(){var a=d.article.uri;b.gigya.socialize.getProviderShareCounts({enabledProviders:"facebook,linkedin",URL:a.replace(/-staging(-\d)?/i,"").replace("fbs.forbes","www.forbes"),callback:function(a){c.parseShareCounts(a,d)}})})},this.applyShareCounts=function(a){c.cached_sharing_object=a},this.parseShareCounts=function(a,b){var d=a.shareCounts;for(var e in d)d[e]=(d[e]>0?d[e]+" ":"")+c.provider_share_language[e]+(d[e]>1?"s":"");b.metrics.share_counts=d,c.applyShareCounts(d)}}]),angular.module("forbesArticleApp").controller("ArticleHeaderController",["$scope","$element","$interval","$timeout","fbsMapper.TemplateMap","fbsUserDataService","ArticleAppState","ArticleManagementService","ScrollHandlerService",function(a,b,c,d,e,f,g,h,i){var j={listeners:{},sticky_top_ad_options:{}};a.article_header_template=e.article_header,j.userChanged=function(){f.user&&f.user.content_links&&f.user.content_links.length>0&&f.user.content_links[0].edit_post_link&&f.user.content_links[0].natural_id===h.current_article.article.naturalId&&(j.listeners.userDataWatch(),a.edit_link=$("<div/>").html(f.user.content_links[0].edit_post_link).text())},a.sticky_top_ad_options=fbs_settings.is_tablet||"true"===fbs_settings.mobile?!1:{name:j.sticky_top_ad_options.name="article_"+a.article.index+"_sticky_top_ad",scope:j.sticky_top_ad_options.scope={parent_scope:a,parent_locals:j,parent_element:b,article_element:$("#article-container-"+a.article.index),sticky_element:$("#top-ad-article-sticky-"+a.article.index)},scroll:j.sticky_top_ad_options.scroll=function(a,b){var c=b-a.article_element.offset().top;if(a.time_elapsed){if(a.toggle_stick&&c>=0){var d=a.ad_element;a.ad_element.removeClass("sticky").css("top",Math.max(c,0)).animate({top:0},300,function(){d.css({width:"100%","margin-left":"auto"}),d=null,$(document).scroll()})}return void(a.parent_locals&&a.parent_locals.sticky_top_ad_options&&i.unregister(a.parent_locals.sticky_top_ad_options.name))}a.toggle_stick&&(c>0&&"toggled"!==a.mode?(a.ad_element.addClass("sticky"),a.mode="toggled"):0>=c&&"toggled"===a.mode?(a.ad_element.removeClass("sticky"),a.mode=null):"toggled"===a.mode&&c>a.article_element.height()&&(a.time_elapsed=!0))},onRegister:j.sticky_top_ad_options.onRegister=function(a){a.renderEndedListener=a.parent_scope.$on("TOP_AD_ARTICLE_RENDERED",function(b,e){if(e.slot_id==="TOP-AD-ARTICLE-"+a.parent_scope.article.index){a.ad_element=$("#top-ad-article-"+a.parent_scope.article.index),a.ad_element.height(a.sticky_element.outerHeight(!0));var f=c(function(){var b;try{b=a.ad_element.find('[id*="__container__"] > iframe').contents().find("html").html()}catch(e){return a.parent_locals&&a.parent_locals.sticky_top_ad_options&&i.unregister(a.parent_locals.sticky_top_ad_options.name),void c.cancel(f)}b&&(c.cancel(f),-1===b.indexOf("http://d3.forbes.servedbyopenx.com")&&-1===b.indexOf("pub-4111763448220873")&&"nav-expanded"!==g.sidebar_state&&"trending-expanded"!==g.sidebar_state&&"comments-expanded"!==g.sidebar_state?(a.ad_element.css({width:a.ad_element.width()+20,"margin-left":"-10px"}),a.toggle_stick=!0,a.sidebarStateListener=a.parent_scope.$watch(function(){return g.sidebar_state},function(b){("nav-expanded"===b||"trending-expanded"===b||"comments-expanded"===b)&&(a.time_elapsed=!0,a.sidebarStateListener(),a.sidebarStateListener=null)}),d(function(){a.time_elapsed=!0,$(document).scroll()},3e3)):a.parent_locals&&a.parent_locals.sticky_top_ad_options&&i.unregister(a.parent_locals.sticky_top_ad_options.name))},100);a.renderEndedListener(),a.renderEndedListener=null}})},onDestroy:j.sticky_top_ad_options.onDestroy=function(a){a.article_element=null,a.parent_element=null,a.parent_locals=null,a.sticky_element=null,a.ad_element=null,a.renderEndedListener&&(a.renderEndedListener(),a.renderEndedListener=null),a.sidebarStateListener&&(a.sidebarStateListener(),a.sidebarStateListener=null),a.parent_scope=null}},j.headerDataChanged=function(){g.page_data.header_data&&(a.circ_link=g.page_data.header_data&&g.page_data.header_data.headersubnavdogelink&&g.page_data.header_data.headersubnavdogelink.contentPositions?g.page_data.header_data.headersubnavdogelink.contentPositions[0]||"":"",j.listeners.headerDataWatch())},j.listeners.userDataWatch=a.$watch(function(){return f.user},j.userChanged),j.listeners.headerDataWatch=a.$watch(function(){return g.page_data.header_data},j.headerDataChanged)}]),angular.module("forbesArticleApp").controller("ArticlePageController",["$cookies","$rootScope","$route","$scope","$timeout","ArticleAppState","ArticleManagementService","ArticleStreamInlineFactory","ArticleStreamStatsService","ScrollHandlerService",function(a,b,c,d,e,f,g,h,i,j){var k={listeners:{},article_switch_scroll_options:{},stream_loaded:!1},l=function(a){!b.is_mobile&&k.stream_loaded&&(!f.page_data.stream||f.page_data.stream.length<g.current_article_index+1)&&"spinner"===d.articles[d.articles.length-1].type&&(d.articles.splice(d.articles.length-1,1),a&&(a.root_scope_update=!0))};b.is_mobile="true"===fbs_settings.mobile?!0:!1,d.articles=[{type:"spinner",index:"spinner"}],f.page_data={articles:{},metrics:{},comments:{},stream:[],progressive_ads_mobile:{}},j.isRegistered("ArticleSwitchListener")||j.register({name:k.article_switch_scroll_options.name="ArticleSwitchListener",priority:0,scope:k.article_switch_scroll_options.scope={article_loading:!1,parent_scope:d},scroll:k.article_switch_scroll_options.scroll=function(a,b){var c,d;if(!a.article_loading)return c=f.page_data.articles["article_"+(g.current_article_index-1)],c=c?$("#article-container-"+g.current_article_index):null,c&&c.length>0&&b<c.offset().top-.75*window.innerHeight?(a.article_loading=!0,g.switchArticle(-1),void(this.root_scope_update=!0)):(d=f.page_data.articles["article_"+(g.current_article_index+1)],d=$("#article-container-"+(d||{index:"spinner"}).index),d.length>0&&b+.75*window.innerHeight>=d.offset().top?(a.article_loading=!0,g.switchArticle(1),void(this.root_scope_update=!0)):void 0)},onArticleChange:k.article_switch_scroll_options.onArticleChange=function(a){f.page_data.articles["article_"+g.current_article_index].in_array||($(".article-background-wrapper").css("min-height",$(".article-background-wrapper").height()),g.current_article.in_array=!0,a.parent_scope.articles.splice(a.parent_scope.articles.length-1,0,g.current_article),"true"===fbs_settings.mobile&&(f.page_data.articles.article_1={article:{},comments:{},metrics:{},index:1,type:"stream",in_array:!0,stream_items:f.page_data.stream},a.parent_scope.articles.splice(a.parent_scope.articles.length-1,1,f.page_data.articles.article_1),e(function(){i.enableProgressiveMobileAds(a.parent_scope)})),a.parent_scope.articles.length>4&&(g.unloadArticle(a.parent_scope.articles[0].index),a.parent_scope.articles.splice(0,1)),g.current_article_index===g.maximum_article_count-1&&"spinner"===a.parent_scope.articles[a.parent_scope.articles.length-1].type?a.parent_scope.articles.splice(a.parent_scope.articles.length-1,1):l(this),window.external_services&&g.current_article&&g.current_article.article&&(window.external_services.current_article_id=g.current_article.article.id.replace("content_","")),this.root_scope_update=!0,e(function(){$(".article-background-wrapper").css("min-height","")},2e3)),e(function(){a.article_loading=!1})}}),this.requestPage=function(){g.loadNextArticle()},this.loadStream=function(){g.current_article&&g.current_article.article&&g.current_article.article.primaryChannel&&g.current_article.article.primaryChannel.id&&(k.listeners.streamLoadListener(),h.request(g.current_article.article.primaryChannel.id).then(function(a){a&&a.data&&(f.page_data.stream=h.parse(a),d.stream=f.page_data.stream),k.stream_loaded=!0,l()},function(a){k.stream_loaded=!0,l()}))},this.changeState=function(a){(a||""===a)&&(b.article_sidebar=d.sidebar_state=a)},this.setDeltaCookieExpiration=function(){if(a.forbesbeta){var b=a.forbesbeta,c=moment().tz("America/New_York").add(1,"days").startOf("day");document.cookie="forbesbeta="+b+";path=/;domain=.forbes.com;expires="+c.toDate().toUTCString()}},this.checkOutbrainWelcome=function(){if(c.current.params&&"outbrain"===c.current.params.utm_source){var a=moment().tz("America/New_York").add(1,"days").startOf("day");document.cookie="dailyWelcomeCookie=true;path=/;domain=.forbes.com;expires="+a.toDate().toUTCString(),document.cookie="welcomeAd=true;path=/;domain=.forbes.com"}},k.listeners.sidebarWatch=d.$watch(function(){return f.sidebar_state},this.changeState),k.listeners.streamLoadListener=d.$on("ARTICLE_LOAD_COMPLETE",this.loadStream),this.requestPage(),this.setDeltaCookieExpiration(),this.checkOutbrainWelcome()}]),angular.module("forbesArticleApp").factory("ArticlePageFactory",["$http","$sce","ArticleAppState","ArticleBodyService","BreakPoint","UtilsService",function(a,b,c,d,e,f){return{params:function(a){return{shortcodes:!0,slides:!0,type:"doge",tickers:!0,bvallpages:!0,autovpslider:!0,stream:!0,uri:c.urlBase()+"/"+(0===a.indexOf("preview/")&&"/"===a.slice(-1)?a.slice(0,a.length-1):a),mobile:"true"===fbs_settings.mobile,prgsmobileads:"true"===fbs_settings.mobile}},request:function(b){return a.get(b&&0===b.indexOf("preview/")?"/forbesapi/preview/content.json":"/forbesapi/content/uri.json",{params:this.params(b)})},parse:function(a){var b,e={};if(a.data&&a.data.content){e=a.data.content,e.display_author=e.authors?e.authors[0]||e.author:e.author,"true"!==fbs_settings.mobile&&e.pages||(e.pages=[e.body]),"0"===e.specialSlot&&(e.specialSlot=null),b=moment.tz(e.date,"America/New_York"),e.pretty_date=b.format("MMM D, YYYY @ hh:mm A"),e.ugly_date=b.format(),"ad"===e.blogType||"comm"===e.blogType||"group"===e.blogType?(e.authors[1]||(e.authors[1]={}),e.display_author=e.authors[1],e.display_author.multi=!0,d.parseSigfile(e,e.authors[0])):d.parseSigfile(e,e.display_author);for(var g in e.pages)e.pages[g]=(e.pages[g]||"").replace(/<s_script/gi,"<script").replace(/<\/e_script>/gi,"</script>"),"takeover"===e.templateType&&(e.pages[g]+='<div id="takeover" class="article-ad-takeover" article-ad-inbody="'+("true"===fbs_settings.mobile?"mobilerec":"topx")+'"></div>');if(e.display_author.avatars&&e.display_author.avatars.length>0&&(e.display_author.avatars=f.parseAvatars(e.display_author.avatars)),e.magazine){var h,i=e.magazine.pubName;e.magazine.issueDate+=18e6,h=moment.tz(e.magazine.issueDate,"America/New_York"),e.magazine.subscription_link="https://subs.forbesmagazine.com/servlet/OrdersGateway?cds_mag_code=FRB&cds_page_id=189431","Forbes"===i?e.magazine.pretty_date=h.format("MMMM D, YYYY"):"Forbes Asia"===i?e.magazine.subscription_link="http://www.forbesasiasubscription.com/":(e.magazine.pubName="Forbes Life"===i?i.replace(/\s+/g,""):i,e.magazine.pretty_date=h.format("MMMM YYYY")),e.magazine.specialFeature&&(e.magazine.pretty_date=h.format("MMMM \\S\\p\\e\\c\\i\\a\\l YYYY"))}d.parseTweetQuotes(e),e.primaryChannel||(e.primaryChannel={id:"no_channel",url:c.urlBase()+"/no_channel/trending/"})}return e}}}]),angular.module("forbesArticleApp").controller("ArticlePageViewController",["$scope","$timeout","ArticleManagementService","ArticlePageViewFactory",function(a,b,c,d){a.show_page_views=!1,b(function(){d.request(c.current_article.article.naturalId).then(function(b){c.current_article.metrics.page_views=d.parse(b),a.show_page_views=c.current_article.metrics.page_views&&"0"!==c.current_article.metrics.page_views})})}]),angular.module("forbesArticleApp").factory("ArticlePageViewFactory",["$http","$filter",function(a,b){return{request:function(b){return a.get("/statsapi/page/all/20/id.json2",{params:{id:b||0}})},parse:function(a){if(a.data&&a.data.data&&a.data.data.length>0){var c=a.data.data[0];return b("number")(c.metrics.PV,0)}return null}}}]),angular.module("forbesArticleApp").controller("ArticleSearchController",["$scope","$rootScope","$sce","$timeout","fbsMapper.TemplateMap","ArticleSearchFactory","ArticleAppState",function(a,b,c,d,e,f,g){a.article_search_template=e.article_search,a.results=[],a.sidebar_state=g.sidebar_state,a.search_term="",this.timeout_handle=!1,a.termChanged=function(b){this.timeout_handle&&d.cancel(this.timeout_handle),b.length>2?this.timeout_handle=d(function(){f.request(b).then(function(b){a.results=f.parse(b)})},300):a.results=[]},a.highlight=function(a,b){return b?c.trustAsHtml(unescape(escape(a).replace(new RegExp(escape(b),"gi"),'<span class="highlight">$&</span>'))):c.trustAsHtml(a)},this.changeState=function(c){(c||""===c)&&(a.sidebar_state=c),"search-expanded"===c&&b.$broadcast("SEARCH_EXPANDED")},a.$watch(function(){return g.sidebar_state},this.changeState)}]),angular.module("forbesArticleApp").directive("searchInput",["$rootScope","$timeout",function(a,b){return{restrict:"AE",link:function(c,d){var e,f;e=a.$on("SEARCH_EXPANDED",function(){b(function(){$(d).focus()})}),f=c.$on("$destroy",function(){e(),f()})}}}]),angular.module("forbesArticleApp").factory("ArticleSearchFactory",["$http",function(a){return{request:function(b){return a.get("/typeahead/search",{cache:!0,params:{term:b}})},parse:function(a){for(var b=a.data||[],c=0;c<b.length;c++){var d=b[c];d.icon=d.icon.replace("50x50","100x100")}return b}}}]),angular.module("forbesArticleApp").controller("ArticleCommentsController",["$scope","$sce","$timeout","$window","ArticleAppState","ArticleManagementService","ArticleCommentsFactory","ArticleCommentsService","fbsMapper.TemplateMap","fbsUserDataService","fbsModalService",function(a,b,c,d,e,f,g,h,i,j,k){var l=this,m={listeners:{}};a.template_path=i.article_sidebar_comments,a.reply_path=i.article_sidebar_comments_reply,a.new_comment_box_path=i.article_sidebar_comments_new_comment_box,a.comment_text={},this.articleSwitched=function(){f.current_article&&c(function(){if(angular.equals({},f.current_article.comments)){var b={title:"",comment_type:{},active:"calledout",comment_text:""};f.current_article.metrics.comments?(b.title=f.current_article.metrics.comments,m.listeners.removeArticleCommentMetricsListener&&m.listeners.removeArticleCommentMetricsListener()):m.listeners.removeArticleCommentMetricsListener||(m.listeners.removeArticleCommentMetricsListener=a.$watch(function(){return f.current_article.metrics.comments},function(){m.listeners.removeArticleCommentMetricsListener(),m.listeners.removeArticleCommentMetricsListener=null,f.current_article.comments.title=f.current_article.metrics.comments})),a.comments=f.current_article.comments=b}else a.comments=f.current_article.comments;a.article=f.current_article.article,l.initialComments(),l.pulseHeadline()})},this.initialComments=function(b){"comments-expanded"!==e.sidebar_state||a.comments.initial_loaded||(f.current_article.article.calledOutCommentCount>0?l.requestComments("calledout",1):f.current_article.article.commentCount>0&&(a.comments.collapse_expand_all_number=f.current_article.article.commentCount))},this.requestComments=function(b,c){c=c||1,a.comments.initial_loaded=!0,g.request(f.current_article.article.naturalId,b,c).then(function(d){d.data.comments&&(a.comments.comment_type[b]=g.parse(d.data),a.comments.comment_type[b].pagination=h.generatePagination(c,d.data.pages,7),$(".article-comments-panel").scrollTop(0))})},a.switchComments=function(b){a.comments.expand_all="general"===b?!0:!1,a.comments.active=b,a.comments.comment_type[b]||("general"===b&&a.article.commentCount>0?l.requestComments(b):"calledout"===b&&a.article.calledOutCommentCount>0&&l.requestComments(b))},a.refreshComments=function(){m.listeners.removeModalClosedListener&&m.listeners.removeModalClosedListener(),a.toggleCommentReply({}),l.requestComments(a.expand_all?"general":"calledout",a.comments.comment_type[a.comments.active].pagination.page.current_page)},a.changeComments=function(b){l.requestComments(a.comments.active,b)},a.toggleCommentGuidelines=function(){a.comments.guidelines_state=!a.comments.guidelines_state},a.toggleHiddenComments=function(b){a.comments.comment_type[a.comments.active].expand[b]="expand"===a.comments.comment_type[a.comments.active].expand[b]?"":"expand"},a.toggleCommentReply=function(b){a.comments.active_reply=a.comments.active_reply===b.id?null:b.id},this.pulseHeadline=function(){"comments-expanded"===e.sidebar_state&&(a.highlight=!0,m.pulseTimeout&&(c.cancel(m.pulseTimeout),m.pulseTimeout=null),m.pulseTimeout=c(function(){a.highlight=null,m.pulseTimeout=null},1e3))},a.postComment=function(c){var d=0,e=a.comment_text.text;c&&(d=c.id?c.id.substring(c.id.lastIndexOf("-")+1)||0:0,e=c.new_comment_text);var f=null;if(a.user&&a.user.content_links)for(var g=0;g<a.user.content_links.length;g++)a.user.content_links[0].natural_id===a.article.naturalId&&(f=a.user.content_links[0].comment_nonce);h.postComment(a.article.naturalId,d,e,f).success(function(d){if(d.errors&&d.errors.length>0){var e=b.trustAsHtml(d.errors[0].msg_html);c?c.show_comment_error=e:a.main_comment_error=e}else{c?(c.show_comment_error=null,c.new_comment_text=null):(a.main_comment_error=null,a.comment_text={});var f=h.buildModalWindow(d),g={width:800,height:800,content:f,broadcast_close:!0
};m.listeners.removeModalClosedListener=a.$on("MODAL_CLOSED",a.refreshComments),k.modal_content=g,a.open_comment&&(a.open_comment.reply_open=!1)}}).error(function(){var b="Please reload the page and try again.";c?c.show_comment_error=b:a.main_comment_error=b})},a.flagComment=function(a){var b="%0A",c="mailto:blogadmin@forbes.com?subject="+encodeURIComponent("Flag comment abuse")+"&body=Flagged Comment:"+b+encodeURIComponent(a.permalink);a.author&&(c+=b+b+"Comment authored by: "+a.author),c+=b+b+"--"+b+b+"Please Describe your concern with this comment:"+b+b+b+"--"+b+b+"Your Name:"+b+b+b+"--"+b+b+"Thank you for reporting this issue. Forbes staff will review your concern.",d.location=c},a.callOut=function(b){b&&a.user&&a.user.content_links&&a.user.content_links[0].edit_post_link&&h.callOutComment(b).success(function(d){b.show_called_out_error&&(b.show_called_out_error=null),c(function(){a.refreshComments()})}).error(function(){var a;a=b.calledOut?"An error occured while undoing this called out comment. Please reload the page and try again.":"An error occured while calling out this comment. Please reload the page and try again",b.show_called_out_error=a})},this.userChanged=function(){j.initialized&&(a.initialized=!0),j.user?(a.logged_in=!0,a.user=j.user,a.unireg_class="unireg_logout_replacement"):(a.logged_in=!1,a.user=null,a.unireg_class="unireg_login")},m.listeners.articleLoadListener=a.$on("ARTICLE_LOAD_COMPLETE",this.articleSwitched),m.listeners.articleSwitchListener=a.$on("ARTICLE_SWITCH",this.articleSwitched),m.listeners.userWatch=a.$watch(function(){return j.user},this.userChanged),m.listeners.dataServiceInitWatch=a.$watch(function(){return j.initialized},this.userChanged),m.listeners.sidebarStateWatch=a.$watch(function(){return e.sidebar_state},function(b){b&&"comments-expanded"!==b||(a.comments&&!a.comments.initial_loaded&&l.initialComments(),l.pulseHeadline())}),this.articleSwitched(),m.listeners.removeListeners=a.$on("$destroy",function(){var a=function(a){a&&a()};a(m.listeners.articleLoadListener),a(m.listeners.articleSwitchListener),a(m.listeners.userWatch),a(m.listeners.dataServiceInitWatch),a(m.listeners.sidebarStateWatch),a(m.listeners.removeArticleCommentMetricsListener),a(m.listeners.removeListeners)})}]),angular.module("forbesArticleApp").directive("articleComments",["$rootScope","$timeout","ArticleManagementService",function(a,b,c){return{restrict:"AE",link:function(a){var d={listeners:{}};d.showCount=function(b){var d;b&&(d=c.current_article.article.calledOutCommentCount||0,c.current_article.metrics.comments={count:0===d?"Comment Now":d,post_fix:0===d?"":"top comments"},a.comments=c.current_article.metrics.comments)},b(function(){d.listeners.commentsReadyWatch=a.$watch(function(){return c.current_article},d.showCount),d.showCount(c.current_article)})}}}]),angular.module("forbesArticleApp").factory("ArticleCommentsFactory",["$http","ArticleManagementService","UtilsService",function(a,b,c){return{request:function(b,c,d){return d=d||1,a.get("/forbesapi/content/comments.json",{params:{id:b,page:d,textfilter:!0,type:c}})},parse:function(a){for(var d=[],e=(new Date,0),f=!1,g=null,h=null,i=0;i<a.comments.length;i++)h=a.comments[i].parentCommentId||null,a.comments[i].display_date=moment.tz(a.comments[i].publishDate,"America/New_York").from(moment.tz("America/New_York")),a.comments[i].permalink=b.current_article.article.uri+"?commentId="+a.comments[i].id,this.parseAuthorType(a.comments[i]),a.comments[i].byline&&(a.comments[i].byline.profileUrl=c.makeContributorLink(a.comments[i].byline)),a.comments[i].calledOut?(e=0,d.push(a.comments[i]),f=!1,g=null):(f?((h&&!g||!h&&g)&&(d[d.length-1].comments[e-1].last_in_group=!0),e++,d[d.length-1].comments.push(a.comments[i]),d[d.length-1].group_length=e,g=h):(e=1,d.push({group:!0,group_length:e,comments:[a.comments[i]]}),g=h),f=!0);return{data:d,expand:[]}},parseAuthorType:function(a){if(a.byline){a.is_author=!1,a.author_type=null,a.organization=null;for(var c=0;c<b.current_article.article.authors.length;c++)a.byline.naturalId===b.current_article.article.authors[c].naturalId&&(a.is_author=!0);"AdVoice"===a.byline.type?(a.author_type="AdVoice",a.organization="ForbesBrand"===a.byline.advoiceBrand?"Forbes":a.byline.advoiceBrand,a.badge_text=a.organization+"Voice"):"Forbes Staff"===a.byline.type&&(a.author_type="Forbes Staff",a.organization="Forbes Staff")}}}}]),angular.module("forbesArticleApp").service("ArticleCommentsService",["$http","$filter",function(a,b){return{postComment:function(a,b,c,d){var e={action:"unireg_comments",natural_id:a,comment_parent:b,comment:c?c:"",_comment_nonce:d};return this.post(e)},post:function(b){return a({method:"post",url:"/wp-admin/admin-ajax.php",data:$.param(b),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},buildModalWindow:function(a){var c=a.comment_text_escaped.replace(/\n\r?/g,"<br />"),d='<div class="modal_screen comment_success"><div class="main"><p class="large">Thank you for submitting your comment:</p>';return a.comment_approved&&(d+="<p> New Comments typically appear within 30 seconds. </p>"),d+="<blockquote><p>"+b("limitChars")(c,1700,"...")+"</p></blockquote>",a.comment_approved||(d+='<p class="large"><strong>Please note:</strong> Your comment will be reviewed by Forbes staff before appearing on the site.</p>'),d+='<div id="dfp-sociallogo"></div></div></div>'},callOutComment:function(a){var b=a.calledOut?"off":"on",c=a.id.replace("comment_blogAndPostId/blog/comment/",""),d=c.split("-"),e={action:"ppi_cicero_comment_callout",callout:b,blogid:d[0],postid:d[1],commentid:d[2]};return this.post(e)},generatePagination:function(a,b,c){var d={total:b||1,current_page:a};if(!b||2>b)return{page:d};var e=1===a,f=a===b,g={current_page:a,total_pages:b,num_to_display:c-2,left_ellipsis:!1,right_ellipsis:!1,left_arrow_disabled:e,right_arrow_disabled:f};if(c>=b)return g.left_start=2,g.right_end=b-1,{page_control:g,page:d};var h=0,i=0;return 1!==a&&a!==b&&g.num_to_display--,a-Math.floor(g.num_to_display/2)>2?(g.left_ellipsis=!0,g.left_start=a-Math.floor(g.num_to_display/2)+1):b>2&&(g.left_start=2,h=a-2,0>h&&(h=0),i=Math.floor(g.num_to_display/2)-h),a+Math.ceil(g.num_to_display/2)+i<b-1?(g.right_ellipsis=!0,g.right_end=a+Math.ceil(g.num_to_display/2)+i-1):(g.right_end=b-1,h=0,a===b&&(h=1),g.left_start=b-g.num_to_display+h),{page_control:g,page:d}}}}]),angular.module("forbesArticleApp").controller("ArticleNavController",["$scope","$sce","$timeout","fbsMapper.TemplateMap","ArticleAppState","ArticleNavFactory",function(a,b,c,d,e,f){var g={listeners:{}};a.template_path=d.article_sidebar_nav,a.submenu_state={},c(function(){f.get("header").then(function(c){if(c.data&&c.data.promotedContent){if(e.page_data.header_data=c.data.promotedContent,a.channel_list=e.page_data.header_data.header,e.page_data.header_data.headercoverstory&&e.page_data.header_data.headercoverstory.contentPositions&&(a.cover_story={title:e.page_data.header_data.headercoverstory.contentPositions[0].title,image:0===e.page_data.header_data.headercoverstory.contentPositions[0].image.indexOf("http://")?e.page_data.header_data.headercoverstory.contentPositions[0].image:b.trustAsResourceUrl("http://images.forbes.com"+e.page_data.header_data.headercoverstory.contentPositions[0].image),uri:e.page_data.header_data.headercoverstory.contentPositions[0].uri}),e.page_data.header_data.headerfeature)for(var d in e.page_data.header_data.headerfeature.contentPositions)e.page_data.header_data.headerfeature.contentPositions[d].image=0===e.page_data.header_data.headerfeature.contentPositions[d].image.indexOf("http://")?e.page_data.header_data.headerfeature.contentPositions[d].image:b.trustAsResourceUrl("http://images.forbes.com"+e.page_data.header_data.headerfeature.contentPositions[d].image);a.promoted_slider=e.page_data.header_data.headerfeature.contentPositions}})}),a.goToUrl=function(a){window.location.href="http://www.forbes.com/"+a+"/"},a.toggleSubmenu=function(b){var c=a.submenu_state[b]?!1:!0;a.submenu_state={},a.submenu_state[b]=c},this.footerDataChanged=function(b){b&&(a.footer_list=e.page_data.footer_data,g.listeners.footerWatch())},this.newPostsChanged=function(b){b&&(a.new_posts=e.page_data.new_posts,g.listeners.newPostsWatch())},this.sidebarStateChanged=function(){"nav-expanded"===e.sidebar_state&&(g.listeners.sidebarStateListener(),a.initialized=!0)},g.listeners.sidebarStateListener=a.$watch(function(){return e.sidebar_state},this.sidebarStateChanged),g.listeners.footerWatch=a.$watch(function(){return e.page_data.footer_data},this.footerDataChanged),g.listeners.newPostsWatch=a.$watch(function(){return e.page_data.new_posts},this.newPostsChanged)}]),angular.module("forbesArticleApp").controller("ArticleSidebarController",["$scope","$route","fbsMapper.TemplateMap","fbsUserDataService","fbsUserFormFactory","ArticleAppState","ArticleManagementService","ArticleNavFactory","UtilsService",function(a,b,c,d,e,f,g,h,i){var j={listeners:{}},k=$(window),l=!1;a.template_path=c.article_sidebar,a.channel={channelName:null,url:null},a.initialized=!1,a.logged_in=!1,a.unireg_class="unireg_login_replacement",a.vertical_class="",a.display_share="true"===fbs_settings.mobile&&"app"==b.current.params.utm_medium?!1:!0,e.custom_form_cache.unireg_logout_replacement={content:'<div class="modal_screen auth"><i class="icon icon-close" ng-click="hideForm()"></i><div class="main"><div class="main-col-1"><img ng-src="{{user.photoURL}}" alt="" class="user-thumbnail-image" height="136" width="136" /></div><div class="main-col-2"><ul class="user-links"><li ng-if="user.display_name" class="user-links-item user-name-item"><a href="http://blogs.forbes.com/account" target="_self">{{user.display_name}}</a></li><li ng-if="user.header_links_map.post" class="user-links-item"><a ng-href="{{user.header_links_map.post}}" target="_self">Post</a></li><li ng-if="user.header_links_map.manage" class="user-links-item"><a ng-href="{{user.header_links_map.manage}}" target="_self">Manage</a></li><li class="user-links-item spacer-item"></li><li ng-if="user.header_links_map.stats" class="user-links-item"><a ng-href="{{user.header_links_map.stats}}" target="_self">Stats Dash</a></li><li ng-if="user.header_links_map.account" class="user-links-item"><a ng-href="{{user.header_links_map.account}}" target="_self">Account</a></li><li class="user-links-item"><a href="'+f.urlBase()+'/following" target="_self">Manage Following</a></li><li ng-if="user.header_links_map.help" class="user-links-item"><a ng-href="{{user.header_links_map.help}}" target="_self">Help</a></li><li ng-if="user.header_links_map.log_out" class="user-links-item"><a class="ajaxify unireg_logout" ng-href="{{user.header_links_map.log_out}}" ng-click="displayForm($event)" target="_self">Log Out</a></li></ul></div></div></div>'},e.custom_form_cache.unireg_login_replacement={content:'<div class="modal_screen auth login"><i class="icon icon-close" ng-click="$parent.hideForm()"></i><div class="heading"><h2>Log in</h2><h5>Don’t have an account? <a ng-click="displayForm($event)" class="ajaxify unireg_register" href="http://blogs.forbes.com/account/register/" target="_self">Sign up now</a></h5></div><div class="main"><div class="col1"><h3>Log in with your social account:</h3><div class="external-auth-options"><div id="gigya_login_large_div"></div></div></div><div class="col2"><h3>Log in with your Forbes account:</h3><form id="login_form" ng-submit="interceptSubmit($event)" user-form-intercept class="forbes_forms v1 unireg" action="/wp-admin/admin-ajax.php" method="post"><input type="hidden" name="action" value="unireg_login"><div class="main_error_msg" style="display:none;"><span class="icon"></span><span class="text"></span></div><div class="input_block"><label for="login_form_email">Email or Username</label><input class="textbox" type="text" name="user" value="" id="login_form_user_email" autofocus><span class="error_msg"></span></div><div class="input_block"><label for="login_form_password">Password</label><input class="textbox" type="password" name="pass" value="" id="login_form_password"><span class="error_msg"></span></div><div class="small_forgot_password_link"><a ng-click="displayForm($event)" class="ajaxify unireg_forgotpassword" href="http://blogs.forbes.com/account/forgot-password/" target="_self">Need to reset your password? Click here.</a></div><a data-submit-button="true" class="fancy_button submit" ng-click="interceptSubmit($event)" user-form-intercept><span class="outer"><span class="inner"><span class="icon"></span><span class="label">Log in</span></span></span></a><input class="hidden_submit" type="submit" name="submit" value="Submit" id="login_form_submit"></form></div></div></div>'},this.userChanged=function(){d.user?(a.logged_in=!0,a.user_initialized=!0,a.user=d.user,a.unireg_class="unireg_logout_replacement"):(a.logged_in=!1,a.user=null,a.user_initialized=!0,a.unireg_class="unireg_login_replacement")},this.streamChanged=function(){a.in_stream=f.page_data.is_inline_stream||!1},this.testVerticalHeight=function(b){var c=parseInt(b,10)||k.height();450>c?a.vertical_class="collapse-full":830>c?a.vertical_class="collapse-sharing-login":a.vertical_class="",c!==parseInt(b,10)&&i.phaseSafeApply(a)},a.iconClicked=function(b){"nav-expanded"!==b||l||(l=!0,a.initialized=!0,h.get("footer").then(function(a){a.data.promotedContent&&(a.data.promotedContent.footer_subnav_list=[],a.data.promotedContent.footerconferences&&a.data.promotedContent.footer_subnav_list.push({link:"http://www.forbes.com/conferences/",title:"Conferences",positions:a.data.promotedContent.footerconferences.contentPositions}),a.data.promotedContent.footer_subnav_list.push({link:"",title:"Education",positions:[{title:"Forbes School of Business at Ashford University",uri:"http://www.ashford.edu/degrees/online/business.htm/"}]}),a.data.promotedContent.footernewsletters&&a.data.promotedContent.footer_subnav_list.push({link:"http://www.forbes.com/newsletters/",title:"Newsletters",positions:a.data.promotedContent.footernewsletters.contentPositions}),a.data.promotedContent.footerproducts&&a.data.promotedContent.footer_subnav_list.push({link:"http://www.forbes.com/products/",title:"Products",positions:a.data.promotedContent.footerproducts.contentPositions}),a.data.promotedContent.footer_subnav_list.push({link:"",title:"Company Info",positions:[{title:"Advertise",uri:"http://www.forbesmedia.com/"},{title:"Forbes Press Room",uri:"http://www.forbes.com/sites/forbespr/"},{title:"Forbes Careers",uri:"http://www.forbes.com/sites/careers-at-forbes/"},{title:"Contact Us",uri:"http://www.forbes.com/fdc/contact.html"},{title:"Sitemap",uri:"http://www.forbes.com/fdc/sitemap.html"},{title:"Help",uri:"http://blogs.forbes.com/help/"}]}),f.page_data.footer_data=a.data.promotedContent)},function(){l=!1}),h.getNewPosts().then(function(a){a.data&&a.data.data&&a.data.data.length>0&&a.data.data[0].metrics&&(f.page_data.new_posts=a.data.data[0].metrics.PO)},function(){f.page_data.new_posts=null})),f.sidebar_state===b?f.sidebar_state="":f.sidebar_state=b},"true"!==fbs_settings.mobile&&(k.off("resize.sidebar",this.testVerticalHeight).on("resize.sidebar",this.testVerticalHeight),this.testVerticalHeight(k.height())),a.$watch(function(){return d.user},this.userChanged),a.$watch(function(){return d.initialized},this.userChanged),a.$watch(function(){return f.page_data.is_inline_stream},this.streamChanged),a.$watch(function(){return g.current_article},function(){g.current_article&&g.current_article.article&&(a.channel.channelName=g.current_article.article.primaryChannel?g.current_article.article.primaryChannel.sectionName||g.current_article.article.primaryChannel.channelName||"":"",a.channel.url=g.current_article.article.primaryChannel?g.current_article.article.primaryChannel.url||"":"",a.channel.channelName&&a.channel.channelName.length>14&&(a.channel.channelName=null),a.show_comments=!!g.current_article.article.showComments,a.show_comments||"comments-expanded"!==f.sidebar_state||(f.sidebar_state=""))}),j.listeners.onDestroy=a.$on("$destroy",function(){k.off("resize.sidebar",this.testVerticalHeight),j.listeners.onDestroy()})}]),angular.module("forbesArticleApp").directive("articleModalToggle",["fbsModalService",function(a){return{restrict:"AE",link:function(b,c){var d=function(){a.modal_content&&b.hideForm()};b.$watch(function(){return a.modal_content},d)}}}]),angular.module("forbesArticleApp").directive("articleNavCarousel",["$timeout",function(a){var b=!1;return{restrict:"AE",link:function(c,d){a(function(){d.removeClass("hidden"),d.slick({onInit:function(){b=!0},arrows:!1,dots:!1,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,speed:500,infinite:!0})});var e=c.$on("$destroy",function(){e(),b&&(b=!1,d.unslick())})}}}]),angular.module("forbesContributorsApp").directive("articleSidebarVisibility",["$timeout","ArticleAppState","ArticleManagementService","ScrollHandlerService",function(a,b,c,d){return{restrict:"A",replace:!1,link:function(e,f,g){var h={logo_visible:!1,showLogo:null,hideLogo:null,onArticleChangeHandler:null,onScrollHandler:null};h.showLogo=function(){h.logo_visible=!0,f.addClass("show")},h.hideLogo=function(){h.logo_visible=!1,f.removeClass("show")},d.isRegistered("sidebar_logo_scroll")||d.register({name:"sidebar_logo_scroll",scroll:h.onScrollHandler=function(a,b){if(a.current_article_element&&!a.current_logo&&(a.current_logo=$(a.current_article_element).find(".article-meta")[0]),a.current_logo){var c=a.current_logo.getBoundingClientRect().top,d=window.innerHeight;h.logo_visible?c>30&&d>c&&h.hideLogo():(30>c||c>d)&&h.showLogo()}},priority:2,onArticleChange:h.onArticleChangeHandler=function(d){d.current_article_element=null,d.current_logo=null,a(function(){d.current_article_element=$("#article-container-"+c.current_article_index)[0],d.current_logo=$(d.current_article_element).find(".article-meta")[0]}),c.current_article&&"stream"===c.current_article.type&&"comments-expanded"===b.sidebar_state&&(b.sidebar_state="")},onRegister:h.onRegister=function(d){d.current_article_element=null,d.current_logo=null,a(function(){d.current_article_element=$("#article-container-"+c.current_article_index)[0],d.current_logo=$(d.current_article_element).find(".article-meta")[0]}),c.current_article&&"stream"===c.current_article.type&&"comments-expanded"===b.sidebar_state&&(b.sidebar_state="")}}),a(function(){h.hideLogo()})}}}]),angular.module("forbesArticleApp").factory("ArticleNavFactory",["$http",function(a){return{url:"/forbesapi/promote/get.json",params:function(a){return{location:a,type:"map",all:!0}},get:function(b){return a({method:"GET",url:this.url,params:this.params(b)})},getNewPosts:function(){var b=moment().tz("America/New_York").format("YYYYMMDDHH");return a({method:"GET",url:"/statsapi/site/posts/"+b+"/all.json2"})}}}]),angular.module("forbesArticleApp").controller("ArticleTrendingController",["$scope","fbsMapper.TemplateMap","ArticleAppState","StringHelperService",function(a,b,c,d){a.template_path=b.article_sidebar_trending,a.trending_items=[],a.is_loaded=!1,a.initialized=!1,this.onStreamDataChange=function(b){if(b){var c=[];for(var e in b)c[e]=angular.extend({},b[e]),c[e].image=d.parseDAMLink(c[e].image,128,128);a.trending_items=c,a.is_loaded=!0}},this.onSidebarStateChange=function(b){a.initialized||"trending-expanded"!==b||(a.initialized=!0,e())};var e=a.$watch(function(){return c.sidebar_state},this.onSidebarStateChange);a.$watch(function(){return c.page_data.stream},this.onStreamDataChange)}]),angular.module("forbesArticleApp").controller("ArticleStreamInlineController",["$scope","$rootScope","$sce","ArticleAppState","ArticleManagementService","ArticleStreamStatsService","fbsMapper.TemplateMap","UtilsService",function(a,b,c,d,e,f,g,h){var i={listeners:{}},j=Object.create(f.mobile_stream_ads);i.streamLoaded=function(){if(!d.page_data.stream||angular.equals([],d.page_data.stream))return void(i.listeners.streamLoadedListener||(i.listeners.streamLoadedListener=a.$watch(function(){return d.page_data.stream},i.streamLoaded)));i.listeners.streamLoadedListener&&i.listeners.streamLoadedListener(),a.limit=19,a.stream=d.page_data.stream,a.channel_name=d.page_data.articles.article_0&&d.page_data.articles.article_0.article&&d.page_data.articles.article_0.article.primaryChannel?d.page_data.articles.article_0.article.primaryChannel.channelName||"":"",a.article_stream_template=g.article_stream_inline;for(var b in j)a.stream[j[b].position]&&(j[b].text=c.trustAsHtml(j[b].text),a.stream.splice(j[b].position,0,j[b]));a.stream.forEach(function(a){"ad"===a.brandvoice_type&&a.content.slug&&(a.content.slug=h.addBrandvoiceWhitespace(a.content.slug))}),i.listeners.renderEndedListener=a.$on("RENDER_ENDED",function(b,c){"TREND-AD"===c.slot_id&&(a.trend_ad=c.event.isEmpty?"hide":"",i.listeners.renderEndedListener())})},i.listeners.onDestroy=a.$on("$destroy",function(){i.listeners.renderEndedListener&&i.listeners.renderEndedListener(),i.listeners.streamLoadedListener&&i.listeners.streamLoadedListener(),i.listeners.onDestroy()}),i.streamLoaded()}]),angular.module("forbesArticleApp").factory("ArticleStreamInlineFactory",["$http","$sce","$compile","StringHelperService","ArticleStreamStatsService","ArticleManagementService",function(a,b,c,d,e,f){return{params:function(a){var b={channel:a,objects:!0,mobile:"true"===fbs_settings.mobile,fields:"primaryChannelId,storyType,blogType,advoiceBrand,shortUri,title,naturalId,authors,image",naturalid:f.current_article&&f.current_article.article?f.current_article.article.naturalId||null:null,stream:!0};return f.current_article&&"ad"===f.current_article.article.blogType&&(b.brandvoice=!0,b.blogid=f.current_article.article.blogId),b},request:function(b){return a.get("/forbesapi/stats/topStories.json",{params:this.params(b)})},parse:function(a){var b=[];if(a.data.topStories){for(var c=0;c<a.data.topStories.length;c++){var f=a.data.topStories[c];f.type&&"ad"===f.type||(f.detail_string=e.buildDetailString(f.reason,f.count),f.detail_class=""!==f.detail_string?f.reason.toLowerCase():"invalid",f.advoiceBrand&&(f.image=f.content.image,f.uri=f.content.uri||f.uri,f.title=f.content.title,f.reason?(f.brandvoice_type="story",f.content.slug=f.advoiceBrand,f.content.authors[0].type=f.advoiceBrand):f.brandvoice_type="ad")),f.image=d.parseDAMLink(f.image,480)}b=a.data.topStories}return b}}}]),angular.module("forbesArticleApp").service("ArticleStreamStatsService",["$filter","$timeout","ArticleAppState","ScrollHandlerService",function(a,b,c,d){var e=this;this.map={FB:function(a){return"Active on Facebook"},LI:function(a){return"Active on LinkedIn"},TW:function(a){return"Active on Twitter"},"PV-H":function(b){return"+"+a("number")(b)+" views in the last hour"},"PV-D":function(b){return"+"+a("number")(b)+" views in the last 24 hours"},"CM-H":function(b){return"+"+a("number")(b)+" comments in the last hour"},"CM-D":function(b){return"+"+a("number")(b)+" comments in the last 24 hours"}},this.mobile_stream_ads=[{position:3,type:"ad",ad_position:"scroll-1",ad_id:"scroll-1-ad",ad_index:0},{position:6,type:"ad",ad_position:"mob-pro-scroll",ad_id:"mob-pro-scroll-ad-7",ad_index:1},{position:9,type:"ad",ad_position:"scroll-2",ad_id:"scroll-2-ad",ad_index:2},{position:12,type:"ad",ad_position:"mob-pro-scroll",ad_id:"mob-pro-scroll-ad-13",ad_index:3},{position:16,type:"ad",ad_position:"scroll-1",ad_id:"scroll-1-ad-17",ad_index:4}],this.buildDetailString=function(a,b){return this.map[a]?this.map[a](b):""},this.enableProgressiveMobileAds=function(a){a.trend_ads=a.trend_ads||{},d.unregister("article_stream_ad_rail"),d.register({name:"article_stream_ad_rail",scope:{article_element:$("#article-container-1"),parent_scope:a,mobile_stream_ads:e.mobile_stream_ads,ad_index:0,current_ad:null,win:$(window)},priority:1,scroll:function(a,b){a.current_ad&&0!==a.current_ad.length||(a.current_ad=$("#stream-"+(a.mobile_stream_ads[a.ad_index]||{}).ad_id)),a.current_ad.length>0&&a.current_ad.offset().top<=b+5*a.win.height()/4&&(a.parent_scope.trend_ads[a.ad_index++]=!0,a.current_ad=null,this.root_scope_update=!0,$(document.body).scroll())}}),b(function(){$(document.body).scroll()})}}]),angular.module("fbsAds").controller("CsfAdsController",["$scope","$controller","CsfAdService","CsfAppState",function(a,b,c,d){var e=b("fbsAdUnitController",{$scope:a,fbsService:c});return e.prototype=angular.extend({},e),e}]),angular.module("forbesCSFApp").directive("csfAdRail",["$interval","$location","$rootScope","$timeout","CsfAppState","CsfAdService","BreakPoint","ScrollHandlerService",function(a,b,c,d,e,f,g,h){return{restrict:"AE",replace:!1,link:function(a,b,i){var j={listeners:{},sticky_ad_rail_options:{},sticky_solo_rec_options:{},initialized:!1,header_init:!1,row_id:void 0,incr:0};a.portrait_breakpoint=g.current.max<=768,window.external_services=window.external_services||{},window.external_services.ad_slots=window.external_services.ad_slots||{},j.loadAds=function(b){!j.initialized&&b&&(d(function(){h.register({name:"csf-progressive-ads",scope:{parent_scope:a,current_row:null},priority:0,scroll:j.progressiveAdsScroll=function(a,b){if("progressive"===e.page_data.ads_to_render){try{j.row_id=e.page_data.promoted_content.ad_rows[j.incr]}catch(c){j.row_id=null}if(!j.row_id)return;if(a.current_row=$("#"+j.row_id),a.current_row&&a.current_row.length>0&&a.current_row.offset().top-b<1.25*window.innerHeight){f.current_row=++j.incr;for(var d in f.slots_to_render)f.slots_to_render[d].slot_extra!==j.row_id||f.slots_to_render[d].bypass_progressive||f.createSlot(f.slots_to_render[d])}}},onRegister:j.progressiveAdsRegister=function(a){d(function(){$(document).scroll()},500),this.root_scope_update=!0}})}),j.listeners.removeListener(),j.initialized=!0)},a.sticky_solo_rec_options=fbs_settings.is_tablet||a.portrait_breakpoint?!1:{name:"csr-sticky-solo-rec",priority:0,scope:{parent_scope:a},scroll:j.sticky_solo_rec_options.scroll=function(a,b){var c,d,e,f,g;if(!a.parent_scope.portrait_breakpoint&&(a.header_element&&a.sticky_header_element&&(c=a.header_element.hasClass("initial")?a.header_element.height():a.sticky_header_element.height()),a.ad_element&&a.parent_element&&(e=a.ad_element.outerHeight(),f=a.parent_element.outerHeight(),d=a.parent_element.offset().top-c,g=Math.max(f,e),a.ad_element.css("min-height",g),a.parent_element.css("min-height",g)),a.sticky_element&&a.next_element.length)){if(d>b)return void a.sticky_element.removeClass("bottom sticky").css("margin-top",0);var h=a.next_element.offset().top-a.sticky_element.outerHeight()-b-c-2*a.padding_offset;if(b>=d&&h>0){var i=c+a.padding_offset;a.sticky_element.removeClass("bottom").addClass("sticky").css("margin-top",i)}else 0>=h&&a.sticky_element.removeClass("sticky").addClass("bottom").css("margin-top",0)}},onRegister:j.sticky_solo_rec_options.onRegister=function(a){a.ad_element=$(".csr-solo-rec"),a.sticky_element=$(".csr-sticky-solo-rec"),a.header_element=$(".csr-header"),a.sticky_header_element=$(".header-wrapper"),a.ad_element&&a.ad_element.length>0&&(a.parent_element=a.ad_element.parent(),a.sibling_element=a.ad_element.siblings(".promo-block-list")),a.parent_element&&a.parent_element.length>0&&(a.next_element=a.parent_element.parent().next()),a.sibling_element&&a.sibling_element.length>0&&(a.padding_offset=parseInt(a.sibling_element.css("padding-top")),d(function(){(a.sibling_element.find(".carousel-feature.csf-carousel-feature").length>0||a.sibling_element.find(".csr-trending-now").length>0)&&(j.carouselListener=a.parent_scope.$on("CSF_CAROUSEL_RENDERED",function(){var b=a.sibling_element.outerHeight();a.parent_element.css("min-height",b),a.ad_element.css("min-height",b),$(document).scroll(),j.carouselListener()}))}),this.root_scope_update=!0)}},a.sticky_ad_rail_options=fbs_settings.is_tablet||a.portrait_breakpoint?!1:{name:"csr-sticky-ad-rail",priority:0,scope:{parent_scope:a},scroll:j.sticky_ad_rail_options.scroll=function(a,b){var c,d,e,f;if(!a.parent_scope.portrait_breakpoint&&(c=b-a.parent_element.offset().top,a.header_element&&a.sticky_header_element&&(d=a.header_element.hasClass("initial")?a.header_element.height():a.sticky_header_element.height()),f=a.sticky_rec.outerHeight()+100,e=a.parent_element.offset().top-d,a.ad_element.css("min-height",a.sticky_rec.outerHeight()),a.parent_element.css("min-height",a.element.outerHeight()),a.sticky_rec&&a.next_element)){if(e>b)return void a.sticky_rec.removeClass("bottom sticky").css("margin-top",0);var g=a.next_element.offset().top-b-f-d;if(b>=e&&g>0){var h=d+a.padding_offset;a.sticky_rec.removeClass("bottom").addClass("sticky").css({"margin-top":h,bottom:""})}else if(0>=g){var i=a.next_element.outerHeight()+100+a.padding_offset;a.sticky_rec.removeClass("sticky").addClass("bottom").css({"margin-top":0,bottom:i})}}},onRegister:j.sticky_ad_rail_options.onRegister=function(a){a.element=$(".csr-double-rec"),a.sticky_rec=a.element.find(".csr-sticky-rail-rec"),a.header_element=$(".csr-header"),a.sticky_header_element=$(".header-wrapper"),a.element&&a.element.length>0&&(a.ad_element=a.element.find(".csr-rec-rail"),a.parent_element=a.element.parent(),a.padding_offset=parseInt(a.element.css("padding-top"))),a.parent_element&&a.parent_element.length>0&&(a.parent_container=a.parent_element.parent()),d(function(){a.next_element=$(".csr-loge")}),this.root_scope_update=!0}},j.listeners.breakPointListener=a.$watch(function(){return g.current},function(b){b&&void 0!=b&&(a.portrait_breakpoint=g.current.max<=768,a.portrait_breakpoint&&($(".csr-sticky-solo-rec").removeClass("sticky bottom").css("margin-top",0),$(".csr-sticky-rail-rec").removeClass("sticky bottom").css("margin-top",0),h.unregister(["csr-sticky-solo-rec","csr-sticky-ad-rail"])))}),j.listeners.headerListener=a.$on("RENDER_ENDED",function(a,b){if(b&&b.slot_id){if(0===b.slot_id.indexOf("CSR-HEADER-LEADERBOARD"))c.$broadcast("CSR-HEADER-RENDERED"),j.header_init||(j.header_init=!0,d(function(){$(document).scroll()}));else if(fbs_settings.is_tablet)if(0===b.slot_id.indexOf("CSR-REC-ROW")){var e=$(".csr-solo-rec");e.parent().css("min-height",e.outerHeight())}else if(0===b.slot_id.indexOf("CSR-STICKY-REC")){var e=$(".csr-double-rec");e.parent().css("min-height",e.outerHeight())}window.external_services.ad_slots[b.slot_id.toLowerCase()]={creative_id:b.event.creativeId,line_item_id:b.event.lineItemId,size_width:b.event.size&&b.event.size.length>0?b.event.size[1]:null,size_height:b.event.size&&b.event.size.length>0?b.event.size[0]:null}}}),j.listeners.removeListener=a.$watch(function(){return f.slots_ready},j.loadAds),j.listeners.onDestroy=a.$on("$destroy",function(){j.listeners.removeListener&&j.listeners.removeListener(),j.listeners.breakPointListener(),j.listeners.headerListener()})}}}]),angular.module("fbsAds").directive("csfAdUnit",["CsfAdService","CsfAppState",function(a,b){return{restrict:"AE",controller:"CsfAdsController",replace:!1,scope:{id:"@id",slot:"@csfAdUnit",breakpoint:"@breakpoint",delayed:"@delayed",dynamic:"@dynamic",extra:"@extra",progressive:"@progressive"},link:function(c,d,e){var f,g,h=function(){(a.checkAdRowTiming(e.extra)||"false"===c.progressive&&"progressive"===b.page_data.ads_to_render)&&(a.slots_to_render[c.id].bypass_progressive=!0,a.createSlot(a.slots_to_render[c.id]))};a.slots_to_render[c.id]?h():f=c.$on("LOAD_ADS",function(){f(),h()}),g=c.$on("$destroy",function(){d.find("iframe").empty(),g()})}}}]),angular.module("forbesCSFApp").service("CsfAdService",["$route","$rootScope","$timeout","fbsAdsService","CsfAppState","UtilsService",function(a,b,c,d,e,f){if(a.current.locals&&"csf"!==a.current.locals.type)return{};var g=Object.create(d),h=1,i=1,j=1,k=!1,l=!1;return g.prototype=d,g.config.slot_map={top:"mobilex",rec:"mobilex",loge:"mobilex",topx:"mobilex",recx:"mobilex",profile:"mobilex"},g.slots_to_render={},g.config.ad_params.id="csf",g.config.ad_params.site_zone="true"===fbs_settings.mobile?"/7175/fdcmobile/csf":"/7175/fdc.forbes/csf",g.config.responsive=!1,g.config.single_request=!0,g.config.enable_openx=!0,g.config.enable_medianet=!0,g.config.slots.loge=g.config.slots.rec,g.current_row=0,
g.config.custom_params=f.getGlobalAdParams(),d.medianet_flag=!0,g.config.slots["spon-logo"]={sizes:[[300,100],[120,40],[1,1]],breaks:{xxlarge:[[300,100],[120,40],[1,1]],xlarge:[[300,100],[120,40],[1,1]],large:[[300,100],[120,40],[1,1]],medium:[[300,100],[120,40],[1,1]],small:[[300,100],[120,40],[1,1]]}},g.config.slots["land-logo"]={sizes:[[295,45],[250,40],[120,40],[1,1]],breaks:{xxlarge:[[295,45],[250,40],[120,40],[1,1]],xlarge:[[295,45],[250,40],[120,40],[1,1]],large:[[295,45],[250,40],[120,40],[1,1]],medium:[[295,45],[250,40],[120,40],[1,1]],small:[[295,45],[250,40],[120,40],[1,1]]}},g.config.slots.profile={sizes:[[970,250],[970,90],[970,66],[728,90],[640,360],[1,1]],breaks:{xxlarge:[[970,250],[970,90],[970,66],[728,90],[640,360],[1,1]],xlarge:[[970,250],[970,90],[970,66],[728,90],[640,360],[1,1]],large:[[970,250],[970,90],[970,66],[728,90],[640,360],[1,1]],medium:[[970,250],[970,90],[970,66],[728,90],[640,360],[1,1]],small:[[970,250],[970,90],[970,66],[728,90],[640,360],[1,1]]}},g.config.slots.mobileint={sizes:[[300,250],[320,50],[1,1]],breaks:{xxlarge:[[300,250],[320,50],[1,1]],xlarge:[[300,250],[320,50],[1,1]],large:[[300,250],[320,50],[1,1]],medium:[[300,250],[320,50],[1,1]],small:[[300,250],[320,50],[1,1]]}},g.config.slots.mobilex={sizes:[[300,250],[320,50],[300,50],[1,1]],breaks:{xxlarge:[[300,250],[320,50],[300,50],[1,1]],xlarge:[[300,250],[320,50],[300,50],[1,1]],large:[[300,250],[320,50],[300,50],[1,1]],medium:[[300,250],[320,50],[300,50],[1,1]],small:[[300,250],[320,50],[300,50],[1,1]]}},g.config.slots.moreon={sizes:[[620,529],[620,236],[336,280],[300,250],[280,445]],breaks:{xxlarge:[[620,529],[620,236],[336,280],[300,250],[280,445]],xlarge:[[620,529],[620,236],[336,280],[300,250],[280,445]],large:[[620,529],[620,236],[336,280],[300,250],[280,445]],medium:[[620,529],[620,236],[336,280],[300,250],[280,445]],small:[[620,529],[620,236],[336,280],[300,250],[280,445]]}},g.config.slots.mobiletext={sizes:[[300,250],[336,280]],breaks:{xxlarge:[[300,250],[336,280]],xlarge:[[300,250],[336,280]],large:[[300,250],[336,280]],medium:[[300,250],[336,280]],small:[[300,250],[336,280]]}},g.incrementXAds=function(a){a.custom_params&&(a.custom_params.recx||a.custom_params.topx||a.custom_params.mobilex)||(a&&"recx"===a.slot?(a.custom_params={recx:""+h},h++):a&&"topx"===a.slot?(a.custom_params={topx:""+i},i++):a&&"mobilex"===a.slot&&(a.custom_params={mobilex:""+j},j++))},g.convertAdTypes=function(a){return a.ad_type_converted?!1:(a.ad_type_converted=!0,void(a&&"rec"===a.slot?l?a.slot="recx":l=!0:a&&"top"===a.slot&&(k?a.slot="topx":k=!0)))},g.applyTargeting=function(a){for(var b in a)googletag.pubads().setTargeting(b,a[b])},g.setTargeting=function(a){var c=e.page_data.channel||{},d=c.omnitureChannel||"",f=c.omnitureSection||"",h=[],i=[],j={channel:h,section:i,specialslot:"",swimlane:c.swimLane?c.specialSlot||"":""};if(c.channelSection){for(var k=0;k<c.channelSection.length;k++){var l=c.channelSection[k];l.channelName&&-1===h.indexOf(l.channelName)&&h.push((l.channelName||"").replace(/\s/gi,"").toLowerCase()),l.sectionName&&-1===i.indexOf(l.sectionName)&&i.push((l.channelName||"").replace(/\s/gi,"").toLowerCase()+":"+(l.sectionName||"").replace(/\s/gi,"").toLowerCase())}h=h.join(","),i=i.join(",")}b.is_csr&&(h=(c.channelName||"").replace(/\s/gi,"").toLowerCase(),i=(c.sectionName||"").replace(/\s/gi,"").toLowerCase(),i&&h&&(i=h+":"+i)),j.swimlane&&(d="",f="",h="",i=""),g.config.ad_params.displaychannel=d,g.config.ad_params.displaysection=f,j.channel=h,j.section=i,g.incrementXAds(a),g.applyTargeting(j)},g.createSlot=function(a){"true"===fbs_settings.mobile&&(a.slot=g.config.slot_map[a.slot]||a.slot),g.convertAdTypes(a),g.setTargeting(a),g.slots_to_render[a.slot_id]=g.slots_to_render[a.slot_id]||a,("progressive"!==e.page_data.ads_to_render||g.slots_to_render[a.slot_id].bypass_progressive||g.checkAdRowTiming(g.slots_to_render[a.slot_id].slot_extra))&&c(function(){g.slots_to_render[a.slot_id].bypass_progressive=!0,g.prototype.createSlot(a)})},g.checkAdRowTiming=function(a){if(a){var b=parseInt(a.slice(4)),c=e.page_data.promoted_content.ad_rows&&e.page_data.promoted_content.ad_rows[g.current_row]?parseInt(e.page_data.promoted_content.ad_rows[g.current_row].slice(4)):-1;if(-1===c||c>b)return!0}return!1},g.config.ready=!0,g}]),angular.module("forbesCSFApp").service("CsfAppState",[function(){this.page_data={channel:{},promoted_content:{}},this.urlBase=function(){return"${domainBase!}"===fbs_settings.domain_base?"http://www-staging.forbes.com":fbs_settings.domain_base},this.edittoolsUrl=function(){return"${toolJs!}"===fbs_settings.tool_js?"https://edittools-staging.forbes.com/tools/init":fbs_settings.tool_js},this.edittoolsBase=function(){return"${toolJs!}"===fbs_settings.tool_js?"https://edittools-staging.forbes.com/":"https://edittools"+(-1!==fbs_settings.tool_js.indexOf("staging")?"-staging":"")+".forbes.com/"}}]),angular.module("forbesCSFApp").directive("csfEditTools",["$rootScope","$timeout","CsfLayoutMapService","fbsMapper.TemplateMap","CsfAppState","CsfPageFactory","CsfPromoBlockService",function(a,b,c,d,e,f,g){var h=!1;return{restrict:"AE",replace:!0,link:function(i,j,k){var l=function(){e.page_data.edit_tools&&(m(),n())},m=function(){if(!h){h=!0;for(var a,b=[e.edittoolsUrl()],c=0;c<b.length;c++)a=document.createElement("script"),a.src=b[c],j.append(a)}},n=function(){if(c.edittools_ad_map.ad_unit=c.layout_map.ad_unit.template=d.csf_ads_edit_tools,i.is_csr){var a=$(".header-ad").height();$(".header-ad").html('<div id="csr-header-leaderboard" class="edit-tools-replacement"><div class="top" style="height:'+a+'px"></div></div>'),c.edittools_ad_map.csr_rec_ad=c.edittools_ad_map.csr_rec_rail_ad=c.edittools_ad_map.csr_loge_ad=c.edittools_ad_map.csr_medianet_ad=c.edittools_ad_map.csr_inbody_top_ad=d.csr_ads_edit_tools}$(document).off("editToolsPreviewInit",o).on("editToolsPreviewInit",o),$(document).off("editToolsPreviewInit",q).on("editToolsPreviewInit",q),$(document).off("editToolsPreviewUpdate",p).on("editToolsPreviewUpdate",p)},o=function(b,c){$("#csf-main-content").css({"min-height":Math.max($(window).height(),$("#csf-main-content").height())}),setTimeout(function(){$("#csf-main-content").css({"min-height":"100%"})},1e3),e.page_data.promoted_content=f.parse(c.data),e.page_data.promoted_content.location=e.page_data.promoted_content.location+"::"+100*Math.random(),a.$apply()},p=function(c,d){if(d&&d.data){for(var f in d.data.promotedContent)if(e.page_data.promoted_content.row_data[f]){var h=e.page_data.promoted_content.row_data[f].parent_block,i=e.page_data.promoted_content.row_data[f].parent_row;h.block_data=e.page_data.promoted_content.row_data[f]=d.data.promotedContent[f],h.block_data.parent_block=h,h.block_data.parent_row=i,g.parseBlock(h,i)}a.$broadcast("destroyCarousels")}a.$apply(),b(function(){a.$broadcast("renderCarousel"),a.$apply()})},q=function(){$(".et-control-center").off("click.et-control-center").on("click.et-control-center",function(){$(".et-row").removeClass("active")})},r=i.$watch(function(){return e.page_data.edit_tools},l),s=i.$on("$destroy",function(){$(document).off("editToolsPreviewInit",o),$(document).off("editToolsPreviewInit",removeActiveStateHandler),$(document).off("editToolsPreviewUpdate",p),r(),s()})}}}]),angular.module("forbesCSFApp").directive("csfEditToolsLink",["$window","fbsMapper.TemplateMap","CsfAppState",function(a,b,c){return{restrict:"AE",templateUrl:b.csf_edit_tools_link,replace:!0,link:function(b,d,e){document.cookie.indexOf("forbeseditor")>-1&&(b.activate_button="activate",b.visible=!0),b.activateEditTools=function(){document.cookie.indexOf("forbes_tools")>-1?(c.page_data.edit_tools=!0,b.toggle_button="toggle"):a.open(c.edittoolsBase(),"_blank")},b.toggleEditToolsDisplay=function(){$("html").toggleClass("et-on")};var f=function(){c.page_data.edit_tools&&(b.activate_button=!1,b.toggle_button="toggle")},g=b.$watch(function(){return c.page_data.edit_tools},f),h=b.$on("$destroy",function(){g(),h()})}}}]),angular.module("forbesCSFApp").directive("fullBgBleed",[function(){return{restrict:"AE",link:function(a,b,c){$(b).closest('section[id*="row-"]').addClass("full-bg-bleed")}}}]),angular.module("forbesCSFApp").directive("fullContentBleed",[function(){return{restrict:"AE",link:function(a,b,c){$(b).closest('section[id*="row-"]').addClass("full-content-bleed")}}}]),angular.module("forbesCSFApp").controller("CsfSharingController",["$controller","$scope","$timeout","$window","CsfAppState","UtilsService",function(a,b,c,d,e,f){var g=this,h={listeners:{},ctrl:a("FbsSharingController",{$scope:b})};this.setDefaults=function(){if(b.block)h.ctrl.defaults={url:b.block.uri+"#"+f.sharing_hash,title:b.block.title,description:b.block.description,thumbnail_url:b.block.image};else{if(!e.page_data.channel)return;h.listeners.onWatchChannel(),h.ctrl.defaults={url:e.urlBase()+e.page_data.channel.url+"#"+f.sharing_hash,title:e.page_data.channel.title,description:e.page_data.channel.description,thumbnail_url:e.page_data.channel.image}}return b.mailto_query=g.setMailtoQuery(h.ctrl.defaults.title,h.ctrl.defaults.url),h.ctrl.defaults},b.postTwitter=function(){var a=h.ctrl.defaults.description||h.ctrl.defaults.title||"",c=h.ctrl.defaults.url,e=" via @forbes";b.block&&b.block.advoiceBrand&&(a=b.block.advoiceBrand+"Voice: "+a),(a+e+" ").length+23>140&&(a=a.substring(0,140-(("… "+e+" ").length+23)),a=a.substring(0,a.lastIndexOf(" "))+"…"),d.gigya.socialize.postBookmark({provider:"twitter",url:c,shortURLs:"never",title:a+e})},this.setMailtoQuery=function(a,b){var c=encodeURIComponent(a+" - Forbes"),d=encodeURIComponent("Hi,\n\nI thought you'd like this:\n"+b+"\n\n"+a+" - Forbes");return"subject="+c+"&body="+d},this.init=function(){b.block?this.setDefaults():h.listeners.onWatchChannel=b.$watch(function(){return e.page_data.channel},this.setDefaults),h.listeners.onDestroy=b.$on("$destroy",function(){h.listeners.onWatchChannel&&h.listeners.onWatchChannel(),h.ctrl=null,g=null,h.listeners.onDestroy()})},this.init()}]),angular.module("forbesCSFApp").directive("csfSharing",["CsfAppState","fbsMapper.TemplateMap",function(a,b){return{templateUrl:b.csf_sharing,restrict:"AE",controller:"CsfSharingController",scope:{block:"="},link:function(a,b,c){a.is_mobile="true"===fbs_settings.mobile,a.hide_icons=!0,a.track=c.track,a.toggleIcons=function(){a.hide_icons=!a.hide_icons}}}}]),angular.module("forbesCSFApp").directive("trendingReason",["ArticleStreamStatsService",function(a){return{template:"{{reason_text}}",restrict:"AE",scope:{block:"="},link:function(b,c,d){b.block&&b.block.reason&&a.map[b.block.reason]&&(b.reason_text=a.map[b.block.reason](b.block.count),c.addClass(b.block.reason.toLowerCase()))}}}]),angular.module("forbesCSFApp").directive("csfSlickCarousel",["$compile","$rootScope","$timeout","fbsMapper.TemplateMap",function(a,b,c,d){return{restrict:"AE",templateUrl:d.csf_gallery_slide,scope:{csfSlickCarousel:"=",removeBvPrepend:"="},replace:!1,link:function(d,e,f){d.content_positions=d.csfSlickCarousel||[],d.ad_side="neither";var g={carousel_init:!1,enable_ads:"true"===f.enableAds,profile_clicks:0,creation_index:-1,html_left:'<div class="carousel-ad-wrapper ratio16x9" ng-swipe-left="nextSlide()" ng-swipe-right="previousSlide()"><div class="carousel-ad-prompt-1"><span>Advertisement</span></div><button class="carousel-ad-prompt-2" ng-click="previousSlide()"><icon class="icon icon-chevron-left"></icon> <span>Skip this ad</span></button><div class="carousel-ad-inner"><div class="carousel-ad-table"><div class="carousel-ad-cell"><div id="interstitial" class="carousel-ad" csf-ad-unit="profile" progressive="false" ng-if="ad_side === \'left\'"></div></div></div></div></div>',html_right:'<div class="carousel-ad-wrapper ratio16x9" ng-swipe-left="nextSlide()" ng-swipe-right="previousSlide()"><div class="carousel-ad-prompt-1"><span>Advertisement</span></div><button class="carousel-ad-prompt-2" ng-click="nextSlide()"><span>Skip this ad</span> <icon class="icon icon-chevron-right"></icon></button><div class="carousel-ad-inner"><div class="carousel-ad-table"><div class="carousel-ad-cell"><div id="interstitial" class="carousel-ad" csf-ad-unit="profile" progressive="false" ng-if="ad_side === \'right\'"></div></div></div></div></div>',renderCarousel:function(){c(function(){g.enable_ads&&e.closest(".csf-row").addClass("carousel-full-bleed"),e.removeClass("hidden"),g.destroyCarousel(),e.slick({onInit:function(){g.carousel_init=!0,c(function(){b.$broadcast("CSF_CAROUSEL_RENDERED")})},onBeforeChange:function(a,b,f){c(function(){e.addClass("slicking"),g.enable_ads&&(g.profile_clicks++,5===g.profile_clicks&&(d.ad_side=b>f?"left":"right"))})},onAfterChange:function(b,f){c(function(){if(e.removeClass("slicking"),g.enable_ads){if(3===g.profile_clicks)e.slickAdd(a(g.html_right)(d),f),e.slickAdd(a(g.html_left)(d),f,!0),g.creation_index=f+1,e.slickGoTo(f+1,!0);else if(6===g.profile_clicks){d.ad_side="neither";var b=0;g.creation_index===f?b=-1:g.creation_index<f&&(b=-2),e.slickRemove(g.creation_index+1),e.slickRemove(g.creation_index-1),e.slickGoTo(f+b,!0),g.profile_clicks=0}$(e).find(".slick-active").hasClass("carousel-ad-wrapper")?e.addClass("ad-onscreen"):e.removeClass("ad-onscreen")}})},prevArrow:'<button type="button" class="slick-prev"><div class="knob icon icon-chevron-left"></div></button>',nextArrow:'<button type="button" class="slick-next"><div class="knob icon icon-chevron-right"></div></button>',arrows:!0,dots:!1,slidesToShow:1,slidesToScroll:1,autoplay:"true"===f.autoplay,autoplaySpeed:5e3,speed:500,infinite:!0})})},destroyCarousel:function(){if(g.carousel_init){g.carousel_init=!1;try{e.unslick()}catch(a){e.removeClass("slick-initialized slick-slider")}}}};g.removeListener=d.$on("renderCarousel",function(){g.destroyCarousel(),d.content_positions=d.csfSlickCarousel||[],c(function(){g.renderCarousel()})}),g.removeDestroy=d.$on("$destroy",function(){g.removeListener(),g.destroyCarousel(),g.removeDestroy()}),d.previousSlide=function(){e.slickPrev()},d.nextSlide=function(){e.slickNext()},g.renderCarousel()}}}]),angular.module("forbesCSFApp").directive("csrSlickCarousel",["$rootScope","$timeout","BreakPoint","fbsMapper.TemplateMap",function(a,b,c,d){return{restrict:"AE",templateUrl:d.csr_gallery_slide,replace:!1,link:function(d,e){var f={listeners:{},breakpoint:null,carousel_init:!1};f.render=function(){e.removeClass("hidden"),e.slick({onInit:function(){f.carousel_init=!0,b(function(){a.$broadcast("CSF_CAROUSEL_RENDERED")})},onBeforeChange:function(){e.addClass("slicking")},onAfterChange:function(){b(function(){e.removeClass("slicking")})},prevArrow:'<button type="button" class="slick-prev"><div class="knob icon icon-chevron-left"></div></button>',nextArrow:'<button type="button" class="slick-next"><div class="knob icon icon-chevron-right"></div></button>',arrows:!0,dots:!1,slidesToShow:4,slidesToScroll:4,autoplay:d.layout.row_data[d.promo_block.id].autoscroll||!1,autoplaySpeed:5e3,speed:500,infinite:!1,responsive:[{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2}}]})},f.unslick=function(){if(f.carousel_init){f.carousel_init=!1;try{e.unslick()}catch(a){e.removeClass("slick-initialized slick-slider")}}},f.listeners.onBreakpoint=d.$on("breakpoint",function(){"small"!==c.current.text&&"small"===f.breakpoint?f.render():"small"===c.current.text&&"small"!==f.breakpoint&&f.unslick(),f.breakpoint=c.current.text}),f.listeners.renderCarouselListener=d.$on("renderCarousel",function(){f.unslick(),f.render()}),f.listeners.onDestroy=d.$on("$destroy",function(){f.unslick(),f.listeners.onBreakpoint(),f.listeners.renderCarouselListener(),f.listeners.onDestroy()}),b(function(){"small"!==c.current.text&&f.render(),f.breakpoint=c.current.text})}}}]),angular.module("forbesCSFApp").directive("csfOverlay",["$rootScope","$timeout","BreakPoint","CsfOverlayState","fbsModalService","fbsMapper.TemplateMap",function(a,b,c,d,e,f){return{restrict:"AE",templateUrl:f.csf_overlay_grid,scope:{content:"=",blockstyle:"="},link:function(c,f){var g={is_mobile:"true"===fbs_settings.mobile};c.current_index=-1,c.incrementItem=function(a){var b=c.current_index+("next"===a?1:-1);return b>=c.content.contentPositions.length||0>b?!1:(c.current_index=b,void(c.current_item=c.content.contentPositions[c.current_index]))},c.expandItem=function(f,h){d.overlay.data=c.content.contentPositions,d.overlay.current_index=h,b(function(){e.modal_content={content:'<div csf-overlay-mobile class="overlay-block"></div>'+(g.is_mobile?"":'<div class="overlay-ad desktop"><div id="profile-ad" csf-ad-unit="profile" progressive="false"></div></div>'),override_class:"csf-overlay-modal",broadcast_close:{}};var b=c.$watch(function(){return $(".mobile-modal .overlay-block").length>0},function(a,c){1==a&&($(".mobile-modal .overlay-block").css("height",$(window).height()-100),b())}),f=a.$on("MODAL_CLOSED",function(){c.current_index=-1,d.unblockWheelies(),f()})},200),c.current_index=h}}}}]),angular.module("forbesCSFApp").directive("csfOverlayMobile",["$compile","$rootScope","$timeout","CsfAdService","CsfOverlayState","fbsMapper.TemplateMap",function(a,b,c,d,e,f){return{restrict:"AE",templateUrl:f.csf_overlay_slide,scope:{},link:function(f,g){f.content=e.overlay.data,f.ad_side="neither";var h={listeners:{},carousel_init:!1,creation_index:-1,html_left:'<div class="overlay-ad" ng-swipe-left="nextSlide()" ng-swipe-right="previousSlide()"><div id="interstitial" csf-ad-unit="mobileint" progressive="false" ng-if="ad_side === \'left\'"></div><div class="overlay-ad-prompt">Swipe to Continue</div></div>',html_right:'<div class="overlay-ad" ng-swipe-left="nextSlide()" ng-swipe-right="previousSlide()"><div id="interstitial" csf-ad-unit="mobileint" progressive="false" ng-if="ad_side === \'right\'"></div><div class="overlay-ad-prompt">Swipe to Continue</div></div>',is_mobile:"true"===fbs_settings.mobile,profile_clicks:0,sticky_ad:$(".sticky-ad-container"),slick_config:{onInit:function(){h.carousel_init=!0,f.current_item=f.content?f.content[e.overlay.current_index]:{},g.find(".slick-list").focus()},onBeforeChange:function(a,b,e){c(function(){g.addClass("slicking"),h.profile_clicks++,h.is_mobile&&6===h.profile_clicks?(f.ad_side=b>e?"left":"right",h.sticky_ad.removeClass("csf-overlay-show")):h.is_mobile||h.profile_clicks%2!==0||d.slots_to_render&&d.slots_to_render["profile-ad"]&&d.createSlot(d.slots_to_render["profile-ad"])})},onAfterChange:function(b,d){c(function(){if(g.removeClass("slicking"),f.current_item=f.content?f.content[d]:{},h.is_mobile)if(4===h.profile_clicks)h.slick_element.slickAdd(a(h.html_right)(f),d),h.slick_element.slickAdd(a(h.html_left)(f),d,!0),h.creation_index=d+1,h.slick_element.slickGoTo(d+1,!0);else if(7===h.profile_clicks){f.ad_side="neither";var b=0;b=h.creation_index>d?0:h.creation_index===d?-1:-2,h.slick_element.slickRemove(h.creation_index+1),h.slick_element.slickRemove(h.creation_index-1),h.slick_element.slickGoTo(d+b,!0),h.sticky_ad.addClass("csf-overlay-show"),h.profile_clicks=0}})},prevArrow:'<button type="button" class="slick-prev"><div class="knob"><i class="icon icon-chevron-left"></i></div></button>',nextArrow:'<button type="button" class="slick-next"><div class="knob"><i class="icon icon-chevron-right"></i></div></button>',arrows:!0,dots:!1,initialSlide:e.overlay.current_index,slidesToShow:1,slidesToScroll:1,swipe:!1,autoplay:!1,centerMode:!1,mobileFirst:!0,lazyLoad:"ondemand",speed:500,infinite:!1},slick_element:g.find(".overlay-wrapper")};f.previousSlide=function(){h.slick_element.slickPrev()},f.nextSlide=function(){h.slick_element.slickNext()},h.renderCarousel=function(){e.blockWheelies(),c(function(){h.sticky_ad.addClass("csf-overlay-show"),g.removeClass("hidden"),h.slick_element.slick(h.slick_config)})},h.destroyCarousel=function(){if(h.carousel_init){h.carousel_init=!1;try{h.slick_element.unslick()}catch(a){g.removeClass("slick-initialized slick-slider")}}h.sticky_ad.removeClass("csf-overlay-show")},h.renderCarousel(),h.listeners.removeListener=f.$on("renderCarousel",h.renderCarousel),h.listeners.unslickCarousel=f.$on("destroyCarousels",h.destroyCarousel),h.listeners.removeOrientationChange=b.$on("orientation",h.onOrientationChanged),h.listeners.removeDestroy=f.$on("$destroy",function(){h.sticky_ad=null,h.listeners.removeListener(),h.destroyCarousel(),h.listeners.unslickCarousel(),h.listeners.removeOrientationChange(),h.listeners.removeDestroy()})}}}]),angular.module("forbesArticleApp").service("CsfOverlayState",[function(){var a="DOMMouseScroll.wheelieFix mousewheel.wheelieFix wheel.wheelieFix";this.overlay={mobile:!1},this.blockWheelies=function(){$(".fbs-modal").off(a).on(a,function(a){var b;a.target&&(b=$(a.target)).is(".description")&&!((a.originalEvent.deltaY||a.originalEvent.detail)>0?b.scrollTop()+b.innerHeight()+5>=b[0].scrollHeight:0===b.scrollTop())||a.preventDefault()})},this.unblockWheelies=function(){$(".fbs-modal").off(a)}}]),angular.module("forbesCSFApp").controller("CsfVideoController",["$scope","$sce","$timeout","CsfVideoLoader",function(a,b,c,d){a.initVideo=function(){try{a.block.parsed_id=a.block.naturalId.split("/")[2]}catch(e){return!1}a.video=b.trustAsHtml(d.generateVideo(a.block)),c(function(){fbsBrightcove.createPlayerHandlers("csf_video"+a.block.parsed_id),c(function(){brightcove.createExperiences()})})}}]),angular.module("forbesCSFApp").service("CsfVideoLoader",["CsfAppState",function(a){var b=a.page_data.channel,c=b.videoPlayer?b.videoPlayer.id||"4183764993001":"4183764993001",d=b.videoPlayer?b.videoPlayer.key||"AQ~~,AAAB6EYTR0k~,fdb8Mwy5g9EcMY6akcTFYr86SA4f7HPT":"AQ~~,AAAB6EYTR0k~,fdb8Mwy5g9EcMY6akcTFYr86SA4f7HPT";this.generateVideo=function(a){var b="csf_video",e=a.parsed_id,f=a.shortUri,g='<div style="display:none"></div><object id="'+b+e+'" class="BrightcoveExperience"><param name="bgcolor" value="#FFFFFF" /><param name="width" value="100%" /><param name="height" value="100%" /><param name="playerID" value="'+c+'" /><param name="playerKey" value="'+d+'" /><param name="isVid" value="true" /><param name="isUI" value="true" /><param name="dynamicStreaming" value="true" /><param name="autoStart" value="true" /><param name="includeAPI" value="true" /><param name="@videoPlayer" value="'+e+'"/><param name="linkBaseURL" value="'+f+'" /> <param name="wmode" value="transparent" /><param name="templateLoadHandler" value="fbsBrightcove.'+b+e+'.onTemplateLoaded" /><param name="templateReadyHandler" value="fbsBrightcove.'+b+e+'.onTemplateReady" /></object>';return g}}]),angular.module("forbesCSFApp").controller("CsfHeaderController",["$scope","$location","CsfAppState","fbsMapper.TemplateMap",function(a,b,c,d){var e={listeners:{}},f=document;e.listeners.csrWatch=a.$watch(function(){return c.page_data.is_csr},function(b){return b&&b===!0?(a.header_template=d.csr_header,void e.listeners.csrWatch()):void 0}),a.header_template=d.csf_header,a.csf_menu_class="hidden",a.csf_menu_cta_class="hidden",this.render=function(b){b&&(a.csf_menu_cta_class=c.page_data.promoted_content.title_count>0?"":"hidden",a.menu_items=c.page_data.promoted_content,a.brandvoice_header=c.page_data.promoted_content.rows.brandvoiceHeader)},a.toggleMenu=function(b){"true"!==fbs_settings.mobile&&("over-menu"===b?a.csf_menu_class="":"over-out"===b?a.csf_menu_class="hidden":a.csf_menu_class="hidden"===a.csf_menu_class?"":"hidden")},a.toggleMenuClick=function(b){"hidden"===a.csf_menu_class?($(f).off("scroll.toggleMenu").on("scroll.toggleMenu",a.toggleMenuClickScroll),a.csf_menu_class=""):a.toggleMenuClickScroll()},a.toggleMenuClickScroll=function(b){$(f).off("scroll.toggleMenu"),a.csf_menu_class="hidden",b&&a.$digest()},a.scrollToSection=function(a){var b=$("#row-"+a),c=$(navigator.userAgent.indexOf("Chrome")<0&&navigator.userAgent.indexOf("Safari")<0?"html":"body");b.length<1||c.stop().animate({scrollTop:b.offset().top-$(".collapsed-header").height()},1e3)},a.toggleBrandVoiceDek=function(){$(".description-expanded").toggle()},e.listeners.headerListener=a.$watch(function(){return c.page_data.promoted_content.location},this.render),e.listeners.onDestroy=a.$on("$destroy",function(){e.listeners.csrWatch&&e.listeners.csrWatch(),e.listeners.headerListener(),e.listeners.onDestroy()})}]),angular.module("forbesCSFApp").directive("sponsorLogo",["fbsMapper.TemplateMap","BreakPoint","$location","$rootScope","CsfAdService","CsfAppState",function(a,b,c,d,e,f){return{templateUrl:a.csf_sponsor_logo,restrict:"A",scope:{page_location:"@sponsorLogo"},link:function(a,c,g){function h(){a.ads_initialized&&("head"===a.page_location&&b.current.min>768?(a.visible=!0,a.ad_requested=!0):"row"===a.page_location&&(!b.current.max||b.current.max<=768)?(a.visible=!0,a.ad_requested=!0):a.visible=!1)}var i,j,k,l,m;a.visible=!1,a.ads_initialized=e.library_loaded&&d.channel_ready,a.ad_requested=!1,a.has_spon_logo=!1,a.is_csr=f.page_data.is_csr,h(),k=a.$on("breakpoint",h),e.library_loaded||(i=d.$on("LOAD_ADS",function(){i(),a.ads_initialized=e.library_loaded&&d.channel_ready,h()})),d.channel_ready||(j=a.$watch(function(){return d.channel_ready},function(){j(),a.ads_initialized=e.library_loaded&&d.channel_ready,h()})),l=a.$watch(function(){return f.page_data.promoted_content.rows},function(){f.page_data.promoted_content.rows&&(a.has_spon_logo=f.page_data.promoted_content.rows.sponLogo,l())}),m=a.$on("$destroy",function(){k(),i&&i(),j&&j(),l&&l(),m()})}}}]),angular.module("forbesCSFApp").controller("CsfLayoutController",["$interval","$location","$scope","$timeout","CsfAppState","CsfAdService","CsfLayoutMapService",function(a,b,c,d,e,f,g){var h={listeners:{}};c.layout_map=g.edittools_ad_map,this.render=function(a,b){a&&b!==a&&($(document).off("scroll.chromeIsStupidFix"),c.layout=e.page_data.promoted_content,c.is_mobile&&c.is_csr&&(h.listeners.mobileSponLogoListener=c.$on("RENDER_ENDED",function(a,b){"MOBILE-SPON-LOGO"===b.slot_id&&(b.event.isEmpty||0===b.event.size[0]&&0===b.event.size[1]||1===b.event.size[0]&&1===b.event.size[1])&&($(".csr-mobile-spon-logo").hide(),h.listeners.mobileSponLogoListener())})),c.layout.background_fix_rows&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&d(function(){var a=$("section");$(document).off("scroll.chromeIsStupidFix").on("scroll.chromeIsStupidFix",function(){a.css({opacity:.005*Math.random()+.995})})}),d(function(){f.slots_ready=!0}))},c.scrollToEdit=function(a){var b,c,d;$(".et-row").removeClass("active"),d=$(a.currentTarget).data("edit-row"),b=$(".steps").scrollTop(),c=$($(".et-row")[d]).position().top,$(".steps").animate({scrollTop:b+c-20}),$($(".et-row")[d]).addClass("active")},h.listeners.removeWatch=c.$watch(function(){return e.page_data.promoted_content.location},this.render),h.listeners.onDestroy=c.$on("$destroy",function(){h.listeners.mobileSponLogoListener&&h.listeners.mobileSponLogoListener(),h.listeners.removeWatch(),h.listeners.onDestroy()})}]),angular.module("forbesCSFApp").controller("CsfPageController",["$location","$rootScope","$route","$scope","$timeout","CsfAdService","CsfAppState","CsfPageFactory","fbsTrackingService","MetaData","ScrollHandlerService","fbsMapper.TemplateMap","UtilsService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=this;g.page_data={promoted_content:{}},d.show_channel_list=!0,b.is_mobile="true"===fbs_settings.mobile?!0:!1,b.anim="true"===fbs_settings.mobile||/(iPad|iPhone|iPod)/gi.test(navigator.userAgent)?"anim no-parallax":"",b.footer_year=(new Date).getFullYear(),this.getChannelData=function(){if(fbs_settings.content&&!angular.equals({},fbs_settings.content))n.setAppState({data:{channelSectionMapping:fbs_settings.content}});else{var b=a.path().split("/").filter(Boolean).join("/");h.requestChannel(b).then(n.setAppState)}},this.getLayoutData=function(){fbs_settings.promoted_content&&!angular.equals({},fbs_settings.promoted_content)?n.setLayoutData({data:{promotedContent:fbs_settings.promoted_content}}):h.requestLayout(g.page_data.channel.id).then(n.setLayoutData)},this.setAppState=function(c){if(c&&c.data&&c.data.channelSectionMapping){if(c.data.channelSectionMapping.cssFile||c.data.channelSectionMapping.jsFile){var e=$("#css-js-dynamic");if(c.data.channelSectionMapping.cssFile&&("${(cssFileRendered!false)?c}"===e.find(".dynamic-css").text()||"false"===e.find(".dynamic-css").text())){var h=document.createElement("link");h.type="text/css",h.rel="stylesheet",h.href=c.data.channelSectionMapping.cssFile,document.getElementsByTagName("head")[0].appendChild(h)}if(c.data.channelSectionMapping.jsFile&&("${jsFile!}"===e.find(".dynamic-js").text()||""===e.find(".dynamic-js").html())){var k=document.createElement("script");k.setAttribute("language","javascript"),k.setAttribute("type","text/javascript"),k.setAttribute("src",c.data.channelSectionMapping.jsFile),e.find(".dynamic-js")[0].appendChild(k)}}d.ss=c.data.channelSectionMapping.swimLane&&c.data.channelSectionMapping.specialSlot?"?ss="+c.data.channelSectionMapping.specialSlot:"",f.config.ad_params.id=c.data.channelSectionMapping.id,g.page_data.ads_to_render=d.ss||a.search().ss?"progressive":"all",g.page_data.channel=c.data.channelSectionMapping,g.page_data.channel.url&&"/"!==g.page_data.channel.url.substring(g.page_data.channel.url.length-1)&&(g.page_data.channel.url+="/"),b.channel_ready=!0,b.is_csr=g.page_data.is_csr="csr"===c.data.channelSectionMapping.pageType,b.is_csr?(b.csr_page_type=g.page_data.csr_page_type=c.data.channelSectionMapping.sectionId?"section":"channel",f.config.ad_params.site_zone=("true"===fbs_settings.mobile?"/7175/fdcmobile/":"/7175/fdc.forbes/")+b.csr_page_type):g.page_data.ads_to_render="progressive",m.setExternalServices(g.page_data.channel,"csf"),j.set(a.path(),j.construct("csf",c.data.channelSectionMapping)),i.track(),n.getLayoutData()}},this.setLayoutData=function(a){e(function(){b.is_csr&&(d.csr_channel_share_bar=l.csr_channel_share_bar,d.channel_name=g.page_data.channel.channelName||"",d.section_name=g.page_data.channel.sectionName||""),a&&a.data?g.page_data.promoted_content=h.parse(a.data):g.page_data.promoted_content={ad_rows:[],location:"csf-"+g.page_data.channel.id,rows:{},row_data:{},background_fix_rows:!1}})},this.getChannelData()}]),angular.module("forbesCSFApp").factory("CsfPageFactory",["$http","$sce","CsfAppState","CsfLayoutMapService","CsfPromoBlockService","StringHelperService",function(a,b,c,d,e,f){return{requestChannel:function(b){return a.get("/forbesapi/mapping/url/"+b+".json",{})},requestLayout:function(b){return a.get("/forbesapi/promote/get.json",{params:{location:"csf-"+b+"_",all:!0,type:"map"}})},requestMoreStream:function(b,c,d){return a.get("/forbesapi/source/more.json",{params:{source:"stream",sourceType:"channelsection",sourceValue:b,date:c,ids:d}})},parse:function(a){var b,d,f={location:"csf-"+c.page_data.channel.id,rows:a.promotedContent["csf-"+c.page_data.channel.id+"_order"]||a.promotedContent["csf-"+c.page_data.channel.id]||{},row_data:a.promotedContent||{},ad_rows:[],background_fix_rows:!1,title_count:0};for(f.rows.contentPositions=f.rows.contentPositions||[],c.page_data.is_csr&&(e.insertCsrAds(f.rows.contentPositions,f.row_data),"true"!==fbs_settings.mobile&&(f.background_fix_rows=!0)),b=0;b<f.rows.contentPositions.length;b++)d=f.rows.contentPositions[b],d&&(e.parseRow(d,f.row_data),0===b&&f.rows.sponLogo&&(d.row_class_list.push("has-sponsor"),d.row_class_list.indexOf("ad-row")<0&&d.row_class_list.push("ad-row")),d.row_class_list.indexOf("has-parallax")>=0&&(f.background_fix_rows=!0),d.row_class_list.indexOf("ad-row")>=0&&f.ad_rows.push("row-"+b),d.row_class=d.row_class_list.join(" "),d.title&&f.title_count++);return f.rows.stickyHeader||(f.title_count=0),f}}}]),angular.module("forbesCSFApp").service("CsfLayoutMapService",["$sce","fbsMapper.TemplateMap","CsfAppState","CsfPromoBlockUtilsService",function(a,b,c,d){var e=this,f=function(a,b){d.parseArticleAuthors(a.block_data),d.insertDescriptionParagraphBreaks(a.block_data)};this.edittools_ad_map={ad_unit:b.csf_ads,csr_rec_ad:b.csr_rec_ad,csr_rec_rail_ad:b.csr_rec_rail_ad,csr_loge_ad:b.csr_loge_ad,csr_medianet_ad:b.csr_medianet_ad,csr_inbody_top_ad:b.csr_inbody_top_ad},this.layout_map={ad_unit:{
template:e.edittools_ad_map.ad_unit,class_name:"ad-unit",parse:function(a,b){b.row_class_list.indexOf("ad-row")<0&&b.row_class_list.push("ad-row")}},block_quote:{template:b.csf_quote_text,class_name:"quote-text",parse:f},bulleted_list:{template:b.csf_unorderedlist_text,class_name:"unordered-list",parse:f},carousel:{template:b.csf_gallery,class_name:"carousel",parse:f},custom_html:{template:b.csf_custom_html,class_name:"custom-html",parse:function(b,d){b.block_data.contentPositions[0].description?b.block_data.contentPositions[0].description=a.trustAsHtml(b.block_data.contentPositions[0].description.replace(/<s_script/gi,"<script").replace(/<\/e_script>/gi,"</script>")):c.page_data.is_csr&&"true"===fbs_settings.mobile&&(1===d.contentPositions.length&&d.row_class_list.push("hidden"),d.row_class_list.push(1===b.block_data.position?"left-align-bg":"right-align-bg"))}},description:{template:b.csf_description_text,class_name:"description-text",parse:f},grid:{template:b.csf_article_grid,class_name:"article-grid",parse:f},header:{template:b.csf_header_text,class_name:"head-text",parse:f},list:{template:b.csf_article_list,class_name:"article-list",parse:f},numbered_list:{template:b.csf_orderedlist_text,class_name:"ordered-list",parse:f},overlay:{template:b.csf_overlay,class_name:"overlay",parse:f},special_feature:{template:b.csr_special_feature,class_name:"fs-row-content fs-text-reset csr-special-feature",parse:f},stream:{template:b.csr_stream,class_name:"csf-stream",parse:function(a,b){d.parseDisplayDates(a.block_data),d.parseArticleAuthors(a.block_data),d.insertDescriptionParagraphBreaks(a.block_data),b.row_class_list.indexOf("ad-row")<0&&b.row_class_list.push("ad-row")}},trending_now:{template:b.csr_trending_now,class_name:"trending-now",parse:function(a,b){f(a,b),d.parseDamImageLinks(a,b)}},video:{template:b.csf_video,class_name:"video-block",parse:f},text:{template:b.csf_article_image_layout,class_name:"text",parse:f},image_and_text:{template:b.csf_article_image_layout,class_name:"image-and-text",parse:function(a,b){f(a,b),a.block_data.aspect_ratio="ratio16x9"}},image_and_text_portrait:{template:b.csf_article_image_layout,class_name:"image-and-text-portrait",parse:function(a,b){f(a,b),a.block_data.aspect_ratio="ratio4x6"}},text_and_sharing:{template:b.csr_text_and_sharing,class_name:"text-and-sharing",parse:f},image_and_three_text_bottom:{template:b.csr_image_and_three_text_bottom,class_name:"image-and-three-text-bottom",parse:f},image_and_three_text_top:{template:b.csr_image_and_three_text_top,class_name:"image-and-three-text-top",parse:f},image_text_and_sharing:{template:b.csr_image_text_and_sharing,class_name:"image-text-and-sharing",parse:f}},this.layout_class_map={1:["fs-layout-one"],"1-1":["fs-layout-one-half","fs-layout-one-half"],"1-1-1":["fs-layout-one-third","fs-layout-one-third","fs-layout-one-third"],"1-2":["fs-layout-one-third","fs-layout-two-thirds"],"2-1":["fs-layout-two-thirds","fs-layout-one-third"]}}]),angular.module("forbesCSFApp").service("CsfPromoBlockService",["fbsMapper.TemplateMap","CsfAppState","CsfLayoutMapService",function(a,b,c){var d=this;this.parseRow=function(a,b){var c,e;for(a.row_style=a.row_style||{},a.contentPositions=a.contentPositions||[],a.row_class_list=a.row_class_list||[],a.color&&(a.row_style["background-color"]="#"+a.color),a.image&&(a.row_class_list.push("has-bg-image"),a.row_style["background-image"]="url('"+a.image+"')",a.row_style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a.image+"', sizingMethod='scale')",a.parallax&&(a.row_style["background-attachment"]="fixed",a.row_class_list.push("has-parallax"))),"1"===a.layout&&(a.layout=null),a.layout||(a.layout=Array(Math.min(a.contentPositions.length+1,4)).join("1").split("").join("-")),c=0;c<a.contentPositions.length;c++)e=a.contentPositions[c],e&&(e.block_data=b[e.id],e.position||(e.position=c+1),e.block_data&&(e.block_data.parent_block=e,e.block_data.parent_row=a,d.parseBlock(e,a),e.block_class=e.block_class_list.join(" ")));(a.id||a.rowId)&&a.row_class_list.push(a.id||a.rowId)},this.parseBlock=function(a,b){a.block_class_list=[],a.block_style={},a.block_data.contentPositions=a.block_data.contentPositions||[],a.block_data.color&&(a.block_style.color="#"+a.block_data.color,a.block_style.color&&"#000000"!==a.block_style.color&&a.block_class_list.push("inherit-color")),a.block_class_list.push(c.layout_class_map[b.layout]?c.layout_class_map[b.layout][a.position-1]||"hidden":"hidden");var d=c.layout_map[a.block_data.panel];d&&(d.parse(a,b),a.template=d)},this.insertCsrAds=function(a,c){var d=function(a,b,c,d){var e="csr-"+c+"-row-"+d;b[e]={panel:"ad_unit",contentPositions:[{title:c}],panelId:e,position:1},a.splice(d,0,{contentPositions:[{id:e}]})},e=function(a,b,c){a[b]&&(a[b].row_class_list=a[b].row_class_list||[],a[b].row_class_list.indexOf("ad-row")<0&&a[b].row_class_list.push("ad-row"),c&&(a[b].csr_ad_position=c))};"true"===fbs_settings.mobile?(d(a,c,"mobilerec",1),d(a,c,"mobilex",3),d(a,c,"mobiletext",a.length)):"channel"===b.page_data.csr_page_type?(e(a,1,1),e(a,2),e(a,3,2)):"section"===b.page_data.csr_page_type&&(e(a,0,1),e(a,1),e(a,2,2))}}]),angular.module("forbesCSFApp").service("CsfPromoBlockUtilsService",["StringHelperService",function(a){var b=this;this.parseArticleAuthors=function(a){for(var c=0;c<(a.contentPositions||[]).length;c++)"text"===a.panel&&(a.contentPositions[c].image=null),a.contentPositions[c].authors&&b.parseDisplayAuthor(a.contentPositions[c]),"list"===a.source&&b.parseListEntity(a.contentPositions[c],a),a.contentPositions[c].slide_title=a.contentPositions[c].slide_title||a.contentPositions[c].title||"",a.contentPositions[c].slide_sub_title=a.contentPositions[c].slide_sub_title||a.contentPositions[c].sub_title||""},this.parseDisplayAuthor=function(a){a.display_author={},a.authors&&a.authors.length>0&&(a.display_author=a.authors[0]||a.author||{},"comm"===a.blogType?(a.display_author.advoiceBrand="Community",a.display_author.multi=!0):("ad"===a.blogType||"group"===a.blogType)&&(a.authors[1]||(a.authors[1]={}),a.display_author.advoiceBrand=a.authors[1].advoiceBrand,a.display_author.multi=!0))},this.insertDescriptionParagraphBreaks=function(a){for(var b=0;b<(a.contentPositions||[]).length;b++)a.contentPositions[b].description&&(a.contentPositions[b].description=a.contentPositions[b].description.replace(/\r\n?|\n/g,"<br>")),"overlay"!==a.panel&&"grid"!==a.panel||!a.contentPositions[b].title||(a.contentPositions[b].title=a.contentPositions[b].title.replace(/\r\n?|\n/g,"<br>"))},this.parseDisplayDates=function(a){for(var b=0;b<(a.contentPositions||[]).length;b++){var c=a.contentPositions[b],d=c&&c.date?moment.tz(c.date,"America/New_York"):void 0;d&&(c.display_date=c.magazine?d.format("MMM YYYY"):d.from(moment.tz("America/New_York")))}},this.parseDamImageLinks=function(b,c,d){for(var e=0;e<(b.contentPositions||[]).length;e++)b.contentPositions[e].image=a.parseDAMLink(b.contentPositions[e].image,c,d)},this.parseListEntity=function(b,c){b&&c&&(b.title=b.title||"",b.sub_title=b.sub_title||"",b.slide_sub_title=b.slide_sub_title||"",b.image||(b.thumbnail&&"person"!==b.type?b.image=a.parseDAMLink(b.thumbnail,416,416):b.uri&&(b.image=a.parseListEntityImage(b))),c.sourceValue&&-1!==c.sourceValue.indexOf("30under30")&&"person"===b.type&&(b.overlay_type="30under30",b.members&&b.members.length<3?b.title=a.generateMembersTitleString(b.members):b.age&&(b.title+=", "+b.age),b.employment?(b.sub_title=b.employment.title||"",!b.members||b.members.length<3?(b.sub_title&&b.employment.name&&(b.sub_title+=", "),b.sub_title+=b.employment.name||""):(b.slide_title=a.generateMembersTitleString(b.members),b.employment.title&&(b.slide_sub_title=b.employment.title,b.employment.name&&(b.slide_sub_title+=", ")),b.slide_sub_title+=b.employment.name||"")):b.jobTitle&&(b.sub_title+=b.jobTitle)))}}]),angular.module("forbesCSFApp").controller("CsrHeaderController",["$scope","$interval","$timeout","BreakPoint","CsfAppState","CsrHeaderFactory","fbsMapper.TemplateMap","ScrollHandlerService",function(a,b,c,d,e,f,g,h){var i={listeners:{},sticky_csr_top_ad_options:{}};a.csr_utility=g.csr_utility,a.show_header_sharing=!1,a.toggleHeaderSharing=function(){a.show_header_sharing=!a.show_header_sharing},this.getHeaderData=function(){f.request().then(function(b){b.data&&b.data.promotedContent&&b.data.promotedContent.contentPositions&&(a.channel_list=e.page_data.header=f.parse(b))})},this.destroy=function(){i.listeners.onDestroy()},a.sticky_csr_top_ad_options="true"===fbs_settings.mobile?!1:{name:i.sticky_csr_top_ad_options.name="sticky_csr_top_scroll",scope:i.sticky_csr_top_ad_options.scope={parent_scope:a,parent_locals:i,parent_element:$(".csr-header"),animation_removed:!1},scroll:i.sticky_csr_top_ad_options.scroll=function(a,b){if(a.ad_element){var c=b-a.ad_element.height();if(a.time_elapsed)if(c>0&&!a.animation_removed){var d=a.parent_element;a.animation_removed=!0,a.parent_element.animate({top:-a.ad_element.height()},300,function(){d.removeClass("initial"),d=null,$(document).scroll()})}else a.animation_removed=!0,a.parent_element.removeClass("initial");a.animation_removed&&(c>0&&"toggled"!==a.mode?(a.parent_element.addClass("sticky").css("top",-a.ad_element.height()),a.parent_element.addClass("reanimate"),a.mode="toggled"):0>=c&&"toggled"===a.mode&&(a.parent_element.removeClass("sticky reanimate").css("top",""),a.mode=null))}},onRegister:i.sticky_csr_top_ad_options.onRegister=function(a){a.renderEndedListener=a.parent_scope.$on("RENDER_ENDED",function(d,e){if("CSR-HEADER-LEADERBOARD"===e.slot_id){var f=function(){a.time_elapsed=!0,$(document).scroll()};if(a.ad_element=$(".header-ad"),a.ad_element)if(fbs_settings.is_tablet)f();else var g=b(function(){var d;try{d=a.ad_element.find('[id*="__container__"] > iframe').contents().find("html").html()}catch(e){return b.cancel(g),void f()}return d?(b.cancel(g),void(-1===d.indexOf("http://d3.forbes.servedbyopenx.com")&&-1===d.indexOf("pub-4111763448220873")?c(function(){f()},3e3):f())):void f()},100);a.renderEndedListener(),a.renderEndedListener=null}})},onDestroy:i.sticky_csr_top_ad_options.onDestroy=function(a){a.parent_element=null,a.parent_locals=null,a.ad_element=null,a.animation_removed=null,a.renderEndedListener&&(a.renderEndedListener(),a.renderEndedListener=null),a.parent_scope=null}},this.getHeaderData(),i.listeners.onDestroy=a.$on("$destroy",this.destroy)}]),angular.module("forbesCSFApp").controller("CsrUtilityItemsController",["$scope","CsfAppState","fbsMapper.TemplateMap","fbsUserDataService",function(a,b,c,d){a.csr_utility_items=c.csr_utility_items,this.userDataChange=function(){a.user=d.user,a.initialized=d.initialized,a.circ_link=b.page_data.channel?b.page_data.channel.circulationLink||"":""},a.$watch(function(){return d.user},this.userDataChange),a.$watch(function(){return d.initialized},this.userDataChange)}]),angular.module("forbesCSFApp").directive("csrChannelShareBar",["$interval","$timeout","BreakPoint","CsfAppState","fbsMapper.TemplateMap",function(a,b,c,d,e){return{restrict:"AE",templateUrl:e.csr_channel_share_bar,link:function(d,e){var f={listeners:{}};d.is_mobile||(d.has_spon_logo=!0,f.listeners.headerAdListener=d.$on("CSR-HEADER-RENDERED",function(b,c){var d=$(".csr-header").height();e.attr("style","margin-top: "+d+"px"),f.resizeHeaderInterval=a(function(){var a=$(".csr-header").height();d!==a&&(d=a,e.attr("style","margin-top: "+d+"px"))},500),f.listeners.headerAdListener()}),f.listeners.sponLogoListener=d.$on("RENDER_ENDED",function(a,g){"CSR-SPON-LOGO"===g.slot_id&&(g.event.isEmpty||0===g.event.size[0]&&0===g.event.size[1]||1===g.event.size[0]&&1===g.event.size[1]?d.has_spon_logo=!1:(b(function(){var a=parseInt(e.outerHeight()),b=parseInt($(".desktop-spon-logo").outerHeight());b>a&&(e.css("min-height",b),e.find(".title").css("line-height",b+"px"),e.find(".page-header-sharing").css("line-height",b+"px")),c.current&&c.current.max>768&&c.current.max<=1024&&$(".page-header-sharing").hide()}),f.listeners.sponLogoListener()))})),f.listeners.onDestroy=d.$on("$destroy",function(){f.resizeHeaderInterval&&f.resizeHeaderInterval(),f.listeners.sponLogoListener&&f.listeners.sponLogoListener(),f.listeners.onDestroy()})}}}]),angular.module("forbesCSFApp").directive("csrMenuIcon",["CsfAppState",function(a){return{restrict:"AE",link:function(b){var c="closed",d=$(".right-section");b.animateSideBar=function(){"closed"===c?(a.sidebar_state=c="expanded",d.addClass("csr-expanded")):(a.sidebar_state=c="closed",d.removeClass("csr-expanded"))}}}}]),angular.module("forbesCSFApp").factory("CsrHeaderFactory",["$http","$sce","StringHelperService",function(a,b,c){return{url:"/forbesapi/promote/get.json",params:{location:"header"},request:function(){return a.get(this.url,{params:this.params})},parse:function(a){if(a.data&&a.data.promotedContent&&a.data.promotedContent.contentPositions){for(var d=a.data.promotedContent.contentPositions,e=0;e<d.length;e++)for(var f=0;f<d[e].contentPositions.length;f++){var g=d[e].contentPositions[f]||{};g.bv_title=b.trustAsHtml(c.parseForBrandVoiceSpans(g.title))}return d}return[]}}}]),angular.module("forbesCSFApp").controller("CsrSidebarController",["$scope","$timeout","$interval","BreakPoint","CsfAppState","fbsMapper.TemplateMap","fbsUserDataService",function(a,b,c,d,e,f,g){a.csr_sidebar_template=f.csr_sidebar_template,a.submenu_state={},this.render=function(b){b&&(a.channel_list=e.page_data.header)},this.showHide=function(d){"expanded"===d?a.visible="visible":b(function(){a.visible=""},400);var e,f=40,g=$(document);e=c(function(){g.scroll(),--f<0&&(c.cancel(e),g=null)},10)},this.userChanged=function(){g.initialized&&(a.initialized=!0),g.user?(a.logged_in=!0,a.user=g.user):(a.logged_in=!1,a.user=null)},a.toggleSubmenu=function(b){var c=a.submenu_state[b]?!1:!0;a.submenu_state={},a.submenu_state[b]=c},a.$watch(function(){return e.page_data.header},this.render),a.$watch(function(){return e.sidebar_state},this.showHide),a.$watch(function(){return g.user},this.userChanged),a.$watch(function(){return g.initialized},this.userChanged);var h=a.$on("$destroy",function(){h()})}]),angular.module("forbesCSFApp").directive("sidekickToggle",[function(){return{restrict:"AE",link:function(a,b,c){a.expanded=!1,a.toggle=function(){a.expanded=!a.expanded}}}}]),angular.module("forbesCSFApp").controller("CsrStreamController",["$scope","fbsMapper.TemplateMap","CsfAppState","CsfLayoutMapService","CsfPageFactory","StringHelperService",function(a,b,c,d,e,f){function g(a){for(var b=0;b<(a?a.slides||[]:[]).length;b++)a.slides[b].image&&(0===a.slides[b].image.indexOf("/")?a.slides[b].image=f.parseDAMLink("http://specials-images.forbesimg.com"+a.slides[b].image,400):a.slides[b].image=f.parseDAMLink(a.slides[b].image,400)),a.slides[b].uri&&a.slides[b].uri.indexOf(".forbes.com")<0&&(a.slides[b].uri=c.urlBase()+a.slides[b].uri)}function h(a){for(var b=0;b<(a||[]).length;b++)"slide"===a[b].type&&a[b].slides.length>0?g(a[b]):"blogslide"!==a[b].type&&"magazine"!==a[b].type||!a[b].image||(a[b].image=f.parseDAMLink(a[b].image,400))}a.csr_blog_template=b.csr_stream_blog_template,a.csr_calledout_template=b.csr_stream_calledout_template,a.csr_default_template=b.csr_stream_default_template,a.csr_headlinegrab_template=b.csr_stream_headlinegrab_template,a.csr_magazine_template=b.csr_stream_magazine_template,a.csr_slide_template=b.csr_stream_slide_template,a.csr_video_template=b.csr_stream_video_template,a.show_load_more=0!==a.layout.row_data[a.promo_block.id].contentPositions.length&&a.layout.row_data[a.promo_block.id].more,a.loadMore=function(){if(!a.layout.row_data[a.promo_block.id].contentPositions||0===a.layout.row_data[a.promo_block.id].contentPositions.length)return!1;for(var b=a.layout.row_data[a.promo_block.id].contentPositions.length-1,c=a.layout.row_data[a.promo_block.id].contentPositions[b].id,f=a.layout.row_data[a.promo_block.id].contentPositions[b].date;--b>=0&&a.layout.row_data[a.promo_block.id].contentPositions[b].date>=f;)c+=","+a.layout.row_data[a.promo_block.id].contentPositions[b].id;e.requestMoreStream(a.layout.row_data[a.promo_block.id].sourceValue,f,c).then(function(b){b.data&&b.data.promotedContent&&b.data.promotedContent.contentPositions&&b.data.promotedContent.contentPositions.length>0?(d.layout_map.stream.parse({block_data:b.data.promotedContent},{row_class_list:[]}),h(b.data.promotedContent.contentPositions),a.layout.row_data[a.promo_block.id].contentPositions=a.layout.row_data[a.promo_block.id].contentPositions.concat(b.data.promotedContent.contentPositions),a.show_load_more=!!b.data.promotedContent.more):a.show_load_more=!1},function(){a.show_load_more=!1})},h(a.promo_block.block_data.contentPositions)}]),angular.module("forbesApp").run(["$templateCache",function(a){"use strict";a.put("/forbes/views/article/body/2991d7d7.contribblock.html",'<div class="contrib-preview"><section class="contrib-author-container"><div class="contrib-image"><a ng-href="{{contrib_block.display_author.url}}" target="_self"><img ng-src="{{contrib_block.display_author.avatars.xlarge.image}}" alt="" data-pin-nopin="true"></a></div><div class="contrib-byline" ng-if="contrib_block.display_advoice_brand"><a class="contrib-byline-ad" ng-href="{{contrib_block.display_author.url}}" target="_self"><span class="brandvoice">{{contrib_block.display_advoice_brand}}</span> <span class="advoice">{{contrib_block.display_voice_type}}</span></a></div><div class="contrib-byline" ng-if="!contrib_block.display_advoice_brand"><p class="contrib-byline-author" ng-class="{group: contrib_block.display_author.authorType === \'group\' || contrib_block.display_author.author.authorType === \'comm\' || contrib_block.display_author.authorType === \'ad\'}"><a class="link" ng-href="{{contrib_block.display_author.url}}" target="_self">{{contrib_block.display_author.name}}<span class="brand" ng-if="contrib_block.display_author.authorType === \'ad\'">Voice</span></a> <span ng-if="contrib_block.display_author.authorType !== \'group\' && contrib_block.display_author.authorType !== \'ad\' && contrib_block.display_author.authorType !== \'comm\'" class="author-comma">,</span></p><p class="contrib-byline-title" ng-if="contrib_block.display_author.authorType === \'individual\'" ng-switch="contrib_block.display_author.type"><span ng-switch-when="Forbes Staff">{{contrib_block.display_author.type}} <i class="icon icon-staff-verified"></i></span> <span ng-switch-when="Under 30"><i class="icon icon-u30-logo"></i> Contributor</span> <span ng-switch-default>{{contrib_block.display_author.type}}</span></p></div><p class="contrib-tagline"><span ng-if="contrib_block.blogType === \'individual\' || contrib_block.blogType === \'partner\'" ng-bind-html="contrib_block.display_author.shortBio"></span> <span ng-if="contrib_block.blogType !== \'individual\' && contrib_block.blogType !== \'partner\'" ng-bind-html="contrib_block.display_author.tagName"></span></p></section><section class="entity-follow-links"><div class="author-follow-links" author="contrib_block.display_author" author-follow-links></div></section><p class="short legal-disclaimer top" ng-if="contrib_block.writtenByForbesStaff !== true && contrib_block.authors[0].authorType !== \'ad\'">Opinions expressed by Forbes Contributors are their own.</p></div><div class="entity-dive bio {{load_status}}"><div class="masked-content"><nav class="toggles"><ul><li class="bio" ng-click="toggleContribTab(\'bio\')" data-track="contrib-toggle-bio">Full Bio</li><li class="recent-posts" ng-click="toggleContribTab(\'recent\')" data-track="contrib-toggle-recent">Recent Posts</li><li class="popular-posts" ng-click="toggleContribTab(\'popular\')" data-track="contrib-toggle-popular">Popular Posts</li></ul></nav><div class="full-bio"><p ng-bind-html="contrib_block.display_author.description">Full profile &rarr;\'"></p><p class="short legal-disclaimer" ng-if="contrib_block.writtenByForbesStaff !== true && contrib_block.authors[0].authorType !== \'ad\'">The author is a Forbes contributor. The opinions expressed are those of the writer.</p></div><div class="entity-recent-posts post-list" ng-bind-html="recent">Loading ...</div><div class="entity-popular-posts post-list" ng-bind-html="popular">Loading ...</div></div><!-- .masked_content --></div><h4 class="entity-bio-trigger" ng-click="toggleContrib();"><span class="label"></span><div class="entity-toggle {{toggle_mode}}"><span class="icon icon-chevron-down"></span></div></h4><p class="short legal-disclaimer bottom" ng-if="contrib_block.writtenByForbesStaff !== true && contrib_block.authors[0].authorType !== \'ad\'">Opinions expressed by Forbes Contributors are their own.</p>'),a.put("/forbes/views/article/body/cc96d72b.guestcontrib.html",'<div class="contrib-image {{article.article.guestContributor.imageType}}"><img src="{{article.article.guestContributor.image}}"></div><div class="info-block"><p class="intro">{{article.article.guestContributor.intro}}</p><p class="name">{{article.article.guestContributor.name}}</p></div><p class="bio" ng-bind-html="article.article.guestContributor.bio"></p>'),a.put("/forbes/views/article/body/f6facdbd.layout.html",'<div class="article-article-body"><!-- Contrib block --><div class="article-contrib-container" data-track="article-contrib-container"><div class="article-contrib-block {{toggle_mode}}" contrib-block></div></div><!-- logo ad --><div id="mob-logo-ad-article-{{article.index}}" class="mob-logo-ad-article" dynamic-ad-unit="mob-logo" ng-if="is_mobile"></div><div class="article-body-content clearfix"><!-- Article Guest Contributor Top --><div class="article-guest-contrib clearfix" ng-if="article.article.guestContributor && article.article.guestContributor.position === \'top\'" ng-include src="guest_contrib_template"></div><div class="contrib-group" ng-if="article.article.blogType !== \'individual\'"><a class="contrib-group-link" target="_self" ng-href="{{article.article.authors[0].profileUrl}}"><div class="portrait"><img ng-src="{{article.article.authors[0].avatars[3].image}}"></div><span class="by-line"><span class="name" itemprop="author">{{article.article.authors[0].name}}</span>, <span class="type" ng-switch="article.article.authors[0].type"><span ng-switch-when="AdVoice">{{article.article.authors[0].advoiceBrand}}</span> <span ng-switch-when="Forbes Staff">{{article.article.authors[0].type}} <i class="icon icon-staff-verified"></i></span> <span ng-switch-when="Under 30"><i class="icon icon-u30-logo"></i> Contributor</span> <span ng-switch-default>{{article.article.authors[0].type}}</span></span></span></a></div><div class="magazine" ng-if="article.article.magazine">This story appears in the {{article.article.magazine.pretty_date}} issue of {{article.article.magazine.pubName}}. <a ng-href="{{article.article.magazine.subscription_link}}" target="_blank">Subscribe</a></div><!-- Article Text : .article-text --><div class="article-text" itemprop="articleBody"></div><!-- Article Guest Contributor Bottom --><div class="article-guest-contrib clearfix" ng-if="article.article.guestContributor && article.article.guestContributor.position === \'bottom\'" ng-include src="guest_contrib_template"></div><!-- Page controls --><div ng-if="article.article.pages.length > 1" class="article-pagination"><a ng-href="{{url_path}}{{url_prev}}" ng-click="showSpinner()" ng-if="article.article.page > 0" class="article-pagination-prev" target="_self"><i class="icon icon-chevron-left"></i></a> Page <strong>{{article.article.page + 1}}</strong> / <strong>{{article.article.pages.length}}</strong> <a ng-href="{{url_path}}{{url_next}}" ng-click="showSpinner()" ng-if="article.article.page < article.article.pages.length - 1" class="article-pagination-next" target="_self">Continue <i class="icon icon-chevron-right"></i></a></div><!-- THIS NEEDS TO MOVE FROM HERE --><div class="article-comment" ng-class="{\'mobile-comment\' : is_mobile}"><a class="comments-link" ng-if="article.article.showComments" ng-click="openComments(article.index)" data-track="article-comment-this"><div class="comments-cta" ng-class="{\'no-comments\' : !article.article.calledOutCommentCount}"><div class="count"><strong>{{article.article.calledOutCommentCount||\'\'}}</strong></div>Comment on this story</div></a></div><!-- Prints, Reprints & corrections bar --><div class="article-print-bar"><ul><li class="print"><a ng-href="{{url_path}}print/" target="_blank"><i class="icon icon-print"></i> <span>Print</span></a></li><li class="spacer"></li><li><a ng-click="openCorrectionsEmail()"><i class="icon icon-edit"></i> <span>Report Corrections</span></a></li><li class="spacer"></li><li><a href="http://forbesreprints.magreprints.com" target="_blank"><i class="icon icon-terms"></i> <span>Reprints &amp; Permissions</span></a></li></ul></div><!-- Related ads--><div class="related-ads-container"><!-- Media net related links --><div id="media_net_0_article_{{article.index}}" class="media_net_related_links initialized anim" article-related-links="{{article.index}}"></div></div></div></div>'),a.put("/forbes/views/article/body/529d2ca5.quotecard.html",'<a ng-href="{{url}}" target="_self">{{name}}</a> <span ng-if="ticker" class="card-preview" ng-mouseover="showQuotecard()" ng-mouseleave="hideQuotecard()"><a ng-href="{{url}}" target="_self" class="preview {{change.display_class}}">{{ticker}} {{change.change_percent}}</a><div class="card-hover" ng-if="show_card" ng-class="{\'reverse-display\': reverse_display}"><div class="card-contents"><a class="company-name" ng-href="{{url}}" target="_self"><h4>{{name}}</h4></a> <a class="ticker" ng-href="{{url}}" target="_self">{{ticker}}</a><p class="cost">${{change.price_new}} <span class="difference {{change.display_class}}"><i class="icon"></i>${{change.change}} ({{change.change_percent}})</span></p><p class="as-of">As of {{change.timestamp}}</p><ul class="stories" ng-if="stories && stories.length > 0"><li class="story" ng-repeat="story in stories"><a ng-href="{{story.url}}" target="_self">{{story.title}}</a></li></ul></div></div></span>'),a.put("/forbes/views/article/body/db1a6df8.tweetquote.html",'<h6>Tweet This</h6><ul><li ng-repeat="tweet in tweet_quotes track by $index" ng-bind-html="tweet_quotes[$index]"></li></ul>'),a.put("/forbes/views/article/body/cd6c98ea.vestpockets.html",'<div id="vest-pocket-container-{{article.index}}" class="article-vp-wrapper" ng-attr-data-track="{{vestpockets.length}}" ng-if="vestpockets" ng-class="article.article.templateType === \'takeover\' ? \'hi-rise\' : \'standard\'"><span class="vp-topper">Recommended by {{recommended_by}}</span><div class="vp-slick-slider"><div class="vp-box" ng-include src="vest_pocket_item.template_src" ng-repeat="vest_pocket_item in vestpockets" ng-show="carousel_init"></div></div></div>'),a.put("/forbes/views/article/body/vestpockets/b943137b.article.html",'<a ng-href="{{vest_pocket_item.uri}}" class="thumb" ng-class="{\'hasimage\':vest_pocket_item.image}" target="_self" ng-attr-data-track="vest-pocket-entry-{{$index+1}}"><div class="vp-overlay"></div><span class="reason" ng-class="vest_pocket_item.reason_parsed.display_class" ng-if="vest_pocket_item.reason_parsed">{{vest_pocket_item.reason_parsed.text}}</span> <span class="icon"></span><div class="ratio1x1 image-bg" style="background-image:url({{vest_pocket_item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{vest_pocket_item.image}}, sizingMethod=scale)\'" ng-if="vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="ratio1x1 image-bg" ng-if="!vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="box-overlay"><h5><span class="label"><span class="brandvoice" ng-if="vest_pocket_item.advoiceBrand && vest_pocket_item.advoiceBrand !== \'Community\'">{{vest_pocket_item.advoiceBrand}}<span class="advoice" ng-if="vest_pocket_item.advoiceBrand">Voice</span>:</span> <span class="community-voice-name" ng-if="vest_pocket_item.advoiceBrand === \'Community\'">CommunityVoice:</span></span> {{vest_pocket_item.title}}</h5></div></a>'),a.put("/forbes/views/article/body/vestpockets/1e914411.brandvoice.html",'<div class="bv-{{article.index}}"><div id="bv-pocket-{{article.index}}-{{$index}}" class="bv-ad" dynamic-ad-unit="ntv-belt" ng-if="bv_ads"></div></div>'),a.put("/forbes/views/article/body/vestpockets/db1c78be.gallery.html",'<a ng-href="{{vest_pocket_item.uri}}" class="thumb gallery-container" target="_self" ng-attr-data-track="vest-pocket-entry-{{$index+1}}"><div class="vp-overlay"></div><span class="reason" ng-class="vest_pocket_item.reason_parsed.display_class" ng-if="vest_pocket_item.reason_parsed">{{vest_pocket_item.reason_parsed.text}}</span> <i class="icon icon-gallery"></i><div class="ratio1x1 image-bg" style="background-image:url({{vest_pocket_item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{vest_pocket_item.image}}, sizingMethod=scale)\'" ng-if="vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="ratio1x1 image-bg" ng-if="!vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="box-overlay"><h5><span class="label"><span class="brandvoice" ng-if="vest_pocket_item.advoiceBrand">{{vest_pocket_item.advoiceBrand}}</span><span class="advoice" ng-if="vest_pocket_item.advoiceBrand">Voice</span> Photos:</span> <span class="advoice-brand" ng-if="vest_pocket_item.authorType == \'AdVoice\'"></span> {{vest_pocket_item.title}}</h5></div></a>'),a.put("/forbes/views/article/body/vestpockets/a2013045.organization.html",'<a ng-href="http://www.forbes.com/companies/{{vest_pocket_item.uri}}/" class="thumb" ng-class="{\'hasimage\':vest_pocket_item.image}" target="_self" ng-attr-data-track="vest-pocket-entry-{{$index+1}}"><div class="vp-overlay"></div><span class="reason" ng-class="vest_pocket_item.reason_parsed.display_class" ng-if="vest_pocket_item.reason_parsed">{{vest_pocket_item.reason_parsed.text}}</span><div class="ratio1x1 image-bg" style="background-image:url({{vest_pocket_item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{vest_pocket_item.image}}, sizingMethod=scale)\'" ng-if="vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="ratio1x1 image-bg" ng-if="!vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="box-overlay"><h5><span class="label">Profile:</span> {{vest_pocket_item.title}}</h5></div></a>'),a.put("/forbes/views/article/body/vestpockets/0a17c1da.person.html",'<a ng-href="http://www.forbes.com/profile/{{vest_pocket_item.uri}}/" class="thumb" ng-class="{\'hasimage\':vest_pocket_item.image}" target="_self" ng-attr-data-track="vest-pocket-entry-{{$index+1}}"><div class="vp-overlay"></div><span class="reason" ng-class="vest_pocket_item.reason_parsed.display_class" ng-if="vest_pocket_item.reason_parsed">{{vest_pocket_item.reason_parsed.text}}</span><div class="ratio1x1 image-bg" style="background-image:url({{vest_pocket_item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{vest_pocket_item.image}}, sizingMethod=scale)\'" ng-if="vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="ratio1x1 image-bg" ng-if="!vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="box-overlay"><h5><span class="label">Profile:</span> {{vest_pocket_item.title}}</h5></div></a>'),a.put("/forbes/views/article/body/vestpockets/0d7862bb.place.html",'<a ng-href="http://www.forbes.com/places/{{vest_pocket_item.uri}}/" class="thumb" ng-class="{\'hasimage\':vest_pocket_item.image}" target="_self" ng-attr-data-track="vest-pocket-entry-{{$index+1}}"><div class="vp-overlay"></div><span class="reason" ng-class="vest_pocket_item.reason_parsed.display_class" ng-if="vest_pocket_item.reason_parsed">{{vest_pocket_item.reason_parsed.text}}</span><div class="ratio1x1 image-bg" style="background-image:url({{vest_pocket_item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{vest_pocket_item.image}}, sizingMethod=scale)\'" ng-if="vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="ratio1x1 image-bg" ng-if="!vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="box-overlay"><h5><span class="label">Profile:</span> {{vest_pocket_item.title}}</h5></div></a>'),
a.put("/forbes/views/article/body/vestpockets/fe1865b7.video.html",'<a ng-href="{{vest_pocket_item.uri}}" class="thumb video-container" ng-class="{\'hasimage\':vest_pocket_item.image}" target="_self" ng-attr-data-track="vest-pocket-entry-{{$index+1}}"><div class="vp-overlay"></div><span class="reason" ng-class="vest_pocket_item.reason_parsed.display_class" ng-if="vest_pocket_item.reason_parsed">{{vest_pocket_item.reason_parsed.text}}</span> <i class="icon icon-video"></i><div class="ratio1x1 image-bg" style="background-image:url({{vest_pocket_item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{vest_pocket_item.image}}, sizingMethod=scale)\'" ng-if="vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="ratio1x1 image-bg" ng-if="!vestpocket_initialized[$index] && vest_pocket_item.image"></div><div class="box-overlay"><h5><span class="label"><span class="brandvoice" ng-if="vest_pocket_item.advoiceBrand">{{vest_pocket_item.advoiceBrand}}<span class="advoice" ng-if="vest_pocket_item.advoiceBrand">Voice</span>:</span></span> {{vest_pocket_item.title}}</h5></div></a>'),a.put("/forbes/views/article/common/ads/a81d0055.inbodyad.html",'<div ng-if="initialized && active" id="inline-{{id}}" dynamic-ad-unit="{{unit}}" class="article-mobile-ad"></div>'),a.put("/forbes/views/article/common/ads/b6da6103.intxad.html",'<div id="intx" class="intx-ad" dynamic-ad-unit="intx" ng-if="display_intx"></div>'),a.put("/forbes/views/article/common/ads/19fc4a61.speedbump.html",'<div ng-include="speed_bump_template"></div>'),a.put("/forbes/views/article/common/ads/aa9cc692.speedbumpdesktop.html",'<section class="row"><div id="rcjsload_6e8893-{{now}}"></div><script type="text/javascript">(function() {\n			var rcel = document.createElement("script");\n			rcel.id = \'rc_\' + Math.floor(Math.random() * 1000);\n			rcel.type = \'text/javascript\';\n			rcel.src = "http://trends.revcontent.com/serve.js.php?w=16285&t="+rcel.id+"&c="+(new Date()).getTime()+"&width="+(window.outerWidth || document.documentElement.clientWidth);\n			rcel.async = true;\n			var rcds = document.getElementById("rcjsload_6e8893-{{now}}"); rcds.appendChild(rcel);\n		})();</script></section>'),a.put("/forbes/views/article/common/ads/f7a82590.speedbumpmobile.html",'<div id="mobiletext-{{article.index}}" dynamic-ad-unit="mobiletext"></div>'),a.put("/forbes/views/article/common/sharing/6016d9ce.layout.html",'<ul class="social-expand-control {{expanded}}" ng-click="toggleExpanded()"><li class="share-expanded icon icon-share" ng-attr-data-track="{{track}}-expand-button"></li><li class="icon icon-facebook" ng-attr-data-track="sidebar-expand-button"></li><li class="icon icon-twitter" ng-attr-data-track="sidebar-expand-button"></li><li class="icon icon-email" ng-attr-data-track="sidebar-expand-button"></li><li class="icon icon-linkedin" ng-attr-data-track="sidebar-expand-button"></li><li class="share-text" ng-attr-data-track="sidebar-expand-button">share<i class="icon icon-chevron-right"></i></li></ul><ul class="article-fbs-sharing {{expanded}}"><li class="email"><a class="button" ng-href="mailto:?{{mailto_query}}" ng-attr-data-track="{{track}}-email"><i class="icon icon-email" ng-attr-data-track="{{track}}-email"></i></a></li><li class="facebook expandable"><button class="button" ng-click="postFacebook()" ng-attr-data-track="{{track}}-facebook"><i class="icon icon-facebook" ng-attr-data-track="{{track}}-facebook"></i></button><span class="expand-this share-counts">{{counts.facebook}}</span></li><li class="twitter expandable"><button class="button" ng-click="postTwitter()" ng-attr-data-track="{{track}}-twitter"><i class="icon icon-twitter" ng-attr-data-track="{{track}}-twitter"></i></button><span class="expand-this share-counts">Tweet</span></li><li class="linkedin expandable"><button class="button" ng-click="postLinkedin()" ng-attr-data-track="{{track}}-linkedin"><i class="icon icon-linkedin" ng-attr-data-track="{{track}}-linkedin"></i></button><span class="expand-this share-counts">{{counts.linkedin}}</span></li><li class="google expandable"><button class="button" ng-click="postGoogle()" ng-attr-data-track="{{track}}-google"><i class="icon icon-google" ng-attr-data-track="{{track}}-google"></i></button><span class="expand-this share-counts">Share on g+</span></li><li class="permalink expandable"><button class="button" ng-attr-data-track="{{track}}-permalink"><i class="icon icon-link" ng-attr-data-track="{{track}}-permalink"></i></button><span class="expand-this"><input class="input-permalink" type="text" name="share" value="{{permalink}}" ng-attr-data-track="{{track}}-permalink" onclick="this.setSelectionRange(0, this.value.length)" onfocus="this.setSelectionRange(0, this.value.length)" onmouseup="return false"></span></li></ul>'),a.put("/forbes/views/article/header/75923c5f.layout.html",'<div ng-if="init_ads && !is_mobile" id="top-ad-article-sticky-{{article.index}}" sticky-ad-unit="sticky_top_ad_options" class="top-ad-sticky"><div id="top-ad-article-{{article.index}}" dynamic-ad-unit="top" class="top-ad top-ad-article"></div></div><div class="article-topper"><div class="article-trail"><a href="http://www.forbes.com/" target="_self" class="logo" data-track="body-topper-logo"><h1><i class="icon icon-forbes-logo"></i></h1></a> <a class="crumb" data-track="body-topper-section" itemprop="articleSection" ng-href="http://www.forbes.com{{article.article.primaryChannel.url}}" target="_self">{{article.article.primaryChannel.sectionName || article.article.primaryChannel.channelName}}</a></div><a class="circ-link" data-track="circ-link" ng-if="circ_link" ng-href="{{circ_link.uri}}" target="_self">{{circ_link.title}}</a></div><!-- Brandvoice/CommunityVoice and Marketplace branding --><div class="brandvoice-container" ng-if="article.article.blogType === \'ad\' || article.article.blogType === \'comm\' || article.article.blogType === \'marketplace\'" brand-voice-blurb="{{article.article.blogType}}"></div><small class="article-meta"><time itemprop="datePublished" content="{{article.article.ugly_date}}">{{article.article.pretty_date}}</time> <span class="view-count" ng-controller="ArticlePageViewController" ng-show="show_page_views"><strong>{{article.metrics.page_views}}</strong> <span class="sub-line">views</span></span><div class="edit-post" ng-if="edit_link"><a ng-href="{{edit_link}}" target="_self">Edit Post</a></div></small><!-- logo ad --><div id="spon-logo-ad-article-{{article.index}}" dynamic-ad-unit="spon-logo" ng-if="!is_mobile" class="spon-logo-ad"></div><h1 class="article-headline" itemprop="headline">{{article.article.title}}</h1><!-- Featured Image : .article-featured-image --><figure class="article-featured-image ratio16x9" ng-if="article.article.images.featured && article.article.page === 0"><img ng-src="{{article.article.images.featured.url}}" alt="{{article.article.images.featured.description}}"><figcaption ng-if="article.article.images.featured.caption !== \'\'">{{article.article.images.featured.caption}}</figcaption></figure>'),a.put("/forbes/views/article/9417b478.index.html",'<div fbs-modal></div><div class="spinner-wrapper {{spinner_class}}" overlay-spinner render-ended-dispatch><div class="overlay-spinner spinner {{spinner_background}} center"><div class="loader"><!--[if lte IE 9]>	Loading ...<![endif]--></div></div></div><div class="article-page scroll" fbs-track="fastpixel,ga,comscore,moat,reach" ng-class="{\'mobile\':is_mobile}"><!-- Expanded sidebar section --><aside class="article-search-panel {{sidebar_state}}" ng-controller="ArticleSearchController" ng-include="article_search_template"></aside><div class="page-main {{sidebar_state}}" ng-view=""></div></div><div class="sticky-ad-container" ng-if="is_mobile"><div id="mobile-sticky" dynamic-ad-unit="mobile" class="ad mobile-sticky-ad anim"></div></div>'),a.put("/forbes/views/article/page/7e60261c.layout.html",'<!-- Page Sidebar --><header class="article-sidebar {{sidebar_state}} {{vertical_class}} slash-background" ng-controller="ArticleSidebarController" ng-include="template_path" article-sidebar-visibility></header><!-- Navigation section --><nav class="article-sidebar-panel article-nav-panel {{sidebar_state}}" ng-controller="ArticleNavController" ng-include="template_path"></nav><!-- Comments section --><aside class="article-sidebar-panel article-comments-panel {{sidebar_state}}" ng-controller="ArticleCommentsController" ng-include="template_path"></aside><!-- Expanded sidebar section --><aside class="article-sidebar-panel article-trending-panel {{sidebar_state}}" ng-controller="ArticleTrendingController" ng-include="template_path"></aside><!-- Main section --><section id="article-page" class="article-container {{sidebar_state}}"><div class="article-background-wrapper"><!-- Article Main Content --><article id="article-container-{{article.index}}" class="main-article" ng-repeat="article in articles"><div ng-if="article.type === \'article\'"><div class="main-article-padding" itemscope itemtype="http://schema.org/Article"><header class="article-header" ng-include src="article_header_template" ng-controller="ArticleHeaderController"></header><div class="stream-body-container clearfix"><div id="ad-rail-article-{{article.index}}" class="ad-rail clearfix" ng-class="article.article.templateType === \'takeover\' ? \'hidden\' : \'\'" ad-rail><div ng-repeat-start="ad_unit in ad_units" ng-if="!is_mobile && article.article.templateType !== \'takeover\'"><div ng-if="ad_unit.slot === \'rec\'" sticky-ad-unit="rec_ad_sticky_options" class="rec-ad-sticky rec-ad-sticky-article"><div ng-if="init_ads" id="rec-ad-article-{{article.index}}" dynamic-ad-unit="rec" class="rec-ad rec-ad-article"></div></div><div ng-if="ad_unit.slot === \'loge\' && init_ads" id="loge-ad-article-{{article.index}}" dynamic-ad-unit="loge" class="loge-ad loge-ad-article"></div><div ng-if="ad_unit.slot === \'recx\' && init_ads" id="recx-ad-article-{{article.index}}-{{$index-1}}" dynamic-ad-unit="recx" class="recx-ad recx-ad-article"></div></div><div ng-repeat-end ng-if="$first && $last"><div class="loge-ad loge-ad-article"></div></div></div><div class="article-rail"><!-- Article Body --><div article-body data-article="{{article.index}}"></div></div></div><div class="speed-bump-wrapper"><!-- Around the web ad --><div class="article-speed-bump" speed-bump></div></div></div></div><div ng-if="article.type === \'spinner\'" class="article-loader"><!--<div class="stationary"></div>--><div class="spinner-wrapper"><div class="overlay-spinner spinner center"><div class="loader"><!--[if lte IE 9]>	Loading ...<![endif]--></div></div></div></div><div ng-if="article.type === \'stream\' && is_mobile && stream && stream.length > 0" id="article-bottom-stream" class="article-stream-container clearfix"><div class="article-stream-padding"><div ng-controller="ArticleStreamInlineController" class="clearfix"><h2 class="trending-header">Trending on <i class="logo icon icon-forbes-logo"><span>Forbes</span></i> {{channel_name}}</h2><section class="article-post-article"><div ng-include src="article_stream_template"></div></section></div></div></div></article><div intx-ad></div></div></section>'),a.put("/forbes/views/article/search/b0fc9891.layout.html",'<div class="article-search"><div class="contain"><div class="content"><form action="http://www.forbes.com/search/"><button type="submit"><i class="icon icon-search"></i></button><div class="input-holder"><span ng-show="search_term == \'\'" class="placeholder">Search Forbes.com</span> <input class="search-input" search-input name="q" type="text" ng-model="search_term" ng-change="termChanged(search_term)" autocomplete="off" data-track="article-search-input"></div></form><ul class="results scroll"><li ng-repeat="result in results"><a ng-href="{{result.url}}" target="_self"><span class="thumb"><img ng-src="{{result.icon}}"></span> <span class="label" ng-bind-html="highlight(result.label, search_term)"></span><span class="brand" ng-if="result.desc === \'AdVoice\'">Voice</span></a></li></ul><div class="see-all" ng-show="search_term"><a class="link" target="_self" ng-href="http://www.forbes.com/search/?q={{search_term}}" target="_self">See all results for "{{search_term}}"</a></div></div></div></div>'),a.put("/forbes/views/article/sidebar/5d8936ed.comments.html",'<div class="comments-sticky-head"><h2 class="head"><span class="count">{{comments.title.count}}</span> {{comments.title.post_fix}}<div class="comments-article-headline">on <span ng-class="{\'highlight\': highlight}">{{article.title}}</span></div></h2><div ng-include src="new_comment_box_path"></div></div><div class="no-comments" ng-if="!comments.collapse_expand_all_number && (!comments.comment_type[comments.active].data || comments.comment_type[comments.active].data.length <= 0)"><div class="divider"><div></div></div><span follow-link block-link="true" follow-template="comments" data-entity-id="{{article.naturalId}}" data-entity-type="article" data-entity-title="{{article.title}}"></span></div><div class="comment-stream" ng-if="(comments.comment_type[comments.active].data && comments.comment_type[comments.active].data.length > 0) || comments.collapse_expand_all_number"><div class="comments-nav"><ul><li class="calledout comments-nav-item" ng-class="{\'calledout-active\': comments.active === \'calledout\'}" ng-click="switchComments(\'calledout\')">TOP COMMENTS</li><li class="general comments-nav-item" ng-class="{\'general-active\': comments.active === \'general\'}" ng-click="switchComments(\'general\')">VIEW ALL</li><li class="comments-follow comments-nav-item"><span follow-link follow-template="comments" data-entity-id="{{article.naturalId}}" data-entity-type="article" data-entity-title="{{article.title}}"></span></li></ul></div><ul class="comment-list"><!-- Only shown when no top comments exist but article has comments --><li class="comment-item hidden-comment" ng-if="comments.collapse_expand_all_number && !comments.expand_all"><!-- Expand toggle --><div class="expand-comment" ng-click="switchComments(\'general\')">{{comments.collapse_expand_all_number}} comments</div></li><!-- Non Grouped comments --><li ng-repeat="comment in comments.comment_type[comments.active].data" class="comment-item {{comments.comment_type[comments.active].expand[$index]}}" ng-class="{\'called-out\':comment.calledOut, \'hidden-comment\':!comment.calledOut && !comments.expand_all, \'comment-reply\': comment.parentCommentId}" ng-if="!(comments.collapse_expand_all_number && !comments.expand_all)"><!-- Expand toggle --><div class="expand-comment" ng-if="comment.group && !comments.expand_all" ng-click="toggleHiddenComments($index)">{{comment.group_length}} comments</div><!-- Grouped reply comments --><div class="comment grouped-comments" ng-if="comment.group"><ul><li ng-repeat="groupComment in comment.comments" ng-class="{\'grouped-comment-last\': groupComment.last_in_group}"><div class="comment"><a class="comment-avatar" ng-href="{{groupComment.byline.profileUrl}}" target="_self"><img alt="{{groupComment.author}}" ng-src="{{groupComment.commentAuthorThumbnailUrl}}"></a><div class="comment-content"><p class="p author">{{groupComment.author}} <span class="display-date">{{groupComment.display_date}}</span> <span class="badge" ng-if="comment.badge_text == \'Author\'">{{groupComment.badge_text}}</span></p><p class="p p1" ng-bind-html="groupComment.text"></p><p class="p hover-controls"><a href class="called-out-control" ng-click="callOut(groupComment)" ng-if="!groupComment.calledOut && user.content_links && user.content_links[0].edit_post_link">Call Out</a> <a href class="called-out-control" ng-click="callOut(groupComment)" ng-if="groupComment.calledOut && user.content_links && user.content_links[0].edit_post_link">Undo Call Out</a></p><p class="p reply"><a href ng-click="toggleCommentReply((groupComment||comment))">REPLY</a></p><p class="p flag"><a href class="flag-link" ng-click="flagComment((groupComment||comment))">Flag</a></p><p class="p permalink"><a href ng-href="{{(groupComment||comment).permalink}}" target="_self">Permalink</a></p></div><div ng-include src="reply_path"></div></div></li></ul></div><!-- Non grouped comments--><div class="expand-comment" ng-if="!comment.group && !comments.expand_all" ng-click="toggleHiddenComments($index)">comment</div><div class="comment" ng-if="!comment.group"><div class="comment-header"><a class="comment-avatar" ng-href="{{comment.byline.profileUrl}}" target="_self"><img alt="{{comment.author}}" ng-src="{{comment.commentAuthorThumbnailUrl}}"></a><div class="comment-badge"><span class="badge" ng-if="comment.is_author && comment.author_type !== \'AdVoice\'">Author</span> <span class="badge badge-bv" ng-if="comment.author_type === \'AdVoice\'">{{comment.badge_text}}</span></div><p class="p author"><span class="author-name">{{comment.author}}</span> <span class="organization" ng-if="comment.organization && comment.author_type !== \'AdVoice\'" ng-switch="comment.organization"><span ng-switch-when="Forbes Staff">, {{comment.organization}} <i class="icon icon-staff-verified"></i></span> <span ng-switch-when="Under 30">, <i class="icon icon-u30-logo"></i> Contributor</span> <span ng-switch-default>, {{comment.organization}}</span></span> <span class="display-date">{{comment.display_date}}</span></p></div><div class="comment-content"><p class="p p1" ng-bind-html="comment.text"></p><p class="p hover-controls"><a href class="called-out-control" ng-click="callOut(comment)" ng-if="!comment.calledOut && user.content_links && user.content_links[0].edit_post_link">Call Out</a> <a href class="called-out-control" ng-click="callOut(comment)" ng-if="comment.calledOut && user.content_links && user.content_links[0].edit_post_link">Undo Call Out</a></p><p class="p star" ng-if="comment.calledOut"><i class="icon icon-star"></i>Top Comment</p><p class="p reply"><a href ng-click="toggleCommentReply((groupComment||comment))">REPLY</a></p><p class="p flag"><a href class="flag-link" ng-click="flagComment((groupComment||comment))">Flag</a></p><p class="p permalink"><a href ng-href="{{(groupComment||comment).permalink}}" target="_self">Permalink</a></p></div><div ng-include src="reply_path"></div></div></li></ul></div><!-- Start Comment Pagination --><nav class="pagination" ng-if="comments.comment_type[comments.active].pagination.page_control"><!-- prev arrow --><button class="prev" ng-class="{\'disabled\' : comments.comment_type[comments.active].pagination.page_control.left_arrow_disabled}" ng-click="comments.comment_type[comments.active].pagination.page_control.left_arrow_disabled ? void() : changeComments(comments.comment_type[comments.active].pagination.page_control.current_page - 1)"><span class="icon icon-previous"></span> PREV</button><!-- next arrow --> <button class="next" ng-class="{\'disabled\' : comments.comment_type[comments.active].pagination.page_control.right_arrow_disabled}" ng-click="comments.comment_type[comments.active].pagination.page_control.right_arrow_disabled ? void() : changeComments(comments.comment_type[comments.active].pagination.page_control.current_page + 1)">NEXT <span class="icon icon-next"></span></button><ul><!-- Putting </li>\'s ">" just before the start of the next <li> is intentional.\n			 It fixes the inline-block whitespace issue. --><!-- The ordering of the <li> elements below is: --><!-- First page --><!-- Left ellipsis --><!-- Middle numbers loop --><!-- Right ellipsis --><!-- Last page --><li class="page" ng-class="{\'active\' : comments.comment_type[comments.active].pagination.page_control.current_page === 1 }"><a ng-click="changeComments(1)">1</a></li><li class="disabled" ng-if="comments.comment_type[comments.active].pagination.page_control.left_ellipsis">&hellip;</li><li class="page" ng-repeat="n in [comments.comment_type[comments.active].pagination.page_control.left_start, comments.comment_type[comments.active].pagination.page_control.right_end] | makeRange" ng-class="{\'active\' : comments.comment_type[comments.active].pagination.page_control.current_page === n}"><a ng-click="changeComments(n)">{{n}}</a></li><li class="disabled" ng-if="comments.comment_type[comments.active].pagination.page_control.right_ellipsis">&hellip;</li><li class="page" ng-class="{\'active\' : comments.comment_type[comments.active].pagination.page_control.current_page === comments.comment_type[comments.active].pagination.page_control.total_pages}"><a ng-click="changeComments(comments.comment_type[comments.active].pagination.page_control.total_pages)">{{comments.comment_type[comments.active].pagination.page_control.total_pages}}</a></li></ul></nav><!-- End Comment Pagination -->'),a.put("/forbes/views/article/sidebar/ca5dfd7f.commentsnew.html",'<!-- Start Comments Reply Box --><div class="comment-reply"><form class="comment-reply-form" ng-submit="postComment()"><div class="status-bar" ng-if="user">You are now logged in as <a href="//blogs.forbes.com/account/">{{user.name}}</a> (<a href="//blogs.forbes.com/account/logout" class="ajaxify unireg_logout" ng-click="displayForm($event)" title="Click to sign out">log out</a>)</div><div class="status-bar" ng-if="!user">Please <a href="//blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)" title="Click to log in">log in</a> or <a href="//blogs.forbes.com/account/register" class="ajaxify unireg_register" ng-click="displayForm($event)" title="Click to sign up">sign up</a> to comment.</div><div class="input-holder-outer input-block"><!-- TODO real error message support --><div class="main_error_msg" ng-if="main_comment_error"><span class="icon icon-close"></span> <span class="text" ng-bind-html="main_comment_error"></span></div><div class="input-holder"><textarea ng-show="user" ng-model="comment_text.text" autocomplete="off" rows="5" cols="80" name="comment" data-initial-text="Enter Your Comment" class="initial-text user-comment" id="user-comment-textarea" placeholder="Enter Your Comment"></textarea><textarea ng-show="!user" href="//blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)" autocomplete="off" rows="5" cols="80" name="comment" data-initial-text="Enter Your Comment" class="initial-text user-comment" id="user-comment-textarea" placeholder="Enter Your Comment"></textarea></div><button class="post-comment" type="submit" data-track="post-comment-button">Post Comment</button> <small class="moderation-info">Forbes writers have the ability to highlight comments that contribute to the conversation. Top Comments are featured across Forbes.com.</small></div></form><div class="comment-guidelines-container"><span class="comment-guidelines-trigger"><button ng-click="toggleCommentGuidelines()" ng-class="{\'expand\':comments.guidelines_state}">Commenting Guidelines <i class="icon icon-chevron-down"></i></button></span><div class="comment-guidelines" ng-class="{\'expand\':comments.guidelines_state}"><h4>Commenting Guidelines</h4><p>We encourage respectful dialogue and the sharing of information at Forbes.com. Commenting gives Forbes readers a forum in which to express their opinions and engage in conversation with Forbes staff writers and contributors. By commenting, you are participating in a community that is intended for everyone, so please be respectful at all times.</p><p>Keep the following guidelines in mind when commenting on Forbes.com. Do not post comments that:</p><ul><li>Contain vulgar, profane, abusive or hateful language.</li><li>Contain inflammatory attacks of a personal, racial or religious nature or expressions of bigotry or discrimination.</li><li>Contain gross exaggeration or unsubstantiated claims; violates the privacy rights of any third party or are unreasonably harmful or offensive to an individual or community.</li><li>Mislead or reflect unfairly on any other person, business or entity.</li><li>Contain any actionable statement or threat.</li><li>Contain personal phone numbers, addresses or other information that can be used to identify or locate you or anyone else.</li><li>Contain three or more links to other sites.</li><li>Repeat prior posting of the same comment under multiple threads or subjects.</li><li>Are unrelated to the specific post or topic.</li></ul><p>We reserve the right to delete or move a comment at any time at our discretion, but have no obligation to review or remove any such content. To view our commenting guidelines in full detail, click <a href="http://www.forbes.com/terms" target="_self">here</a></p></div></div></div><!-- End Comments Reply Box -->'),a.put("/forbes/views/article/sidebar/5b9ac280.commentsreply.html",'<!-- Begin comment reply form --><div class="comment-reply inline" ng-if="(groupComment||comment).id === comments.active_reply"><form class="nested-comment-form" ng-submit="postComment((groupComment||comment))"><i class="icon icon-close cancel-reply" ng-click="toggleCommentReply((groupComment||comment))"></i><div class="status-bar" ng-if="user">You are now logged in as <a href="//blogs.forbes.com/account/">{{user.name}}</a> (<a href="//blogs.forbes.com/account/logout" class="ajaxify unireg_logout" ng-click="displayForm($event)" title="Click to sign out">log out</a>)</div><div class="status-bar" ng-if="!user">Please <a href="//blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)" title="Click to log in">log in</a> or <a href="//blogs.forbes.com/account/register" class="ajaxify unireg_register" ng-click="displayForm($event)" title="Click to sign up">sign up</a> to comment.</div><div class="input-holder-outer input-block"><!-- TODO real error message support --><div class="main-error-msg" ng-if="(groupComment||comment).show_comment_error"><span class="icon"></span> <span class="text" ng-bind-html="(groupComment||comment).show_comment_error"></span></div><div class="input-holder"><textarea ng-show="user" autocomplete="off" rows="10" cols="80" name="comment" data-initial-text="Enter Your Comment" class="initial_text user_comment" id="user_comment_textarea" placeholder="Enter Your Comment" ng-model="(groupComment||comment).new_comment_text"></textarea><textarea ng-show="!user" autocomplete="off" rows="10" cols="80" name="comment" data-initial-text="Enter Your Comment" class="initial_text user_comment ajaxify unireg_login" id="user_comment_textarea" placeholder="Enter Your Comment" ng-click="displayForm($event)"></textarea></div><button class="post-comment" type="submit" data-track="post-comment-reply-button">Post Reply</button> <small class="moderation-info">Forbes writers have the ability to highlight comments that contribute to the conversation. Top Comments are featured across Forbes.com.</small></div></form></div>'),a.put("/forbes/views/article/sidebar/15aa927a.layout.html",'<ul class="utilities anim"><li class="utility-item logo"><a href="http://www.forbes.com/" target="_self" data-track="sidebar-logo"><i class="icon icon-forbes-logo"></i></a></li><li class="utility-item menu" ng-click="iconClicked(\'nav-expanded\')" ng-attr-data-track="hamburger{{sidebar_state===\'nav-expanded\'?\'-close\':\'\'}}"><i class="icon icon-hamburger action" ng-attr-data-track="hamburger{{sidebar_state===\'nav-expanded\'?\'-close\':\'\'}}"></i> <i class="icon icon-close cancel" ng-attr-data-track="hamburger{{sidebar_state===\'nav-expanded\'?\'-close\':\'\'}}"></i></li><li class="mobile-trail"><a href="http://www.forbes.com/" target="_self" data-track="body-topper-logo"><i class="icon icon-forbes-logo"></i></a> <a class="crumb" data-track="body-topper-section" target="_self" ng-href="http://www.forbes.com{{channel.url}}" ng-if="channel.channelName">{{channel.channelName}}</a></li><li class="utility-item search" ng-click="iconClicked(\'search-expanded\')" ng-attr-data-track="search{{sidebar_state===\'search-expanded\'?\'-close\':\'\'}}" ng-class="(display_share ? \'\' : \'shifted\')"><i class="icon icon-search action" ng-attr-data-track="search{{sidebar_state===\'search-expanded\'?\'-close\':\'\'}}"></i> <i class="icon icon-close cancel" ng-attr-data-track="search{{sidebar_state===\'search-expanded\'?\'-close\':\'\'}}"></i></li><li class="mobile-circ-link" ng-if="page_data.header_data.headersubnavtopleftlink.contentPositions[0]"><a ng-href="{{page_data.header_data.headersubnavtopleftlink.contentPositions[0].uri}}" class="circ-link" data-track="circ-link" target="_self">{{page_data.header_data.headersubnavtopleftlink.contentPositions[0].title}}</a></li><li class="utility-item settings ajaxify" article-modal-toggle ng-class="unireg_class" mode=".form-insert" ng-show="user_initialized"><i class="icon icon-user" ng-if="!logged_in" ng-class="unireg_class" data-track="login-form-toggle" ng-click="mode_visible?hideForm():displayForm($event)"></i> <img class="utility-item-avatar" ng-src="{{user.thumbnailURL}}" ng-if="logged_in" data-track="logout-form-toggle" ng-class="unireg_class" ng-click="mode_visible?hideForm():displayForm($event)"><div class="form-insert" ng-show="mode_visible"></div></li><li class="utility-item close-panel" ng-click="iconClicked(\'\')" ng-attr-data-track="{{(sidebar_state === \'nav-expanded\') ? \'hamburger\' : ((sidebar_state === \'comments-expanded\') ? \'comments\' : ((sidebar_state === \'trending-expanded\') ? \'trending\' : \'search\'))}}-close"><i class="icon icon-close action" ng-attr-data-track="{{(sidebar_state === \'nav-expanded\') ? \'hamburger\' : ((sidebar_state === \'comments-expanded\') ? \'comments\' : ((sidebar_state === \'trending-expanded\') ? \'trending\' : \'search\'))}}-close"></i></li></ul><div class="bottom-sticky anim" ng-class="{\'is-stream\':is_stream,\'in-stream\':in_stream}"><div ng-if="show_comments" class="article-comments" article-comments ng-click="iconClicked(\'comments-expanded\')" ng-attr-data-track="comments{{sidebar_state===\'comments-expanded\'?\'-close\':\'\'}}"><div class="article-count" ng-class="{\'no-comments\' : !comments.post_fix}"><span class="action">{{comments.count}} <small>{{comments.post_fix}}</small></span></div><i class="icon icon-close cancel" ng-attr-data-track="comments{{sidebar_state===\'comments-expanded\'?\'-close\':\'\'}}"></i></div><div article-sharing ng-if="display_share" data-track="sidebar"></div><div ng-if="!is_mobile" class="utility-item trending-now button" ng-click="iconClicked(\'trending-expanded\')" ng-attr-data-track="trending{{sidebar_state===\'trending-expanded\'?\'-close\':\'\'}}"><i class="icon icon-plus action"></i> <i class="icon icon-close cancel" ng-attr-data-track="trending{{sidebar_state===\'trending-expanded\'?\'-close\':\'\'}}"></i> <span class="label">trending</span></div></div>'),a.put("/forbes/views/article/sidebar/e1ff5c34.nav.html",'<div class="cover" ng-if="cover_story"><a href="http://www.forbes.com/" class="logo" target="_self" data-track="nav-logo"><h2><i class="icon icon-forbes-logo"></i></h2></a> <img class="cover-image" ng-src="{{cover_story.image}}" ng-if="initialized" data-pin-nopin="true"><h3 class="slug"><span class="cover-story">Cover Story</span> <a class="cover-link" ng-href="{{cover_story.uri}}" target="_self">{{cover_story.title}}</a></h3></div><div class="promoted-slider hidden" ng-if="initialized && promoted_slider.length > 0" article-nav-carousel><div class="slide" ng-repeat="slide in promoted_slider"><a class="link" ng-href="{{slide.uri}}" ng-attr-data-track="promo-{{$index}}" target="_self"><img class="image" ng-src="{{slide.image}}" ng-if="initialized" data-pin-nopin="true"> <span class="title">{{slide.title}}</span></a></div></div><ul class="nav-permalinks"><li class="list-item"><div class="channel-header" ng-click="goToUrl(\'most-popular\')"><a href="http://www.forbes.com/most-popular/" target="_self">Most Popular</a> <i class="icon icon-chevron-right"></i></div></li><li class="list-item"><div class="channel-header" ng-click="goToUrl(\'real-time\')"><a href="http://www.forbes.com/real-time/" target="_self">New Posts</a> <span class="new-count" ng-if="new_posts">+{{ new_posts }}</span> <i class="icon icon-chevron-right"></i></div></li></ul><ul class="channels-list" ng-if="initialized"><li class="list-item first"></li><li ng-repeat="channel in channel_list.contentPositions" class="list-item" ng-class="{\'expanded\':submenu_state[\'channels_\' + $index]}"><div class="channel-header" ng-click="toggleSubmenu(\'channels_\' + $index);" ng-attr-data-track="channel-{{submenu_state[\'channels_\' + $index]?\'hide\':\'reveal\'}}"><a ng-href="{{channel.uri}}" target="_self" data-track="channel-nav-header-link">{{channel.title}}</a> <i class="icon icon-chevron-down" ng-if="channel.contentPositions.length > 0" ng-attr-data-track="channel-{{submenu_state[\'channels_\' + $index]?\'hide\':\'reveal\'}}"></i></div><ul class="subchannels-list"><li class="subchannel" ng-repeat="subchannel in channel.contentPositions"><a ng-href="{{subchannel.uri}}" target="_self" ng-attr-data-track="{{subchannel.image?\'channel-promo-link\':\'channel-nav-link\'}}" class="subchannel-link"><img class="image" ng-if="initialized && subchannel.image" ng-src="{{subchannel.image}}"> <span ng-class="{\'lead-text\':$first}">{{subchannel.title}}</span></a></li></ul></li></ul><div ng-if="footer_list" class="footer-list"><ul class="footer-channels-list"><li ng-repeat="subnav in footer_list.footer_subnav_list" ng-click="toggleSubmenu(\'footer\' + $index + \'_0\')" ng-class="{\'expanded\':submenu_state[\'footer\' + $index + \'_0\']}" ng-attr-data-track="footer-subnav-{{submenu_state[\'footer\' + $index + \'_0\']?\'hide\':\'reveal\'}}"><div class="channel-header"><a ng-href="{{subnav.link}}" target="_self">{{subnav.title}}</a> <i class="icon icon-chevron-down" ng-if="subnav.positions.length > 0" ng-attr-data-track="footer-subnav-{{submenu_state[\'footer\' + $index + \'_0\']?\'hide\':\'reveal\'}}"></i></div><ul class="subchannels-list"><li ng-repeat="link in subnav.positions" class="clearfix"><a ng-href="{{link.uri}}" target="_self" data-track="footer-subnav-link">{{link.title}}</a></li></ul></li><li><div class="channel-header"><a href="http://www.forbes.com/reprints" target="_self" data-track="nav-reprints">Reprints &amp; Permissions</a></div></li></ul><div class="publications"><div class="covers"><a href="http://www.forbes.com/forbes" target="_self" data-track="footer-cover-1" ng-if="initialized"><img ng-src="http://images.forbes.com/media/current_covers/forbes_120x160.jpg" alt="Forbes Magazine"></a> <a href="http://www.forbes.com/forbesasia/" target="_self" data-track="footer-cover-2" ng-if="initialized"><img ng-src="http://images.forbes.com/media/current_covers/forbesasia_120x160.jpg" alt="ForbesAsia"></a> <a href="http://www.amazon.com/Forbes-Smarter-College-Guide-2016/dp/0996220100/ref=sr_1_1?ie=UTF8&qid=1444918437&sr=8-1&keywords=smarter+college+guide" target="_self" data-track="footer-cover-3" ng-if="initialized"><img ng-src="http://images.forbes.com/media/current_covers/college-guide-120x160.jpg" alt="Forbes Smarter College Guide"></a></div><ul class="subscriptions" ng-if="footer_list.footermagazine.contentPositions.length > 0"><li ng-repeat="link in footer_list.footermagazine.contentPositions"><a ng-href="{{link.uri}}" target="_self" data-track="footer-subscription">{{link.title}}</a></li></ul><div class="affiliate-sites clearfix"><ul><li><a href="http://www.forbes.com.br/" target="_blank" data-track="footer-licensee-link">Forbes Brazil</a></li><li><a href="http://forbes.hr/" target="_blank" data-track="footer-licensee-link">Forbes Croatia</a></li><li><a href="http://www.forbes.cz/" target="_blank" data-track="footer-licensee-link">Forbes Czech</a></li><li><a href="http://www.forbesindia.com/" target="_blank" data-track="footer-licensee-link">Forbes India</a></li><li><a href="http://www.forbes.co.il/" target="_blank" data-track="footer-licensee-link">Forbes Israel</a></li><li><a href="http://forbesjapan.com/" target="_blank" data-track="footer-licensee-link">Forbes Japan</a></li><li><a href="http://forbes.kz/" target="_blank" data-track="footer-licensee-link">Forbes Kazakhstan</a></li><li><a href="http://www.forbes.com.mx/" target="_blank" data-track="footer-licensee-link">Forbes Mexico</a></li></ul><ul><li><a href="http://www.forbesmiddleeast.com/" target="_blank" data-track="footer-licensee-link">Forbes Middle East</a></li><li><a href="http://www.forbes.pl/" target="_blank" data-track="footer-licensee-link">Forbes Poland</a></li><li><a href="http://www.forbes.ro/" target="_blank" data-track="footer-licensee-link">Forbes Romania</a></li><li><a href="http://www.forbes.ru/" target="_blank" data-track="footer-licensee-link">Forbes Russia</a></li><li><a href="http://forbes.es/" target="_blank" data-track="footer-licensee-link">Forbes Spain</a></li><li><a href="http://www.forbesthailand.com/" target="_blank" data-track="footer-licensee-link">Forbes Thailand</a></li><li><a href="http://forbesvietnam.com/" target="_blank" data-track="footer-licensee-link">Forbes Vietnam</a></li></ul><ul><li><a href="http://www.realclear.com/" target="_blank" data-track="footer-licensee-link">RealClear</a></li><li><a href="http://www.realclearpolitics.com/" target="_blank" data-track="footer-licensee-link">RealClear Politics</a></li><li><a href="http://www.realclearmarkets.com/" target="_blank" data-track="footer-licensee-link">RealClear Markets</a></li><li><a href="http://www.realclearworld.com/" target="_blank" data-track="footer-licensee-link">RealClear World</a></li><li><a href="http://www.realclearsports.com/" target="_blank" data-track="footer-licensee-link">RealClear Sports</a></li></ul></div></div><ul class="legalese"><li><a href="/terms" target="_self">Terms and Conditions</a></li><li><a href="http://corporate.morningstar.com/us/asp/subject.aspx?xmlfile=5501.xml">Market Data by Morningstar</a></li><li><a href="http://www.forbes.com/fdc/privacy.html" target="_self">Privacy Statement</a></li><li><a onclick="(function(){var s=document.createElement(\'script\');s.src=\'http://preferences.truste.com/js/buildJsFilev2.jsp?domain=forbes.com&amp;type=epref\';s.onreadystatechange=function(){if(script.readyState==\'loaded\'||script.readyState==\'complete\'){view(trusteId);}};s.onload=function(){view(trusteId);};document.getElementsByTagName(\'head\')[0].appendChild(s);})()" style="cursor:pointer" target="_blank">AdChoices</a></li></ul><small class="copyright">2015 Forbes.com LLC™ All Rights Reserved</small></div>'),
a.put("/forbes/views/article/sidebar/31a8e65e.trending.html",'<div class="article-sidebar-trending"><h2 class="head">Trending Now</h2><div class="overlay-spinner spinner {{spinner_background}} black" ng-show="!is_loaded||!initialized"><div class="loader"><!--[if lte IE 9]>	Loading ...<![endif]--></div></div><ul class="items" ng-if="initialized"><li class="item {{item.content.storyType}}" ng-repeat="item in trending_items" ng-if="item.advoiceBrand !== \'nativeAd\' && item.type !== \'ad\'"><p class="article-trending-detail {{item.detail_class}}"><i class="icon"></i>{{item.detail_string}}</p><div class="ratio-holder anim" ng-if="item.image"><img class="thumb" ng-src="{{item.image}}"></div><a class="link" ng-href="{{item.uri}}" target="_self" data-track="trending-story"><h3 class="headline" ng-if="item.brandvoice_type === \'story\' && item.content.blogType !== \'comm\'"><span class="brand-voice-name">{{item.content.slug}} <span class="voice voice-light">Voice</span></span>: {{item.title}}</h3><h3 class="headline" ng-if="item.content.blogType === \'comm\'"><span class="community-voice-name">CommunityVoice</span>: {{item.title}}</h3><h3 class="headline" ng-if="item.brandvoice_type !== \'story\' && item.content.blogType !== \'comm\'">{{item.title}}</h3></a></li></ul></div>'),a.put("/forbes/views/article/streaminline/b6b61c6e.layout.html",'<div id="article-stream" class="article-stream"><article class="recommended-stream clearfix" ng-repeat="story in stream | limitTo:limit" ng-class="{\'stream-ad\':story.type === \'ad\', brandvoice: story.brandvoice_type === \'ad\'}"><!-- Ad slot --><div id="stream-{{story.ad_id}}" ng-if="story.type === \'ad\' && story.ad_position !== \'related\'"><div id="{{story.ad_id}}" class="article-stream-article clearfix {{trend_ad}} {{story.ad_position}}" dynamic-ad-unit="{{story.ad_position}}" ng-if="trend_ads[story.ad_index]"></div></div><!-- Stream Article Slot --><div class="article-stream-article clearfix" ng-if="story.type !== \'ad\'"><div class="article-brand-voice-blurb" ng-if="story.brandvoice_type === \'ad\' || story.advoiceBrand === \'Community\'" brand-voice-blurb="{{story.content.blogType}}"></div><div class="ratio-holder" ng-if="story.image"><a ng-href="{{story.uri}}" target="_self" data-track="stream-content-link"><img class="thumb" ng-src="{{story.image}}" ng-if="stream_initialized"></a></div><div class="share" article-sharing story="story" data-track="stream"></div><div class="article-text" ng-if="story.brandvoice_type !== \'ad\'"><p class="article-trending-detail {{story.detail_class}}"><i class="icon"></i>{{story.detail_string}}</p><a ng-href="{{story.uri}}" target="_self" data-track="stream-content-link"><h3 ng-if="story.advoiceBrand && story.advoiceBrand !== \'Community\'"><span class="brand-voice-name"><span class="name">{{story.content.slug}}</span><span class="voice">Voice</span></span>: {{story.title}}</h3><h3 ng-if="story.advoiceBrand === \'Community\'"><span class="community-voice-name">CommunityVoice</span>: {{story.title}}</h3><h3 ng-if="!story.advoiceBrand">{{story.title}}</h3></a><div class="article-author"><a ng-href="{{story.content.authors[0].url}}" target="_self" data-track="stream-author-link"><img ng-src="{{story.content.authors[0].avatars[3].image}}" class="avatar" ng-if="stream_initialized"> <strong class="author-name">{{story.content.authors[0].name}}</strong> <span class="author-title" ng-if="story.content.authors[0].type">{{story.content.authors[0].type}}</span></a></div><a ng-href="{{story.uri}}" target="_self" data-track="stream-content-link" class="article-button">Read More <i class="icon icon-chevron-right"></i></a></div><div class="article-text" ng-if="story.brandvoice_type === \'ad\'"><a ng-href="{{story.uri}}" target="_self" data-track="stream-content-link"><h3><span class="brand-voice-name"><span class="name">{{story.content.slug || story.advoiceBrand}}</span><span class="voice">Voice</span></span>: {{story.title}}</h3></a><div class="article-author"><a ng-href="{{story.content.authors[0].url}}" target="_self" data-track="stream-author-link"><img ng-src="{{story.content.authors[0].avatars[3].image}}" class="avatar" ng-if="stream_initialized"> <strong class="author-name">{{story.content.authors[0].name}}</strong> <span class="name">{{story.content.slug || story.advoiceBrand}}</span></a></div><a ng-href="{{story.uri}}" target="_self" data-track="stream-content-link" class="article-button">Read More <i class="icon icon-chevron-right"></i></a></div></div></article><div class="article-stream-more-link"><a href="http://www.forbes.com/most-popular" class="more-link" data-track="more-trending-stream-link" target="_self">More Trending Stories<i class="icon icon-chevron-right"></i></a></div></div>'),a.put("/forbes/views/contributor/about/f67b3043.bio-container.html",'<span class="close-btn" ng-click="closeBioBlock()"><span class="close">CLOSE</span> <i class="icon-close"></i></span><div><img ng-src="{{current_contrib.avatars[\'large\'].image}}"><div class="text"><h3 class="name">{{current_contrib.name}}</h3><p class="bio" ng-bind-html="getAuthorDescriptionHTML(current_contrib)"></p><div class="more" ng-if="current_contrib.webSite">My Other Website<br><a href="{{current_contrib.webSite}}" target="_blank">{{current_contrib.webSite}}</a></div></div></div>'),a.put("/forbes/views/contributor/about/1340988e.layout.html",'<div class="stack contrib-about" ng-class="{ groupblog: group_blog }" ng-controller="ContribAboutController"><div class="title-block"><h2 class="heading">About</h2><div class="admin_section_controls"><div class="arrow up"></div><div class="arrow down"></div></div></div><div class="content-block wide"><div class="col-md-8"><div class="author-description"><p ng-bind-html="getAuthorDescriptionHTML(author)"></p><button class="toggle-description" ng-click="toggleDescription()" ng-if="author_readmore">{{author_readmore_collapsed ? \'+ read more\' : \'- read less\'}}</button></div><div ng-if="group_blog" class="writers {{hide_writers}}"><h3>Our Writers</h3><ul><li ng-repeat="contributor in author.contributors | limitTo:writer_limit" ng-click="setCurrentContrib($index)"><img ng-src="{{contributor.avatars[\'medium\'].image}}" title="{{contributor.name}}"></li><li ng-show="has_more_writers" class="has-more-writers"><div class="toggle-writers" ng-click="toggleWriters()"><div class="load-more" ng-show="!displaying_all_writers"><div class="circle"></div><div class="arrow"><i class="icon icon-chevron-down"></i></div><div class="message">Show More</div></div><div class="load-more less" ng-show="displaying_all_writers"><div class="circle"></div><div class="arrow"><i class="icon icon-chevron-up"></i></div><div class="message">Show Fewer</div></div></div></li></ul></div></div></div><div class="bio-container" ng-if="current_contrib" style="display:none; overflow:visible" bio-container></div><div class="bio-container slide-in-out" ng-if="current_contrib" bio-container></div></div>'),a.put("/forbes/views/contributor/carouselfeature/a4701619.carousel-slides.html",'<div ng-repeat="article in carouselfeature_content" ng-if="article.display_image"><a ng-href="{{article.uri}}" target="_self" class="clearfix"><div class="ratio32x15 carousel-image-wrapper"><!-- \n			TODO - Remove once we have final approval (& css)\n			<div class="article-shares">{{article.shares}}</div> \n			--><div class="ratio16x9 slide-wrapper" style="background-image:url({{article.display_image}})"></div></div></a> <span class="bv_category">{{article.channelSectionName}}</span> <a ng-href="{{article.uri}}" target="_self"><h2 class="article-title">{{article.title}}</h2></a></div>'),a.put("/forbes/views/contributor/carouselfeature/1d3f2599.carousel.html",'<div class="stack carousel-feature"><edit-tools data-type="carousel"></edit-tools><div class="carousel hidden" contrib-slick-carousel></div></div>'),a.put("/forbes/views/contributor/common/ads/876d4da9.aroundtheweb.html",'<div id="420134146"><script type="text/javascript">try {\n		window._mNHandle.queue.push(function () {\n			window._mNDetails.loadTag("420134146", "970x250", "420134146");\n			});\n		}\n	catch (error) {}</script></div>'),a.put("/forbes/views/contributor/common/header/12e846e9.header.html",'<div class="row header-top"><div class="logo-wrapper"><div class="header-utilities"><div class="header-search {{slim}}" header-search data-collapsed="collapsed"></div><ul class="utilities" ng-controller="UtilityItemsController" ng-include src="template_path"></ul></div><a href="http://www.forbes.com" class="logo" target="_self" ng-if="sub_type !== \'type-forbeslife\'"><i class="icon icon-forbes-logo"></i></a> <a href="http://www.forbeslife.com" class="logo" target="_self" ng-if="sub_type === \'type-forbeslife\'"><i class="icon icon-forbes-logo"></i><i class="icon icon-forbes-life"></i></a></div></div><div class="row header-nav"><div class="row-inner"><ul class="channels-list"><li ng-repeat="channels in channel_list"><a ng-href="{{channels.uri}}" target="_self">{{channels.title}}</a></li></ul></div></div>'),a.put("/forbes/views/contributor/common/header/d6c0740c.header_collapsed.html",'<div class="header-nav-collapsed anim"><div class="header-utilities"><div class="header-search {{slim}}" header-search data-collapsed="collapsed"></div><ul class="utilities" ng-controller="UtilityItemsController" ng-include src="template_path"></ul></div><div contrib-menu-icon class="menu-icon-button" ng-click="animateSideBar();"><i class="icon icon-hamburger"></i></div><div class="row-inner anim"><div class="logo-hover {{header_nav_expand}}" ng-mouseenter="onMouseOver(\'logo\')" ng-mouseleave="onMouseOut(\'logo\')"><a href="http://www.forbes.com/" class="logo" target="_self" ng-if="sub_type !== \'type-forbeslife\'"><i class="icon icon-forbes-logo"></i></a> <a href="http://www.forbeslife.com/" class="logo" target="_self" ng-if="sub_type === \'type-forbeslife\'"><i class="icon icon-forbes-logo"></i><i class="icon icon-forbes-life"></i></a><div class="arrow-down"></div></div></div></div><div class="header-nav {{header_nav_expand}}" ng-mouseenter="onMouseOver(\'dropdown\')" ng-mouseleave="onMouseOut(\'dropdown\')"><div class="arrow-up"></div><div class="clearfix"><ul class="channels-list"><li ng-repeat="channels in channel_list"><a href="{{channels.uri}}" target="_self" ng-mouseenter="showChannel(channels)">{{channels.title}}</a></li></ul><div class="channel-nav-block-promo"><div class="channel-nav-hero"><a ng-href="{{channel_nav_hero.uri}}" target="_self"><img ng-src="{{channel_nav_hero.image}}" width="65"><figcaption>{{channel_nav_hero.title}}</figcaption></a></div><ul class="channel-nav-list"><li ng-repeat="channel_nav in channel_nav_list"><a ng-href="{{channel_nav.uri}}" target="_self">{{channel_nav.title}}</a></li></ul></div></div></div>'),a.put("/forbes/views/contributor/common/header/ec9e2555.search.html",'<form ng-submit="doSearch()"><input type="search" ng-model="search_query" placeholder="SEARCH"> <button ng-click="showSearch()"><i class="icon icon-search"></i></button></form>'),a.put("/forbes/views/contributor/common/header/67aa230e.utility.html",'<li ng-if="!user&&initialized"><a href="http://blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)">LOG IN</a></li><li ng-if="!user&&initialized"><a href="http://blogs.forbes.com/account/register" class="ajaxify unireg_register" ng-click="displayForm($event)">SIGN UP</a></li><li ng-if="user&&initialized" class="user-thumbnail-li"><img ng-src="{{user.thumbnailURL}}" alt="" class="user-thumbnail-image" height="20" width="20"> <span class="logout-link"><a href="http://blogs.forbes.com/account">{{user.display_name}}</a></span></li><li ng-if="user&&initialized"><a href="http://blogs.forbes.com/account/logout" class="ajaxify unireg_logout" ng-click="displayForm($event)">LOG OUT</a></li><li><a href="http://blogs.forbes.com/help">HELP</a></li>'),a.put("/forbes/views/contributor/common/modal/2541d636.modal_content.html",'<div class="modal" ng-show="modal_visible"><div class="modal-overlay" ng-click="hideModal(&quot;overlay&quot;)"></div><div class="modal-dialog" ng-style="modal_contents_style"><div class="modal-close" ng-click="hideModal()"><i class="icon icon-close"></i></div><div class="modal-dialog-content"></div></div></div>'),a.put("/forbes/views/contributor/common/sharing/a1473cb2.sharing.html",'<i class="social-expand-control icon icon-share" ng-click="toggleExpanded()"></i><ul class="fbs-sharing {{expanded}}"><li class="email" ng-click="postEmail()"><button class="button"><i class="icon icon-email"></i></button></li><li class="facebook" ng-click="postFacebook()"><button class="button"><i class="icon icon-facebook"></i></button></li><li class="twitter" ng-click="postTwitter()"><button class="button"><i class="icon icon-twitter"></i></button></li><li class="linkedin" ng-click="postLinkedin()"><button class="button"><i class="icon icon-linkedin"></i></button></li><li class="google" ng-click="postGoogle()"><button class="button"><i class="icon icon-google"></i></button></li><li class="permalink expandable"><button class="button"><i class="icon icon-link"></i></button><span><input type="text" value="{{url}}" onclick="this.setSelectionRange(0, this.value.length)"></span></li></ul>'),a.put("/forbes/views/contributor/common/sidebar/a45ef2af.sidebar.html",'<div class="list-wrapper" ng-show="sidebar_state === \'expanded\'"><ul class="channels-list"><li class="list-item first"></li><li ng-repeat="channels in channel_list" class="list-item"><a ng-href="{{channels.uri}}" target="_self"><div class="sidebar_item">{{channels.title}}</div></a></li></ul><ul class="forbes-login-list channels-list" ng-if="initialized && !logged_in"><li class="list-item first"></li><li class="list-item"><a href="http://blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)"><div class="text">LOG IN</div></a></li><li class="list-item"><a href="http://blogs.forbes.com/account/register" class="ajaxify unireg_register text" ng-click="displayForm($event)"><div class="text">SIGN UP</div></a></li></ul><ul class="forbes-login-list channels-list" ng-if="initialized && logged_in"><li class="list-item first"></li><li class="list-item"><img ng-src="{{user.thumbnailURL}}" alt="" class="user-thumbnail-image" height="20" width="20"><span><a href="http://blogs.forbes.com/account">{{user.display_name}}</a></span></li><li class="list-item"><a href="http://blogs.forbes.com/account/logout" class="ajaxify unireg_logout" ng-click="displayForm($event)"><div class="text">LOG OUT</div></a></li></ul></div>'),a.put("/forbes/views/contributor/facebook/6091a696.layout.html",'<div class="facebook-block" ng-controller="FacebookController"><div class="title-block-wide"><h2>{{author_name}} on Facebook</h2></div><div id="fb-root"></div><div class="fb-page" data-href="{{facebook_url}}" data-small-header="false" data-width="500" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" data-show-posts="true"><div class="fb-xfbml-parse-ignore"><blockquote cite="{{facebook_url}}"><a ng-href="{{facebook_url}}" target="_blank">Facebook</a></blockquote></div></div></div>'),a.put("/forbes/views/contributor/homepage/74204837.ad_slot.html",'<div id="ad-slot{{slot.id}}" ad-unit="{{slot.ad_unit}}" class="ad"></div>'),a.put("/forbes/views/contributor/homepage/8349d450.layout.html",'<!-- Normal mode --><div class="page-container row" ng-if="!edit_tools" ng-class="{brandvoice:brandvoice}"><section ng-repeat="slot in page_order" ng-include src="slot.template" ng-class="slot.class_name" class="section section-{{$index}} {{slot.no_border}}"></section></div><!--Edittools mode --><div class="page-container" ng-if="edit_tools" ng-class="{brandvoice:brandvoice}"><section ng-repeat="slot in page_order.order_positions.statics" ng-include src="slot.template" ng-class="slot.class_name" class="section"></section><ul class="edittools-list ui-sortable" data-et-context="contributor" data-et-primaryblognaturalid="{{primary_blog_naturalid}}" data-et-location="{{edit_tools_location}}_order" data-sort="true" data-et-dynamicorder="{{page_order.order_positions.order}}"><li ng-repeat="slot in page_order.order_positions.dynamics" ng-include src="slot.template" ng-class="slot.class_name" class="{{slot.no_border}} section editable edittools-item" data-et-item_id="{{slot.name}}" data-et-location="{{edit_tools_location}}_order" data-et-item-type="general"></li></ul></div>'),a.put("/forbes/views/contributor/homepage/8f623e0c.loading_spinner.html",'<div class="spinner"><img src="http://i.forbesimg.com/assets/images/loading_spinners/loader-128x128.gif" style="width:60px; height:60px"></div>'),a.put("/forbes/views/contributor/7e62b1ce.index.html",'<div fbs-modal></div><div class="layout clearfix" user-login-check fbs-track="fastpixel,comscore,moat,reach,ga"><div class="left-section anim sidebar" ng-controller="ContribSidebarController" ng-include="sidebar_template"></div><!-- //page-scroll --><div class="right-section page-wrapper" ng-controller="ContribHeaderController"><!-- Header Collapsed--><div class="collapsed-header {{collapsed_visible}} {{sub_type}}" ng-include="header_template_collapsed"></div><div class="contrib-sticky-sharing {{visible}}" contrib-sticky-sharing></div><!-- Header --><header class="contrib-header {{sub_type}}" ng-include="header_template"></header><div class="main-content-container"><!-- Main Content --><div id="contrib-main-content" ng-view=""></div></div><!-- Footer Section --><footer class="row clearfix"><div class="row-inner"><div class="footer-logo"><a href="/" target="_self" class="logo logo-footer"><i class="icon icon-forbes-logo"></i></a> <span class="copy">{{footer_year}} Forbes.com LLC<sup>TM</sup> All Rights Reserved</span></div><div class="footer-links-wrapper"><ul class="footer-links"><li class="desk"><a href="http://preferences-mgr.truste.com/?pid=forbes01" target="_blank">AdChoices</a></li><li class="mob"><a href="http://preferences-mgr.truste.com/?pid=forbes01&aid=forbes_mobile01" target="_blank">AdChoices</a></li><li><a href="http://www.forbes.com/fdc/privacy.html" target="_self">Privacy Statement</a></li><li><a href="http://www.forbes.com/terms" target="_self">Terms and Conditions</a></li><li><a href="http://blogs.forbes.com/help/">Help</a></li><li><a href="http://www.forbes.com/fdc/contact.html" target="_self">Contact Us</a></li><li><a href="https://www2.apply2jobs.com/forbes/">Jobs At Forbes</a></li><li><a href="http://forbesreprints.magreprints.com/" target="_self">Reprints & Permissions</a></li><li><a href="http://www.forbes.com/sites/forbespr/" target="_self">Forbes Press Room</a></li><li><a href="http://www.forbesmedia.com/">Advertise</a></li></ul></div></div></footer><div class="sticky-ad-container" ng-if="is_mobile"><ad id="leaderboard" ad-unit="top" class="ad mobile-sticky-ad"></ad></div></div></div><!-- Edittools scripts --><edit-tools data-type="script"></edit-tools>'),a.put("/forbes/views/contributor/instagram/a6ff0bcf.layout.html",'<div ng-controller="ContribInstagramController" class="instagram"><div class="title-block"><h2>{{author_name}} on Instagram</h2></div><div class="instagram-embed-wrapper clearfix draggable-block"><div class="instagram-entry" ng-repeat="url in instagram_urls"><iframe frameborder="0" allowtransparency="true" scrolling="no" ng-src="{{url}}"></iframe></div></div></div>'),a.put("/forbes/views/contributor/mostpopular/b20b1e52.layout.html",'<div class="contrib-most-popular" ng-controller="ContribMostPopularController"><div class="title-block-wide" ng-class="{\'brandvoice\':brandvoice}"><h2><span class="author">{{author.name}}</span><span ng-if="brandvoice" class="voice">Voice</span>{{author.author_possessive}} Most Popular</h2></div><div class="content-block draggable-block"><ol class="articles"><li class="article" ng-repeat="article in stream_state.articles | limitTo:stream_state.display"><a class="article-link" ng-href="{{article.uri}}" target="_self"><div class="article-stats">+ {{article.views | number}} views</div><div class="article-number">{{$index + 1}}.</div><h3 class="article-title">{{article.title}}</h3></a></li></ol><div class="load-more" ng-click="displayMore()" ng-show="stream_state.has_more"><div class="circle"></div><div class="arrow"><i class="icon icon-chevron-down"></i></div><div class="message">Show More</div></div></div></div><div class="contrib-right-adblock" ng-if="!is_mobile"><div id="rec-2" ad-unit="recx"></div></div>'),a.put("/forbes/views/contributor/news/archive/f26f775c.layout.html",'<div ng-controller="ContribArchiveController"><ul class="common-archive months"><li class="month" ng-repeat="month in archive_content | orderBy:\'order\':true" ng-class="{expanded:month.expanded, \'mouse-defeat\':month.mouse_defeat}"><div class="month-text" ng-click="toggleMonth(month.yearMonth)" ng-mouseleave="month.mouse_defeat = false"><div class="twirl-down"><div class="circle"></div><div class="arrow"></div></div><!-- TODO : Add anchor/directive for auto-scroll to month headers --><h3>{{month.date}} <span class="count">({{month.contentCount}})</span></h3></div><ol class="articles" ng-show="month.expanded"><li class="article" ng-repeat="article in month.viewContents" data-et-cia-enabled="star" data-et-id="content_{{article.id}}" ng-class="{\'edittools-contentitem\':edit_tools}"><a class="article-link" ng-href="{{article.uri}}" target="_self"><span class="article-date">{{article.date | date : \'mediumDate\'}}</span><h4>{{article.title}}</h4></a></li></ol></li></ul></div>'),a.put("/forbes/views/contributor/news/09f2a4d0.layout.html",'<span ng-controller="ContribNewsController"><div class="common-news"><div class="title-block"><h2 class="header">Posts</h2><button ng-class="{active:news.is_latest}" ng-click="showLatest()" ng-if="!is_sub_blog" class="first">Latest</button> <button ng-class="{active:!news.is_latest}" ng-click="showArchive()" ng-if="!is_sub_blog">Archive</button></div><div class="content-block"><div ng-include src="news_content_template"></div></div></div><div class="contrib-right-adblock" ng-if="stream_ready && !is_mobile"><div id="rec-1" ad-unit="rec"></div></div></span>'),a.put("/forbes/views/contributor/news/stream/77d6f075.blog.html",'<a class="article-link" ng-href="{{article.uri}}" target="_self" ng-class="{last:($index === stream_state.start-1)}"><div class="ratio-parent" ng-if="article.image"><div class="img-container"><img ng-src="{{article.image}}"></div></div><div class="article-stats">{{article.date | date:\'mediumDate\'}} <span ng-if="article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></div><h3 class="article-title">{{article.title}}</h3></a>'),a.put("/forbes/views/contributor/news/stream/d807ea22.calledout.html",'<div class="article-link calledout" target="_self" ng-class="{last:($index === stream_state.start-1)}"><a ng-href="{{article.uri}}" target="_self"><div class="article-stats"><span class="article-type">Active Conversation</span> {{article.date | date:\'mediumDate\'}} <span ng-if="article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></div><h3 class="article-title">{{article.title}}</h3></a><div ng-mouseleave="article.selected_comment = false" class="comment-block" ng-class="{active: article.selected_comment}"><span class="triangle-border"></span> <span class="triangle"></span> <button class="close" ng-if="is_mobile && article.selected_comment" ng-click="article.selected_comment = false"><i class="icon icon-close"></i></button> <a ng-href="{{article.uri}}" target="_self" class="summary">+ {{article.commentCount}} comments, {{article.calledOutCommentCount}} called out</a><ul class="avatars"><li class="avatar" ng-repeat="comment in article.comments" ng-mouseover="article.selected_comment = comment" ng-click="article.selected_comment = comment"><img ng-src="{{comment.commentAuthorThumbnailUrl}}" ng-class="{passive: article.selected_comment, active: article.selected_comment.id === comment.id}"></li></ul><div ng-if="article.selected_comment" class="comment-content"><img ng-src="{{article.selected_comment.commentAuthorThumbnailUrl}}" class="portrait"><p class="byline"><span class="author">{{article.selected_comment.author}}</span> <span class="staff" ng-show="article.selected_comment.calledOutAuthorId === 0">{{article.selected_comment.author_type}}</span></p><a ng-href="{{article.uri}}?commentId={{article.selected_comment.id}}" class="comment" target="_self">{{article.selected_comment.text}}</a></div></div></div>'),a.put("/forbes/views/contributor/news/stream/77d6f075.default.html",'<a class="article-link" ng-href="{{article.uri}}" target="_self" ng-class="{last:($index === stream_state.start-1)}"><div class="ratio-parent" ng-if="article.image"><div class="img-container"><img ng-src="{{article.image}}"></div></div><div class="article-stats">{{article.date | date:\'mediumDate\'}} <span ng-if="article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></div><h3 class="article-title">{{article.title}}</h3></a>'),a.put("/forbes/views/contributor/news/stream/bf0041ae.headlinegrab.html",'<a class="article-link" ng-href="{{article.uri}}" target="_self" ng-class="{last:($index === stream_state.start-1)}"><div class="headline-grab-block"><div class="article-stats"><span class="article-type">Headline Grab</span> <span class="source">{{article.source_domain}}</span> {{article.date | date:\'mediumDate\'}} <span ng-if="article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></div><h3 class="article-title">{{article.title}}</h3></div></a>'),a.put("/forbes/views/contributor/news/stream/b89de7a9.layout.html",'<div ng-controller="ContribStreamController"><ul class="common-stream articles edittools-stream"><li class="article" ng-repeat="article in stream_state.articles" ng-switch="article.type" data-et-cia-enabled="star" data-et-id="{{article.id}}" ng-class="{\'edittools-contentitem\':edit_tools}"><div ng-if="article.guestContributor && article.guestContributor.type === \'published\'" class="guest-contrib"><img ng-src="{{article.guestContributor.image}}"> <span>{{article.guestContributor.intro}}</span> <span><a href="{{article.guestContributor.url}}" target="_self">{{article.guestContributor.name}}</a></span></div><div ng-switch-when="blog"><div ng-include src="blog_template"></div></div><div ng-switch-when="blogslide"><div ng-include src="blog_template"></div></div><div ng-switch-when="calledout"><div ng-include src="calledout_template"></div></div><div ng-switch-when="headlinegrab"><div ng-include src="headlinegrab_template"></div></div><div ng-switch-when="magazine"><div ng-include src="magazine_template"></div></div><div ng-switch-when="slide"><div ng-include src="slide_template"></div></div><div ng-switch-when="video"><div ng-include src="video_template"></div></div><div ng-switch-default><div ng-include src="default_template"></div></div></li></ul><div class="load-more" ng-click="displayMore()" ng-show="stream_state.has_more"><div class="circle"></div><div class="arrow"><i class="icon icon-chevron-down"></i></div><div class="message">Show More</div></div></div>'),a.put("/forbes/views/contributor/news/stream/77d6f075.magazine.html",'<a class="article-link" ng-href="{{article.uri}}" target="_self" ng-class="{last:($index === stream_state.start-1)}"><div class="ratio-parent" ng-if="article.image"><div class="img-container"><img ng-src="{{article.image}}"></div></div><div class="article-stats">{{article.date | date:\'mediumDate\'}} <span ng-if="article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></div><h3 class="article-title">{{article.title}}</h3></a>'),a.put("/forbes/views/contributor/news/stream/9e1abcfa.slide.html",'<div class="article-link gallery" target="_self" ng-class="{last:($index === stream_state.display_count-1)}"><a ng-href="{{article.uri}}" target="_self"><div class="article-stats"><span class="article-type">Gallery</span> {{article.date | date:\'mediumDate\'}} <span ng-if="article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></div><h3 class="article-title">{{article.title}}</h3></a><ul class="slides"><li class="ratio-parent" ng-repeat="slide in article.slides | limitTo:6"><div class="img-container"><a ng-href="{{base_url}}{{slide.uri}}" target="_self"><img ng-src="{{slide.image}}"></a></div></li></ul></div>'),a.put("/forbes/views/contributor/news/stream/c8b453c4.video.html",'<a class="article-link video" ng-href="{{article.uri}}" target="_self" ng-class="{last:($index === stream_state.start-1)}"><div class="video-preview ratio-parent" ng-if="article.image"><div class="img-container"><img ng-src="{{article.image}}"> <span class="play-icon"><span class="triangle"></span></span></div></div><div class="article-stats">{{article.date | date:\'mediumDate\'}} <span ng-if="article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></div><h3 class="article-title">{{article.title}}</h3></a>'),a.put("/forbes/views/contributor/summary/6f977dab.layout.html",'<div ng-controller="ContribSummaryController"><div ng-if="is_mobile" class="mobile-bv-container clearfix"><div ng-if="author.authorType === \'ad\' || author.authorType === \'comm\' || author.authorType === \'marketplace\'" brand-voice-blurb="{{author.authorType}}"></div></div><div class="title-block"><div class="avatar-holder"><img ng-src="{{author.avatars.xlarge.image}}"></div></div><div class="content-block wide"><p ng-if="author.authorType !== \'ad\' && author.authorType !== \'comm\' && author.authorType !== \'partner\' && author.authorType !== \'marketplace\'" ng-switch="author.type"><span ng-switch-when="Under 30"><i class="icon icon-u30-logo"></i> Contributor</span> <span ng-switch-when="Forbes Staff">{{author.type}} <i class="icon icon-staff-verified"></i></span> <span ng-switch-default>{{author.type}}</span></p><p><span ng-if="author.authorType ===\'partner\'">Partner</span><div class="bv-container" ng-if="author.authorType === \'ad\' || author.authorType === \'comm\' || author.authorType === \'marketplace\'" brand-voice-blurb="{{author.authorType}}"></div><h3><span ng-if="author.authorType !== \'ad\'">{{author.name}}</span> <span ng-if="author.authorType === \'ad\'">{{author.advoiceBrand}}</span><span class="voice" ng-if="author.authorType === \'ad\'">Voice</span></h3></p><p class="short-bio" ng-if="author.blog">{{author.tagName}}</p><p class="short-bio" ng-if="!author.blog">{{author.shortBio}} <button ng-click="toggleLongBio()">Full Bio <span class="arrow">{{show_long_bio ? \'&laquo;\' : \'&raquo;\'}}</span></button></p><p class="long-bio" ng-if="!author.blog" ng-show="show_long_bio" ng-bind-html="getAuthorDescriptionHTML()"></p><div class="follow" mobile-tap-intercept ng-click="expandFollow($event);">FOLLOW<div class="networks" ng-class="{\'expanded\': expanded}" author="author" author-follow-links></div><span class="follow-close" ng-click="hideFollow($event);"><i class="icon icon-close"></i></span></div></div><input type="checkbox" id="show-menu" role="button"><div class="sub-blogs-list" ng-if="sub_blogs_list"><div class="list-hover"><ul class="subblogs"><li class="sub-blog" ng-class="{active: !sub_blogs_list.active_sub_blog}"><a ng-click="onClick(sub_blogs_list.home_page);" href>All</a></li><li class="sub-blog" ng-repeat="blog in sub_blogs_list.sub_blogs" ng-class="{active:sub_blogs_list.active_sub_blog === blog.subblog_id}"><a ng-click="onClick(blog.subblog_url);" href>{{blog.name}}</a></li></ul></div><i class="icon icon-chevron-down"></i></div></div>'),a.put("/forbes/views/contributor/topfeature/3e55e22b.layout.html",'<div class="stack contrib-top-feature clearfix" ng-controller="ContribTopFeatureController"><edit-tools data-type="grid"></edit-tools><ul class="articles grid-list layout-{{topfeature_content.data.length}} {{topfeature_content.panel}}"><li class="article item-{{$index}}" ng-repeat="article in topfeature_content.data" data-et-cia-enabled="star" data-et-id="{{article.id}}" ng-class="{\'edittools-contentitem\':(edit_tools && topfeature_content.panel !== \'contrib-image-feature\')}"><a ng-href="{{article.uri}}" target="_self" ng-if="!edit_tools"><div ng-if="topfeature_content.panel === \'contrib-image-feature\'" class="image-container ratio2x1" style="background-image: url({{article.image}}); filter: progid:DXImageTransform.Microsoft.AlphaImageLoader( src=\'{{article.image}}\', sizingMethod=\'scale\')" ng-class="{\'hide-background\':edit_tools}"></div></a> <span ng-if="edit_tools"><div ng-if="topfeature_content.panel === \'contrib-image-feature\'" class="image-container ratio2x1" style="background-image: url({{article.image}})" ng-class="{\'hide-background\':edit_tools}"><!-- Edittools only image --><a class="editable editable-img" href="javascript:void(0);"><img ng-src="{{article.image}}" class="grid-image"></a></div></span><p class="article-section"><span ng-if="article.type === \'headlinegrab\'" class="article-type headline-grab-block">Headline Grab</span> <span ng-if="article.type === \'calledout\'" class="article-type">Active Conversation</span> <span ng-if="article.type === \'slide\'" class="article-type">Gallery</span> <span ng-if="article.type === \'headlinegrab\'" class="article-source">{{article.source_domain}}</span> <span class="channel-section">{{article.channelSectionName}}</span> <span class="ago">{{article.date | date:\'mediumDate\' }}</span> <span class="views" ng-if="article.views && article.views !== \'...\' && article.views !== \'0\'">| {{article.views | number}} views</span></p><a class="article-link" ng-href="{{article.uri}}" target="_self" ng-if="!edit_tools"><h3 class="article-title" ng-bind-html="article.title"></h3></a><!-- Edittools only header --><h3 class="article-title editable editable-hed" ng-if="edit_tools"><a class="article-link" ng-href="{{article.uri}}" target="_blank" title="This link will open in a new window">{{article.title}}</a></h3><p class="article-body" ng-bind-html="article.description" ng-class="{ \'dek editable editable-dek\': edit_tools }"><a href="{{article.uri}}" target="_self"><span class="black">[...]</span> read &raquo;</a></p><div ng-if="article.guestContributor && article.guestContributor.type === \'published\'" class="guest-contrib"><img ng-src="{{article.guestContributor.image}}"> <span>{{article.guestContributor.intro}}</span> <span><a href="{{article.guestContributor.url}}" target="_self">{{article.guestContributor.name}}</a></span></div></li></ul></div>'),
a.put("/forbes/views/contributor/twitter/dae51620.layout.html",'<div class="twitter-block" ng-controller="ContribTwitterController"><div class="title-block-wide"><h2>@{{author.twitterName}}</h2></div><div class="twitter-embed-block draggable-block"><div class="twitter-profile" ng-if="author.forbesTwitterProfile.screenName"><a ng-href="https://twitter.com/{{author.forbesTwitterProfile.screenName}}" target="_blank"><img class="twitter-pic" ng-src="{{author.forbesTwitterProfile.profileImageUrl}}"></a><div class="twitter-info"><a ng-href="https://twitter.com/{{author.forbesTwitterProfile.screenName}}" target="_blank"><h2 class="twitter-name">{{author.forbesTwitterProfile.name}} <i ng-if="author.forbesTwitterProfile.verified" class="icon icon-twitter-verified"></i></h2><p class="twitter-handle">@{{author.forbesTwitterProfile.screenName}}</p></a><p class="twitter-description">{{author.forbesTwitterProfile.description}}</p><ul><li class="twitter-location"><i class="icon icon-location"></i>{{author.forbesTwitterProfile.location}}</li><li class="twitter-website"><a ng-href="{{author.forbesTwitterProfile.url}}" target="_blank"><i class="icon icon-link"></i>{{author.forbesTwitterProfile.displayUrl}}</a></li><li class="twitter-date"><i class="icon icon-clock"></i>Joined {{author.forbesTwitterProfile.createdDate}}</li></ul></div></div><a class="twitter-timeline" data-widget-id="{{widget_id}}" data-screen-name="{{author.twitterName}}" data-width="500" data-height="427" data-tweet-limit="{{tweet_limit}}" ng-href="https://twitter.com/{{author.twitterName}}" target="_blank">Tweets by @{{author.twitterName}}</a></div></div>'),a.put("/forbes/views/contributor/user/following/180e8a6f.comments.html",'<a href="http://blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)" ng-if="state==\'log-in\'"><div class="follow-text"><span ng-if="is_block_link">+ FOLLOW THE CONVERSATION</span><span ng-if="!is_block_link">+ FOLLOW COMMENTS</span></div></a><div ng-if="state==\'loading\'||state==\'loading-inflight\'" class="loader-wrapper anim"><div class="loader"></div></div><a href="http://blogs.forbes.com/account/login" class="unireg_follow" ng-if="state==\'to-follow\'" ng-click="handleClick($event)"><div class="follow-text"><span ng-if="is_block_link">+ FOLLOW THE CONVERSATION</span><span ng-if="!is_block_link">+ FOLLOW COMMENTS</span></div></a> <a href="http://blogs.forbes.com/account/login" class="unireg_unfollow {{follow_text}}" ng-if="state==\'following\'" ng-click="handleClick($event)" ng-mouseover="handleFollowTextChange($event,true)" ng-mouseout="handleFollowTextChange($event,false)"><div class="follow-text">{{follow_text}} COMMENTS</div></a>'),a.put("/forbes/views/contributor/user/following/87d8f3b7.following.html",'<div ng-include src="following_template_path"></div>'),a.put("/forbes/views/contributor/user/following/7ff0a8a2.link.html",'<a href="http://blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)" ng-if="log_in&&!(state==\'loading\'||state==\'loading-inflight\')"><span class="follow-hook">Follow on Forbes&nbsp;</span><div class="follow-count">{{follow_count}}</div></a> <a ng-if="state==\'loading\'||state==\'loading-inflight\'"><i class="icon icon-forbes-logo-f"></i><img src="http://i.forbesimg.com/assets/img/loading_spinners/16px_on_transparent.gif" alt="loading..."></a> <a href="http://blogs.forbes.com/account/login" class="unireg_follow" ng-if="state==\'to-follow\'&&!log_in" ng-click="handleClick($event)"><span class="follow-hook">Follow on Forbes&nbsp;</span><div class="follow-count">{{follow_count}}</div></a> <a href="http://blogs.forbes.com/account/login" class="unireg_unfollow {{follow_text}}" ng-if="state==\'following\'&&!log_in" ng-click="handleClick($event)" ng-mouseover="handleFollowTextChange($event,true)" ng-mouseout="handleFollowTextChange($event,false)"><span>{{follow_text}}&nbsp;</span><div class="follow-count">{{follow_count}}</div></a>'),a.put("/forbes/views/contributor/video/a230aa99.layout.html",'<div class="video-block" ng-controller="ContribVideoController"><div class="title-block-wide"><h2><span class="author" ng-if="author_type !== \'individual\'">{{author_name}}</span> Video</h2></div><div class="title-block"></div><div class="video-embed-block draggable-block"><div class="youtube-playlist video-list-block" ng-if="youtube"><iframe id="ytplayer" type="text/html" ng-src="{{youtube}}" frameborder="0"></iframe></div><div class="youtube-playlist video-list-block" ng-if="youtube_playlist"><iframe id="ytplayer-playlist" type="text/html" ng-src="{{youtube_playlist}}" frameborder="0"></iframe></div><div class="brightcove-playlist video-list-block" ng-if="brightcove"><div id="bright-cove-video" class="contrib-video" contrib-bright-cove-loader></div></div><div class="brightcove-playlist video-list-block" ng-if="brightcove_playlist"><div class="standalone-video" contrib-bright-cove-loader></div><div class="video-playlist"><ul class="video-items"><li class="video-item ratio16x9" ng-repeat="item in video_data.video_list | limitTo : 5" ng-click="changeVideo(item.videoId)" style="background-image: url({{item.image}});filter: progid:DXImageTransform.Microsoft.AlphaImageLoader( src=\'{{item.image}}\', sizingMethod=\'scale\')"><i class="icon icon-video"></i><h3 class="video-title">{{item.title}}</h3></li></ul></div></div></div></div>'),a.put("/forbes/views/contributor/video/4f81f0f8.videoplayer.html",'<div class="current-video" ng-bind-html="video_player"></div><h2 class="current-video-title">{{video_data.current_video.title}}</h2><p class="current-video-description" ng-bind-html="video_data.current_video.description | linky : \'_self\'"></p>'),a.put("/forbes/views/csf/csr/ads/b896adb9.csr_ads_edittools.html",'<div class="edit-tools-replacement"><div class="edit-tools-replacement-inner"></div></div>'),a.put("/forbes/views/csf/csr/ads/c67bde5b.csr_inbody_top_ad.html",'<div id="csr-body-leaderboard" csf-ad-unit="top" data-extra="row-{{$last ? $index : $index + 1}}"></div>'),a.put("/forbes/views/csf/csr/ads/d573bd29.csr_loge_ad.html",'<div id="csr-loge-rail-{{$index}}" class="csr-loge-rail" csf-ad-unit="loge" data-extra="row-{{$index}}"></div>'),a.put("/forbes/views/csf/csr/ads/fdef5a8a.csr_medianet_ad.html",'<div id="stream-medianet-{{row_index}}-{{$index}}" csf-ad-unit="moreon" data-extra="row-{{row_index}}"></div>'),a.put("/forbes/views/csf/csr/ads/32abb050.csr_rec_ad.html",'<div class="csr-sticky-solo-rec initial" id="csr-rec-row-{{$index}}" csf-ad-unit="rec" data-extra="row-{{$index}}"></div>'),a.put("/forbes/views/csf/csr/ads/48add893.csr_rec_rail.html",'<div id="csr-sticky-rec-{{$index}}" class="csr-sticky-rail-rec" csf-ad-unit="recx" data-extra="row-{{$index}}"></div>'),a.put("/forbes/views/csf/csr/7c51178a.galleryslide.html",'<div class="trending-item"><div class="trending-block"><div class="trending-title"><span>Trending Now</span> <i class="icon icon-chevron-right"></i></div></div></div><div class="trending-item" ng-repeat="item in promo_block.block_data.contentPositions | limitTo: is_mobile ? 5 : 10"><div class="trending-block"><article class="trending-article"><a ng-href="{{item.uri}}{{ss}}" target="_self"><div class="trending-bg-image" style="background-image:url({{item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{item.image}}, sizingMethod=scale)\'"></div></a><div class="trending-content"><h6 class="fs-h6 trending-rank"><span class="trending-rank-number">{{$index + 1}}</span> <span trending-reason block="item" class="trending-reason"></span></h6><a ng-href="{{item.uri}}{{ss}}" target="_self"><h2 class="fs-h2 trending-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h2></a><div author-byline author="item.display_author" ng-if="!promo_block.block_data.hideByline && item.display_author && item.display_author.name"></div><div class="csf-sharing csf-block-sharing csf-block-sharing-small clearfix" block="item" csf-sharing ng-if="promo_block.block_data.enableSharing && !row.csr_ads.render"></div></div></article></div></div>'),a.put("/forbes/views/csf/csr/header/2a297029.channel_share_bar.html",'<div class="title"><span class="channel-name">{{channel_name}}</span> <span class="section-name" ng-if="section_name">/ {{section_name}}</span></div><div csf-sharing class="page-header-sharing csf-sharing clearfix"></div><div class="desktop-spon-logo" ng-if="!is_mobile && is_csr && has_spon_logo"><div id="csr-spon-logo" csf-ad-unit="spon-logo" progressive="false"></div></div>'),a.put("/forbes/views/csf/csr/header/9f17c6a6.header.html",'<div class="csr-header initial header-nav-collapse" ng-controller="CsrHeaderController"><div ng-if="!is_mobile" class="header-ad" sticky-ad-unit="sticky_csr_top_ad_options"><div id="csr-header-leaderboard" csf-ad-unit="top" progressive="false"></div></div><div class="header-wrapper"><div class="header-utilities"><div class="header-share-toggle" ng-click="toggleHeaderSharing()"><i class="icon icon-share"></i><div class="csr-header-sharing csf-sharing clearfix" csf-sharing csr-header-share="true" ng-class="{\n						\'sharing-shown\' : show_header_sharing\n					}"></div></div><div class="header-search {{slim}}" header-search data-collapsed="collapsed"></div><ul class="utilities" ng-controller="CsrUtilityItemsController" ng-include="csr_utility_items"></ul></div><div csr-menu-icon class="menu-icon-button" ng-click="animateSideBar();"><i class="icon icon-hamburger"></i></div><div class="row-inner"><div class="logo-hover"><a href="http://www.forbes.com/" class="logo" target="_self"><i class="icon icon-forbes-logo"></i></a></div></div></div></div>'),a.put("/forbes/views/csf/csr/header/46bb31bd.utility.html",'<li ng-if="circ_link"><a class="circ-link" ng-href="{{circ_link.uri}}{{ss}}" class="ajaxify">{{circ_link.title}}</a></li><li ng-if="!user && initialized"><a href="http://blogs.forbes.com/account/login" class="ajaxify unireg_login" ng-click="displayForm($event)">LOG IN</a></li><li ng-if="!user && initialized"><a href="http://blogs.forbes.com/account/register" class="ajaxify unireg_register" ng-click="displayForm($event)">SIGN UP</a></li><li ng-if="user && initialized" class="user-thumbnail-li"><img ng-src="{{user.thumbnailURL}}" alt="" class="user-thumbnail-image" height="20" width="20"> <span class="logout-link"><a href="http://blogs.forbes.com/account">{{user.display_name}}</a></span></li><li ng-if="user && initialized"><a href="http://blogs.forbes.com/account/logout" class="ajaxify unireg_logout" ng-click="displayForm($event)">LOG OUT</a></li><li><a href="http://blogs.forbes.com/help">HELP</a></li>'),a.put("/forbes/views/csf/csr/613050ac.image_and_three_text_bottom.html",'<div class="fs-row-content fs-text-reset"><div class="fs-cols-wrapper clearfix"><div class="fs-cols-padded fs-col-1-1 csr-hero" ng-if="promo_block.block_data.contentPositions[0]"><a ng-href="{{promo_block.block_data.contentPositions[0].uri}}{{ss}}" target="_self"><div class="csr-hero-image ratio16x9" style="background-image:url({{promo_block.block_data.contentPositions[0].image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{promo_block.block_data.contentPositions[0].image}}, sizingMethod=scale)\'"><div class="gradient-overlay" ng-if="promo_block.block_data.gradientImage"></div></div></a><div class="csr-hero-content"><h6 ng-if="promo_block.block_data.contentPositions[0].eyebrows" class="fs-h6 csr-hero-tag">{{promo_block.block_data.contentPositions[0].eyebrows}}</h6><a ng-href="{{promo_block.block_data.contentPositions[0].uri}}{{ss}}" target="_self"><h2 class="fs-h2" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : promo_block.block_data.contentPositions[0].display_author.advoiceBrand" data-title="promo_block.block_data.contentPositions[0].title"></h2></a><div class="inherit-color" author-byline author="promo_block.block_data.contentPositions[0].display_author" ng-if="!promo_block.block_data.hideByline && promo_block.block_data.contentPositions[0].display_author && promo_block.block_data.contentPositions[0].display_author.name"></div><div ng-if="promo_block.block_data.enableSharing"><div csf-sharing block="promo_block.block_data.contentPositions[0]" class="csf-sharing csf-block-sharing clearfix"></div></div></div></div><div ng-if="promo_block.block_data.contentPositions.length > 1" class="fs-col-1-1 csr-article-grid"><ul class="related-articles clearfix"><li class="fs-col-3-1 related-article" ng-if="$index < 4 && !$first" ng-repeat="item in promo_block.block_data.contentPositions" ng-style="item.block_style"><a ng-href="{{item.uri}}{{ss}}" target="_self"><h3 class="fs-h3 related-article-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h3></a><div author-byline author="item.display_author" ng-if="!promo_block.block_data.hideByline && item.display_author && item.display_author.name"></div><div class="csf-sharing csf-block-sharing csf-block-sharing-small clearfix" block="item" csf-sharing ng-if="promo_block.block_data.enableSharing"></div></li></ul></div></div></div><div full-content-bleed></div>'),a.put("/forbes/views/csf/csr/53e7df19.image_and_three_text_top.html",'<div class="fs-row-content fs-text-reset"><div class="fs-cols-wrapper clearfix"><div ng-if="promo_block.block_data.contentPositions.length > 1" class="fs-col-1-1 csr-article-grid"><ul class="related-articles clearfix"><li class="fs-col-3-1 related-article" ng-if="$index < 3" ng-repeat="item in promo_block.block_data.contentPositions" ng-style="item.block_style"><a ng-href="{{item.uri}}{{ss}}" target="_self"><div class="related-article-image ratio16x9" style="background-image:url({{item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{item.image}}, sizingMethod=scale)\'"></div></a> <a ng-href="{{item.uri}}{{ss}}" target="_self"><h3 class="fs-h3 related-article-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h3></a><div author-byline author="item.display_author" ng-if="!promo_block.block_data.hideByline && item.display_author && item.display_author.name"></div><div ng-if="promo_block.block_data.enableSharing" csf-sharing block="item" class="csf-sharing csf-block-sharing csf-block-sharing-small clearfix"></div></li></ul></div><div class="fs-cols-padded fs-col-1-1 csr-hero" ng-if="promo_block.block_data.contentPositions[3]"><a ng-href="{{promo_block.block_data.contentPositions[3].uri}}" target="_self"><div class="csr-hero-image ratio16x9" style="background-image:url({{promo_block.block_data.contentPositions[3].image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{promo_block.block_data.contentPositions[3].image}}, sizingMethod=scale)\'"><div class="gradient-overlay" ng-if="promo_block.block_data.gradientImage"></div></div></a><div class="csr-hero-content"><h6 ng-if="promo_block.block_data.contentPositions[3].eyebrows" class="fs-h6 csr-hero-tag">{{promo_block.block_data.contentPositions[3].eyebrows}}</h6><a ng-href="{{promo_block.block_data.contentPositions[3].uri}}{{ss}}" target="_self"><h2 class="fs-h2" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : promo_block.block_data.contentPositions[3].display_author.advoiceBrand" data-title="promo_block.block_data.contentPositions[3].title"></h2></a><div class="inherit-color" author-byline author="promo_block.block_data.contentPositions[3].display_author" ng-if="!promo_block.block_data.hideByline && promo_block.block_data.contentPositions[3].display_author && promo_block.block_data.contentPositions[3].display_author.name"></div><div ng-if="promo_block.block_data.enableSharing"><div class="csf-sharing csf-block-sharing clearfix" block="promo_block.block_data.contentPositions[3]" csf-sharing></div></div></div></div></div></div><div full-content-bleed></div>'),a.put("/forbes/views/csf/csr/50050711.image_text_and_sharing.html",'<div class="fs-row-content fs-text-reset"><div class="fs-cols-wrapper clearfix"><div class="csr-hero" ng-class="{\'fs-col-3-2\': promo_block.block_data.contentPositions.length > 1}" ng-if="promo_block.block_data.contentPositions[0]"><a ng-href="{{promo_block.block_data.contentPositions[0].uri}}{{ss}}" target="_self"><div class="csr-hero-image" style="background-image:url({{promo_block.block_data.contentPositions[0].image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{promo_block.block_data.contentPositions[0].image}}, sizingMethod=scale)\'"><div class="gradient-overlay" ng-if="promo_block.block_data.gradientImage"></div></div></a><div class="csr-hero-content"><h6 ng-if="promo_block.block_data.contentPositions[0].eyebrows" class="fs-h6 csr-hero-tag">{{promo_block.block_data.contentPositions[0].eyebrows}}</h6><a ng-href="{{promo_block.block_data.contentPositions[0].uri}}{{ss}}" target="_self"><h2 class="fs-h2" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : promo_block.block_data.contentPositions[0].display_author.advoiceBrand" data-title="promo_block.block_data.contentPositions[0].title"></h2></a><div class="inherit-color" author-byline author="promo_block.block_data.contentPositions[0].display_author" ng-if="!promo_block.block_data.hideByline && promo_block.block_data.contentPositions[0].display_author && promo_block.block_data.contentPositions[0].display_author.name"></div><div ng-if="promo_block.block_data.enableSharing"><div class="csf-sharing csf-block-sharing clearfix" block="promo_block.block_data.contentPositions[0]" csf-sharing></div></div></div></div><div class="fs-col-3-1 csr-sidekick" sidekick-toggle ng-if="promo_block.block_data.contentPositions.length > 1" ng-class="{expanded: expanded}"><div ng-click="toggle()" class="sidekick-trigger"></div><div class="gradient-overlay-small" ng-if="promo_block.block_data.gradientImage"></div><ul class="related-articles clearfix"><li class="related-article" ng-class="{\'lead-article\': $index === 1}" ng-if="$index > 0" ng-repeat="item in promo_block.block_data.contentPositions"><a class="related-article-wrap" ng-href="{{item.uri}}{{ss}}" target="_self"><h3 class="fs-h3 related-article-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h3><div class="inherit-color" author-byline author="item.display_author" ng-if="!layout.row_data[promo_block.id].hideByline && item.display_author && item.display_author.name"></div><p ng-if="$index === 1" class="dek" ng-bind-html="item.description"></p></a></li></ul></div></div></div><div full-content-bleed></div>'),a.put("/forbes/views/csf/csr/67cc2034.side_panel.html",'<ul><li ng-repeat="block in promo_block.block_data.contentPositions track by $index"><div class="special-treatmeant-headline" ng-if="$index === 1"><a class="no-text-decoration csr-sidepanel-featured-headline" ng-href="{{promo_block.block_data.blockLink}}{{ss}}" target="_self">{{block.title}}</a><p class="csr-sidepanel-description">{{block.shortDescription}}</p></div><div ng-if="$index > 1" class="csr-sidepanel-article"><a class="no-text-decroation" target="_self" ng-href="{{block.uri}}{{ss}}" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : block.display_author.advoiceBrand" data-title="block.title"></a></div></li></ul>'),a.put("/forbes/views/csf/csr/sidebar/ff599712.sidebar.html",'<div class="list-wrapper"><ul class="csr-channels-list"><li class="csr-list-item first"></li><li class="csr-list-item" ng-class="{\'expanded\' : submenu_state[\'channels_\' + $index]}" ng-repeat="channel in channel_list"><div class="channel-header" ng-attr-data-track="channel-{{submenu_state[\'channels_\' + $index]?\'hide\' : \'reveal\'}}" ng-click="toggleSubmenu(\'channels_\' + $index);"><a ng-href="{{channel.uri}}{{ss}}" target="_self" data-track="channel-nav-header-link">{{channel.title}}</a> <i class="icon icon-chevron-right" ng-if="channel.contentPositions.length > 0" ng-attr-data-track="channel-{{submenu_state[\'channels_\' + $index]?\'hide\' : \'reveal\'}}"></i></div><ul class="subchannels-list"><li class="subchannel" ng-repeat="subchannel in channel.contentPositions" ng-if="subchannel.type === \'link\'"><a class="subchannel-link" target="_self" ng-href="{{subchannel.uri}}{{ss}}" ng-bind-html="subchannel.bv_title" ng-attr-data-track="channel-nav-link"></a></li></ul></li></ul></div>'),a.put("/forbes/views/csf/csr/9762f680.special_feature.html",'<h5 ng-if="promo_block.block_data.blockTitle" class="fs-h5" ng-style="promo_block.block_style"><span class="h5-text" ng-style="promo_block.block_style">{{promo_block.block_data.blockTitle}}</span></h5><div class="fs-cols-wrapper clearfix"><ul class="related-articles clearfix"><li class="related-article" ng-class="{\n				\'fs-col-3-1\': promo_block.block_data.contentPositions.length === 3,\n				\'fs-col-2-1\': promo_block.block_data.contentPositions.length === 2,\n				\'fs-col-1-1\': promo_block.block_data.contentPositions.length === 1\n			}" ng-repeat="item in promo_block.block_data.contentPositions" ng-style="item.block_style"><a ng-href="{{item.uri}}{{ss}}" target="_self"><div class="related-article-image ratio16x9" style="background-image:url({{item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{item.image}}, sizingMethod=scale)\'"></div></a> <a ng-href="{{item.uri}}{{ss}}" target="_self"><h3 class="fs-h3 related-article-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h3></a><div author-byline author="item.display_author" ng-if="!promo_block.block_data.hideByline && item.display_author && item.display_author.name"></div><p class="dek" ng-bind-html="item.description"></p><div class="csf-sharing csf-block-sharing csf-block-sharing-small clearfix" csf-sharing block="item" ng-if="promo_block.block_data.enableSharing"></div></li></ul></div>'),a.put("/forbes/views/csf/csr/stream/c9cf84aa.blog.html",'<h6 class="article-meta" ng-if="!item.magazine"><span class="article-type">New Post</span> <time class="article-time">{{item.display_date}}</time></h6><a class="fs-bg-image article-image ratio1x1" style="background-image:url({{item.image}})" target="_self" ng-href="{{item.uri}}{{ss}}" ng-if="item.image"><i ng-if="item.type === \'blogslide\'" class="icon icon-gallery"></i></a> <a ng-href="{{item.uri}}{{ss}}" target="_self"><h2 class="fs-h2 article-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h2></a><div author-byline author="item.display_author" ng-if="!promo_block.block_data.hideByline && item.display_author && item.display_author.name"></div><div class="article-date" ng-if="item.type === \'magazine\'">From the {{item.display_date}} issue</div><p class="fs-p article-description" ng-bind-html="item.description"></p><div csf-sharing block="item" class="csf-sharing csf-block-sharing csf-block-sharing-small clearfix"></div>'),a.put("/forbes/views/csf/csr/stream/527c2a70.layout.html",'<div ng-controller="CsrStreamController" class="csr-common-stream fs-text-reset"><h5 class="csr-common-stream-header">{{section_name || channel_name}} Now</h5><ul class="edittools-stream"><li class="stream-article et-promoblock-removeable-item et-promoblock-star-item" data-et-id="{{item.id}}" ng-repeat-start="item in promo_block.block_data.contentPositions" ng-switch="item.type"><!-- TODO - need to add html / styles for contrib, once added to API call --><div ng-switch-when="blog"><div ng-include src="csr_blog_template"></div></div><div ng-switch-when="blogslide"><div ng-include src="csr_blog_template"></div></div><div ng-switch-when="slide"><div ng-include src="csr_slide_template"></div></div><div ng-switch-when="magazine"><div ng-include src="csr_blog_template"></div></div><div ng-switch-when="video"><div ng-include src="csr_video_template"></div></div><!-- TODO - waiting for these types to be added to the API call\n\n			<div ng-switch-default>\n				<div ng-include src="csr_default_template"></div>\n			</div> --></li><li class="stream-article medianet-ad" ng-include src="layout_map.csr_medianet_ad" ng-if="($index - 3) % 10 === 0 && !is_mobile" ng-repeat-end></li></ul><button class="fs-button load-more-button" ng-click="loadMore()" ng-if="show_load_more"><div class="load-more-bg"></div>See More</button></div>'),a.put("/forbes/views/csf/csr/stream/5bae75cd.slide.html",'<h6 class="article-meta" ng-if="!item.magazine"><span class="article-type">New Post</span><!-- TODO - This should probably not always say new --> <time class="article-time">{{item.display_date}}</time></h6><a ng-href="{{item.uri}}{{ss}}" target="_self"><h2 class="fs-h2 article-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h2></a><ul class="article-slides clearfix"><li class="article-slide ratio1x1" ng-repeat="slide in item.slides | limitTo:5"><a ng-href="{{slide.uri}}{{ss}}" target="_self"><div class="fs-bg-image article-slide-image ratio1x1" style="background-image:url({{slide.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{slide.image}}, sizingMethod=scale)\'" target="_self" ng-if="slide.image" ng-href="{{base_url}}{{slide.uri}}{{ss}}"></div></a></li></ul><div csf-sharing block="item" class="csf-sharing csf-block-sharing csf-block-sharing-small clearfix"></div>'),a.put("/forbes/views/csf/csr/stream/1bacb449.video.html",'<h6 class="article-meta-right" ng-if="!item.magazine"><span class="article-type">Video</span> <time class="article-time">{{item.display_date}}</time></h6><a class="fs-bg-image article-video ratio16x9" style="background-image:url({{item.image}})" target="_self" ng-href="{{item.uri}}{{ss}}" ng-if="item.image"><i class="icon icon-video"></i></a> <a ng-href="{{item.uri}}{{ss}}" target="_self"><h2 class="fs-h2 article-headline-right" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h2></a><div author-byline author="item.display_author" ng-if="!promo_block.block_data.hideByline && item.display_author && item.display_author.name"></div><p class="fs-p article-description" ng-bind-html="item.description"></p><div csf-sharing block="item" class="csf-sharing csf-block-sharing csf-block-sharing-small clearfix"></div>'),a.put("/forbes/views/csf/csr/2e1a790b.text_and_sharing.html",'<div class="fs-row-content fs-text-reset ratio32x15"><div class="fs-cols-wrapper clearfix"><div class="csr-hero" ng-class="{\'fs-col-3-2\': promo_block.block_data.contentPositions.length > 1}" ng-if="promo_block.block_data.contentPositions[0]"><div class="csr-hero-content"><h6 ng-if="promo_block.block_data.contentPositions[0].eyebrows" class="fs-h6 csr-hero-tag">{{promo_block.block_data.contentPositions[0].eyebrows}}</h6><a ng-href="{{promo_block.block_data.contentPositions[0].uri}}{{ss}}" target="_self"><h2 class="fs-h2" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : promo_block.block_data.contentPositions[0].display_author.advoiceBrand" data-title="promo_block.block_data.contentPositions[0].title"></h2></a><div class="inherit-color" author-byline author="promo_block.block_data.contentPositions[0].display_author" ng-if="!promo_block.block_data.hideByline && promo_block.block_data.contentPositions[0].display_author && promo_block.block_data.contentPositions[0].display_author.name"></div><div ng-if="promo_block.block_data.enableSharing"><div class="csf-sharing csf-block-sharing clearfix" block="promo_block.block_data.contentPositions[0]" csf-sharing></div></div></div></div><div class="fs-col-3-1 csr-sidekick" sidekick-toggle ng-if="promo_block.block_data.contentPositions.length > 1" ng-class="{expanded: expanded}"><div ng-click="toggle()" class="sidekick-trigger"></div><ul class="related-articles clearfix"><li class="related-article" ng-class="{\'lead-article\': $index === 1}" ng-if="$index > 0" ng-repeat="item in promo_block.block_data.contentPositions"><a ng-href="{{item.uri}}{{ss}}" target="_self"><h3 class="fs-h3 related-article-headline" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : item.display_author.advoiceBrand" data-title="item.title"></h3><div class="inherit-color" author-byline author="item.display_author" ng-if="!layout.row_data[promo_block.id].hideByline && item.display_author && item.display_author.name"></div><p ng-if="$index === 1" class="dek" ng-bind-html="item.description"></p></a></li></ul></div></div></div><div full-bg-bleed></div>'),a.put("/forbes/views/csf/csr/65604fb0.trending_now.html",'<div class="fs-row-content fs-text-reset"><div class="fs-cols-wrapper csr-trending-now"><div csr-slick-carousel></div></div></div><div full-content-bleed></div>'),a.put("/forbes/views/csf/edittools/f719862e.link.html",'<div ng-if="visible"><a href ng-click="activateEditTools()" ng-if="activate_button" class="activate"><i class="icon icon-cog"></i></a> <a href ng-click="toggleEditToolsDisplay()" ng-if="toggle_button" class="toggle"><i class="icon icon-cog"></i></a></div>'),a.put("/forbes/views/csf/grid/214c25ac.ads.html",'<div id="{{promo_block.block_data.contentPositions[0].title}}-{{row_index}}-{{$index}}" csf-ad-unit="{{promo_block.block_data.contentPositions[0].title}}" class="csf-ads {{promo_block.block_data.contentPositions[0].title}}" data-extra="row-{{row_index}}"></div>'),a.put("/forbes/views/csf/grid/a59976b4.adsedittools.html",'<div id="{{promo_block.block_data.contentPositions[0].title}}-{{row_index}}-{{$index}}" class="csf-ads {{promo_block.block_data.contentPositions[0].title}} edit-tools-replacement"><div class="edit-tools-replacement-inner {{promo_block.block_data.contentPositions[0].title}}"></div></div>'),a.put("/forbes/views/csf/grid/5affa4cb.articlegrid.html",'<div class="article-block" ng-repeat="block in promo_block.block_data.contentPositions"><h4 class="eyebrow" ng-if="block.eyebrows">{{block.eyebrows}}</h4><a ng-href="{{block.uri}}{{ss}}" target="_self"><div class="ratio1x1 article-image" style="background-image:url({{block.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{block.image}}, sizingMethod=scale)\'"></div><div class="text" ng-if="block.title"><h3 class="hed" ng-bind-html="block.title"></h3></div></a></div>'),a.put("/forbes/views/csf/grid/3fc95c86.articleimagelayout.html",'<div class="csf-sub-block clearfix layout-{{promo_block.block_data.contentPositions.length}}" ng-repeat="block in promo_block.block_data.contentPositions" ng-style="block.block_style"><a ng-href="{{block.uri}}{{ss}}" target="_self" ng-if="block.image"><div class="block-image {{promo_block.block_data.aspect_ratio}}" style="background-image:url({{block.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{block.image}}, sizingMethod=scale)\'"></div></a><div class="text"><a ng-href="{{block.uri}}{{ss}}" target="_self"><h3 class="hed fs-h3" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : block.display_author.advoiceBrand" data-title="block.title"></h3></a><div class="dek"><p ng-bind-html="block.description"></p></div><div author-byline author="block.display_author" ng-if="!promo_block.block_data.hideByline && block.display_author && block.display_author.name"></div></div></div>'),a.put("/forbes/views/csf/grid/97a1fae1.articlelist.html",'<div class="topic-title" ng-if="promo_block.block_data.blockTitle"><a ng-href="{{promo_block.block_data.blockLink}}{{ss}}" target="_self">{{promo_block.block_data.blockTitle}}</a></div><ul><li ng-repeat="block in promo_block.block_data.contentPositions" class="item-{{$index}}"><a href="{{block.uri}}{{ss}}" target="_self"><h3 class="hed fs-h3" brandvoice-title="promo_block.block_data.removeBVPrepend ? \'\' : block.display_author.advoiceBrand" data-title="block.title"></h3></a><div author-byline author="block.display_author" ng-if="!promo_block.block_data.hideByline && block.display_author && block.display_author.name"></div></li></ul>'),a.put("/forbes/views/csf/grid/0f361f83.custom.html",'<div ng-bind-html="promo_block.block_data.contentPositions[0].description"></div>'),a.put("/forbes/views/csf/grid/ec1efc08.gallery.html",'<div class="carousel-feature csf-carousel-feature"><div class="csf-block" csf-slick-carousel="promo_block.block_data.contentPositions" data-autoplay="{{promo_block.block_data.autoscroll}}" enable-ads="{{promo_block.block_data.enableAds}}" remove-bv-prepend="promo_block.block_data.removeBVPrepend"></div></div>'),
a.put("/forbes/views/csf/grid/abb5133d.galleryslide.html",'<div ng-repeat="block in content_positions" ng-style="block.block_style"><a ng-href="{{block.uri ? block.uri + ss : \'\'}}" target="_self" class="clearfix"><div class="ratio16x9 carousel-image-wrapper"><!--\n			TODO - Remove once we have final approval (& css)\n			<div class="article-shares">{{article.shares}}</div>\n			--><div class="slide-wrapper" style="background-image:url({{block.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{block.image}}, sizingMethod=scale)\'"></div></div></a><div class="text" ng-if="block.title || block.description"><span class="bv_category hidden">{{block.channelSectionName}}</span> <a ng-href="{{block.uri ? block.uri + ss : \'\'}}" target="_self"><h3 class="hed fs-h3" brandvoice-title="removeBvPrepend ? \'\' : block.display_author.advoiceBrand" data-title="block.title"></h3></a><div class="dek"><p ng-bind-html="block.description"></p></div><div author-byline author="block.display_author" ng-if="!layout.row_data[promo_block.id].hideByline && block.display_author && block.display_author.name"></div></div></div>'),a.put("/forbes/views/csf/grid/0bea4089.overlay.html",'<div csf-overlay content="promo_block.block_data" blockstyle="promo_block.block_style"></div>'),a.put("/forbes/views/csf/grid/c0a5a589.overlaygrid.html",'<h2 class="title" ng-style="blockstyle">{{content.blockTitle}}</h2><ul class="overlay-list" ng-class="{\n		\'modal-open\': current_index !== -1\n	}"><li class="overlay-item" ng-class="{\n			activated: current_index === $index,\n			\'overlay-item-30-under-30\': block.overlay_type === \'30under30\'\n		}" ng-click="expandItem(block, $index)" ng-repeat="block in content.contentPositions"><div class="card-wrap"><div class="card-front"><div class="ratio1x1 item-image" style="background-image:url({{block.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{block.image}}, sizingMethod=scale)\'"></div><div class="overlay-item-info"><span class="name" ng-bind-html="block.title"></span><div class="sub-title" ng-if="block.slide_sub_title" ng-bind-html="block.sub_title"></div><div class="more-wrapper"><span class="more">more <span class="mobile"><i class="icon icon-chevron-right"></i></span></span></div></div></div><div class="card-back"></div></div></li></ul>'),a.put("/forbes/views/csf/grid/3f4a5ec4.overlayslide.html",'<div class="overlay-wrapper"><div class="overlay-slide" ng-class="{\'overlay-slide-30-under-30\': item.overlay_type === \'30under30\'}" ng-repeat="item in content" ng-swipe-left="nextSlide()" ng-swipe-right="previousSlide()"><div class="ratio1x1 avatar" style="background-image:url({{item.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{item.image}}, sizingMethod=scale)\'"><div class="inner-wrapper"><span class="inner-name" ng-bind-html="item.slide_title"></span><div class="inner-sub-title" ng-if="item.slide_sub_title" ng-bind-html="item.slide_sub_title"></div></div></div><div class="text"><div class="name" ng-bind-html="item.slide_title"></div><div class="sub-title" ng-if="item.slide_sub_title" ng-bind-html="item.slide_sub_title"></div><p class="description" ng-bind-html="item.description"></p><a class="full-profile" target="_self" ng-href="{{item.uri}}" ng-if="item.linkLabel && $root.is_mobile">{{item.linkLabel}}</a></div></div></div><a class="full-profile" target="_self" ng-href="{{current_item.uri}}{ss}}" ng-if="current_item.linkLabel && !$root.is_mobile">{{current_item.linkLabel}}</a>'),a.put("/forbes/views/csf/grid/text/47c9c936.description.html",'<div ng-repeat="block in promo_block.block_data.contentPositions">{{block.description}}</div>'),a.put("/forbes/views/csf/grid/text/db99d074.header.html",'<div ng-repeat="block in promo_block.block_data.contentPositions">{{block.title}}</div>'),a.put("/forbes/views/csf/grid/text/1203378a.orderedlist.html",'<ol><li class="item" ng-repeat="block in promo_block.block_data.contentPositions" ng-style="block.block_style">{{block.title}}</li></ol>'),a.put("/forbes/views/csf/grid/text/49fd8a66.quote.html",'<blockquote ng-repeat="block in promo_block.block_data.contentPositions" class="quote"><p ng-bind-html="block.description"></p><cite class="attribution">- {{block.byline}}</cite> <a class="source-title" ng-href="{{block.uri}}{{ss}}" target="_self">{{block.linkLabel}}</a></blockquote>'),a.put("/forbes/views/csf/grid/text/9ddea28b.unorderedlist.html",'<ul><li class="item" ng-repeat="block in promo_block.block_data.contentPositions">{{block.title}}</li></ul>'),a.put("/forbes/views/csf/grid/12d39de5.video.html",'<div class="video-block-entry" ng-repeat="block in promo_block.block_data.contentPositions" ng-controller="CsfVideoController"><div class="video-wrapper"><div class="video-thumb ratio16x9 block-image" style="background-image:url({{block.image}}); -ms-filter: \'progid:DXImageTransform.Microsoft.AlphaImageLoader(src={{block.image}}, sizingMethod=scale)\'" ng-click="initVideo()" ng-if="!video"><i class="icon icon-video"></i></div><div class="video-container ratio16x9" ng-if="video" ng-bind-html="video"></div></div><h3 class="hed">{{block.title}}</h3></div>'),a.put("/forbes/views/csf/header/4ab71de4.csf_header.html",'<header class="collapsed-header visible csf-header"><div class="header-nav-collapsed clearfix"><div class="row-inner"><!-- Header Logo --><a href="http://www.forbes.com/" class="logo csf-header-logo" target="_self"><i class="icon icon-forbes-logo"></i></a><div class="csf-menu"><!-- Nav menu toggle --><div class="csf-menu-toggle" ng-mouseenter="toggleMenu()" ng-mouseleave="toggleMenu()" ng-click="toggleMenuClick()" ng-if="!csf_menu_cta_class"><span class="csf-menu-toggle-txt">Jump To Section</span> <i class="icon icon-chevron-down"></i></div><!-- Nav menu --><div class="csf-header-menu {{csf_menu_class}}" ng-mouseenter="toggleMenu(\'over-menu\')" ng-mouseleave="toggleMenu(\'over-out\')"><ul><li ng-repeat="item in menu_items.rows.contentPositions" ng-if="item.title"><a href ng-click="scrollToSection($index);">{{item.title}}</a></li></ul></div></div></div><div csf-sharing class="csf-sharing clearfix" data-track="header"></div><div class="header-sponsor" sponsor-logo="head"></div></div></header><div class="advoice-desc initialized" ng-if="brandvoice_header"><div class="badge"><span class="advoice"><span class="brandvoice">Forbes</span>Brand<i>Voice</i></span></div><div class="description">Connecting marketers to the Forbes audience. <a href="" ng-click="toggleBrandVoiceDek();">What is this?</a></div><div class="description-expanded" style="display:none"><div class="arrow"></div><div class="advoice-close-btn" ng-click="toggleBrandVoiceDek();"></div><p>Forbes <span>BrandVoice</span>™ allows marketers to connect directly with the Forbes audience by enabling them to create content – and participate in the conversation – on the Forbes digital publishing platform. Each <span>BrandVoice</span>™ is produced by the marketer. <a target="_self" href="http://www.brandvoice.com">More on <span>BrandVoice</span>™ here</a>, or email us directly at <a href="mailto:brandvoice@forbes.com" title="Email BrandVoice">brandvoice@forbes.com</a>.</p><p>Opinions expressed by Forbes <span>BrandVoice</span>™ Contributors are their own.</p><p></p></div></div>'),a.put("/forbes/views/csf/header/feaeb07b.sponsorlogo.html",'<div ng-show="visible" ng-if="!is_csr && ads_initialized && ad_requested && has_spon_logo" class="sponsor-logo"><div id="land-logo-{{page_location}}" csf-ad-unit="land-logo" class="csf-ads anim" data-extra="row-0"></div></div>'),a.put("/forbes/views/csf/c8a5bdfc.index.html",'<!-- Edit tools link --><div class="csf-edit-tools-header" csf-edit-tools-link></div><div fbs-modal></div><div class="layout clearfix" user-login-check fbs-track="fastpixel,comscore,moat,reach,ga"><div class="left-section csr-sidebar" ng-controller="CsrSidebarController" ng-class="visible" ng-include src="csr_sidebar_template" ng-if="is_csr"></div><div class="right-section page-wrapper"><!--Header controlled by CsfHeaderController --><div ng-controller="CsfHeaderController" ng-include="header_template"></div><div class="csf-layout" csf-ad-rail fbs-track="fastpixel,comscore,moat,reach,ga"><!-- Main Content --><div id="csf-main-content" ng-view="" class="clearfix"></div><!-- Footer Section --><footer class="row clearfix csf-footer"><div class="row-inner"><div class="footer-logo"><a href="/" target="_self" class="logo logo-footer"><i class="icon icon-forbes-logo"></i></a> <span class="copy">{{footer_year}} Forbes.com LLC<sup>TM</sup> All Rights Reserved</span></div><div class="footer-links-wrapper"><ul class="footer-links"><li class="desk"><a href="http://preferences-mgr.truste.com/?pid=forbes01" target="_blank">AdChoices</a></li><li class="mob"><a href="http://preferences-mgr.truste.com/?pid=forbes01&aid=forbes_mobile01" target="_blank">AdChoices</a></li><li><a href="http://www.forbes.com/fdc/privacy.html" target="_self">Privacy Statement</a></li><li><a href="http://www.forbes.com/terms" target="_self">Terms and Conditions</a></li><li><a href="http://blogs.forbes.com/help/">Help</a></li><li><a href="http://www.forbes.com/fdc/contact.html" target="_self">Contact Us</a></li><li><a href="http://www.forbes.com/sites/careers-at-forbes/" target="_self">Jobs At Forbes</a></li><li><a href="http://forbesreprints.magreprints.com/">Reprints & Permissions</a></li><li><a href="http://www.forbes.com/sites/forbespr/" target="_self">Forbes Press Room</a></li><li><a href="http://www.forbesmedia.com/">Advertise</a></li></ul></div></div></footer></div></div></div><div class="sticky-ad-container" ng-if="is_mobile"><ad id="leaderboard" csf-ad-unit="mobile" class="ad mobile-sticky-ad" ng-if="channel_ready" progressive="false"></ad></div><csf-edit-tools></csf-edit-tools>'),a.put("/forbes/views/csf/page/ffc22e72.layout.html",'<div class="page-header-wrapper" ng-if="is_csr"><div class="csr-page-header clearfix" csr-channel-share-bar></div></div><div ng-controller="CsfLayoutController" class="clearfix et-promoblock" data-et-context="context" ng-attr-data-et-location="{{layout.location}}"><section id="row-{{$index}}" class="csf-row clearfix et-rows {{row.row_class}} {{anim}}" ng-class="csr_page_type ? \'csr-\' + csr_page_type + \'-row\' : \'\'" ng-init="row_index = $index" ng-repeat-start="row in layout.rows.contentPositions" ng-style="row.row_style"><button type="button" class="edit-btn" data-edit-row="{{$index}}" ng-click="scrollToEdit($event)"><i class="icon icon-edit"></i>EDIT</button><div class="gradient-overlay" ng-if="row.gradientImage"></div><div ng-class="{\'has-csr-ad\': row.csr_ad_position}"><ul class="promo-block-list csf-row-list clearfix" ng-class="{\'csf-mobile-row\': is_mobile}"><li class="csf-column {{promo_block.template.class_name}}" ng-class="promo_block.block_class" ng-style="promo_block.block_style" ng-repeat="promo_block in row.contentPositions"><div class="csf-block clearfix" ng-include src="promo_block.template.template"></div></li></ul><div class="csr-solo-rec sticky-ad" sticky-ad-unit="sticky_solo_rec_options" ng-if="row.csr_ad_position && row.csr_ad_position === 1" ng-include src="layout_map.csr_rec_ad"></div><div class="csr-double-rec sticky-ad" ng-if="row.csr_ad_position && row.csr_ad_position === 2"><div class="csr-rec-rail" sticky-ad-unit="sticky_ad_rail_options" ng-include src="layout_map.csr_rec_rail_ad"></div><div class="csr-loge" ng-if="!portrait_breakpoint" ng-include src="layout_map.csr_loge_ad"></div></div></div><div ng-if="$first" class="mobile-sponsor" sponsor-logo="row"></div><div ng-if="$first && is_mobile && is_csr" class="csr-mobile-spon-logo"><div id="mobile-spon-logo" csf-ad-unit="spon-logo" progressive="false"></div></div></section><section class="csf-row clearfix" ng-class="csr_page_type ? \'csr-\' + csr_page_type + \'-row\' : \'\'" ng-if="!is_mobile && ($index === 1 && csr_page_type === \'section\' || $index === 2 && csr_page_type === \'channel\')" ng-repeat-end><div class="csr-inbody-top-ad" ng-include src="layout_map.csr_inbody_top_ad"></div></section></div>'),a.put("/forbes/views/csf/sharing/3b668676.sharing.html",'<ul class="csf-sharing-list" ng-class="{\'hide-icons\': hide_icons }"><li class="fs-icon-share expandable"><button class="button" ng-click="toggleIcons()"><i class="icon icon-share"></i></button></li><li class="facebook expandable"><button class="button" ng-click="postFacebook()" ng-attr-data-track="{{track}}-facebook"><i class="icon icon-facebook" ng-attr-data-track="{{track}}-facebook"></i></button></li><li class="twitter expandable"><button class="button" ng-click="postTwitter()" ng-attr-data-track="{{track}}-twitter"><i class="icon icon-twitter" ng-attr-data-track="{{track}}-twitter"></i></button></li><li class="google expandable"><button class="button" ng-click="postGoogle()" ng-attr-data-track="{{track}}-google"><i class="icon icon-google" ng-attr-data-track="{{track}}-google"></i></button></li><li class="linkedin expandable"><button class="button" ng-click="postLinkedin()" ng-attr-data-track="{{track}}-linkedin"><i class="icon icon-linkedin" ng-attr-data-track="{{track}}-linkedin"></i></button></li><li class="mobile email"><button class="button"><a ng-href="mailto:?{{mailto_query}}" ng-attr-data-track="{{track}}-email"><i class="icon icon-email" ng-attr-data-track="{{track}}-email"></i></a></button></li><li class="desktop email"><button class="button" ng-click="postEmail()" ng-attr-data-track="{{track}}-email"><i class="icon icon-email" ng-attr-data-track="{{track}}-email"></i></button></li></ul>'),a.put("/forbes/views/shared/author/94059897.authorbyline.html",'<cite class="entity-block"><a ng-href="{{author.url}}{{ss}}" target="_self" class="avatar"><img ng-src="{{author.avatars.small.image}}" alt="{{author.name}}"></a> <span class="name-desc"><a ng-href="{{author.url}}{{ss}}" target="_self" class="user">{{author.name}}</a>, <span ng-if="author.authorType === \'comm\'">{{author.type}}</span> <span ng-if="author.type === \'Forbes Staff\'">{{author.type}} <i class="icon icon-staff-verified"></i></span> <span ng-if="author.type === \'Under 30\'"><i class="icon icon-u30-logo"></i> Contributor</span> <span ng-if="author.authorType !== \'comm\' && author.type !== \'Under 30\' && author.type !== \'Forbes Staff\'">{{author.advoiceBrand || author.type}}</span></span></cite>'),a.put("/forbes/views/shared/author/2da72237.authorfollowlinks.html",'<ul><li follow-link class="following-container follow-forbes" data-entity-id="{{author.naturalId}}" data-entity-type="{{follow_type}}" data-display-advoice-brand="{{author.advoiceBrand}}"></li><li ng-if="author.facebookName"><a ng-href="https://www.facebook.com/{{author.facebookName}}" target="_blank" data-track="contributor-facebook-link-click"><i class="icon icon-facebook"></i> <span class="label">Facebook</span></a></li><li ng-if="author.facebookPage"><a ng-href="{{author.facebookPage}}" target="_blank" data-track="contributor-facebook-page-link-click"><i class="icon icon-facebook"></i> <span class="label">Facebook</span></a></li><li ng-if="author.twitterName"><a ng-href="https://twitter.com/{{author.twitterName}}" target="_blank" data-track="contributor-twitter-link-click"><i class="icon icon-twitter"></i> <span class="label">Twitter</span></a></li><li ng-if="author.linkedIn"><a ng-href="{{author.linkedIn}}" target="_blank" data-track="contributor-linkedin-link-click"><i class="icon icon-linkedin"></i> <span class="label">LinkedIn</span></a></li><li ng-if="author.instagramHandle"><a ng-href="http://instagram.com/{{author.instagramHandle}}" target="_blank" data-track="contributor-instagram-link-click"><i class="icon icon-instagram"></i> <span class="label">Instagram</span></a></li><li><a ng-href="{{base_url}}/sites/{{author.slug}}/feed/" target="_blank" data-track="contributor-rss-link-click"><i class="icon icon-rss-feed"></i> <span class="label">RSS</span></a></li><li ng-if="author.webSite"><a ng-href="{{author.webSite}}" target="_blank" data-track="contributor-website-link-click"><i class="icon icon-home"></i> <span class="label">Website</span></a></li><li ng-if="author.googlePlus"><a ng-href="https://plus.google.com/{{author.googlePlus}}/posts" target="_blank" data-track="contributor-gplus-link-click"><i class="icon icon-google"></i> <span class="label">Google +</span></a></li><li ng-if="author.amazon"><a ng-href="{{author.amazon}}" data-track="contributor-amazon-link-click" target="_blank"><i class="icon icon-book"></i> <span class="label">Amazon</span></a></li><li class="email" ng-if="author.email"><a target="_self" data-track="contributor-email-link-click" class="ajaxify" ng-class="unireg_class" ng-click="initialized?displayForm($event):hideForm()"><i class="icon icon-email"></i> <span class="label">Email</span></a></li></ul>'),a.put("/forbes/views/shared/brandvoice/90a30446.blurblayout.html",'<div ng-include src="blurb_template"></div>'),a.put("/forbes/views/shared/brandvoice/a043e59d.brandvoiceblurb.html",'<div class="brand-voice-blurb"><p class="brandvoice-logo"><i class="icon icon-forbes-logo"></i><i class="icon icon-brandvoice-logo"></i></p><p class="brandvoice-tag"><span class="tag">Connecting marketers to the Forbes audience.</span><span class="what-is-this" ng-click="toggleBrandvoiceBlurb()">What is this?</span></p></div><div class="brandvoice-explained" ng-show="show_brandvoice_blurb"><div class="arrow"></div><button class="close-button" ng-click="toggleBrandvoiceBlurb()"><div class="circle"></div><i class="icon icon-close"></i></button><p>Forbes <i class="icon icon-brandvoice-logo"></i> allows marketers to connect directly with the Forbes audience by enabling them to create content – and participate in the conversation – on the Forbes digital publishing platform. Each <i class="icon icon-brandvoice-logo"></i> is produced by the marketer. <a href="http://www.brandvoice.com">More on <i class="icon icon-brandvoice-logo"></i> here</a>, or contact us at <a href="http://brandvoice.com/contact/">brandvoice.com</a>.</p><p>Opinions expressed by Forbes <i class="icon icon-brandvoice-logo"></i> Contributors are their own.</p></div>'),a.put("/forbes/views/shared/brandvoice/ba3d449d.brandvoicetitle.html",'<span ng-if="brandvoiceTitle ===\'Community\'" class="community-voice-name" ng-bind-html="title"></span> <span ng-if="brandvoiceTitle && brandvoiceTitle !==\'Community\'" class="brand-voice-name"><span class="name">{{brandvoiceTitle}}</span><span ng-bind-html="title"></span></span> <span ng-if="!brandvoiceTitle" ng-bind-html="title"></span>'),a.put("/forbes/views/shared/brandvoice/51320f51.communityvoiceblurb.html",'<div class="brand-voice-blurb"><p class="forbes-community-voice-logo"><i class="icon icon-forbes-logo"></i><span class="community-voice-logo">CommunityVoice<sup>&trade;</sup></span></p><p class="community-voice-tag"><span class="tag">Connecting expert communities to the Forbes audience.</span><span class="what-is-this" ng-click="toggleBrandvoiceBlurb()">What is this?</span></p></div><div class="brandvoice-explained" ng-show="show_brandvoice_blurb"><div class="arrow"></div><button class="close-button" ng-click="toggleBrandvoiceBlurb()"><div class="circle"></div><i class="icon icon-close"></i></button><p>Forbes <span class="community-voice-logo">CommunityVoice<sup>&trade;</sup></span> allows professional fee-based membership groups ("communities") to connect directly with the Forbes audience by enabling them to create content – and participate in the conversation – on the Forbes digital publishing platform. Each topic-based <span class="community-voice-logo">CommunityVoice<sup>&trade;</sup></span> is produced and managed by the group.</p><p>Opinions expressed within Forbes <span class="community-voice-logo">CommunityVoice<sup>&trade;</sup></span> are those of the participating individuals.</p></div>'),a.put("/forbes/views/shared/brandvoice/304a6621.marketplaceblurb.html",'<div class="brand-voice-blurb"><p class="forbes-marketplace-logo"><i class="icon icon-forbes-logo"></i> <span class="marketplace-logo">Marketing<span class="marketplace-comma">,</span></span></p><p class="marketplace-tag"><span class="tag">detailed information on Forbes products.</span><span class="what-is-this" ng-click="toggleBrandvoiceBlurb()">What is This?</span></p></div><div class="brandvoice-explained" ng-show="show_brandvoice_blurb"><div class="arrow"></div><button class="close-button" ng-click="toggleBrandvoiceBlurb()"><div class="circle"></div><i class="icon icon-close"></i></button><p>This is the place to find detailed information about the many products and services Forbes has to offer. We\'ll give you the inside scoop including how to order, join, participate, and buy. From subscriptions and books to conferences and business school, wine and travel, TV and technology -- It\'s all featured in the Forbes Marketplace.</p></div>'),a.put("/forbes/views/shared/modal/1b32b0a9.fbsmodal.html",'<div class="modal-overlay" ng-click="hideModal(&quot;overlay&quot;)"></div><div class="modal-dialog"><div class="modal-close" ng-click="hideModal()"><i class="icon icon-close"></i></div><div class="modal-dialog-content"></div></div>')}]);