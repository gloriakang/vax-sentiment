GMData=window.GMData||{},GMData.version="10.23.1",GMData.protocol=document.location.protocol,GMData.env=function(){function a(a){return c[a]}var b='{"log_level":"info","player_debug":false,"player_benchmarking":false,"root_url":"//adg.bzgint.com/pub/adg/","collector_url":"//gmpx.bzgint.com/collectorx/","banner_url":"http://adg.bzgint.com/pub/adg/banner.js","adg_file":"adg.js","config_file":"config.js","banner_file":"gmbanner.js","data":"data.js","banner":"build/gmbanner.js","player":"player.swf","express":"expressInstall.swf","template":"templateVars/","style_files":"style_files/","data_url":"//adg.bzgint.com/pub/adg/data.js","esearch_host":"http://rtd.elasticsearch.genesismedia.com","cookie_service":"http://php.genesismedia.com/cookie/cookie.php","geolocation":"http://telize.genesismedia.com/geoip","replacement_script":"http://php.genesismedia.com/banner/domain.php","dynamic_skip_whitelist":["www.dallasnews.com"],"img_asset_path":"http://adg.bzgint.com/pub/adg/img/"}',c={};try{c=JSON.parse(b)}catch(d){console.log("[GMData] - Can not parse env json")}return{get:a}}(),GMData.log_level=GMData.env.get("log_level"),GMData.root_url=GMData.protocol+GMData.env.get("root_url"),GMData.adg_file=GMData.root_url+GMData.env.get("adg_file"),GMData.banner_file=GMData.root_url+GMData.env.get("banner_file"),GMData.data_url=GMData.protocol+GMData.env.get("data_url"),GMData.banner_url=GMData.env.get("banner_url"),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=this,c=0;c<b.length;c++)if(a===b[c])return c;return-1}),GMData.ADGInterface=function(){function a(a){if(!r){var b=[];for(r=!0,l=new GMData.Event("adg"),k=a,"undefined"!=typeof ADG&&ADG.API&&(b=ADG.API.listen(GMData.ADGInterface.eventsCB,n),ADG.API.listen(GMData.VendorAdapter.onVideoStart,"adVideoStart"),ADG.API.listen(GMData.VendorAdapter.onAdStart,"adStarted"),ADG.API.listen(GMData.HIDHandler.startAdTracking,"pageLocked"),ADG.API.listen(GMData.FrequencyCookieHandler.increaseUserFrequency,"playerFullyVisible"),ADG.API.listen(GMData.HIDHandler.endAdTracking,"adStopped"),ADG.API.listen(GMData.HIDHandler.endAdTracking,"adSkipped")),l.fireEvent("TAG_LOADED"),i=0;i<b.length;i++)q.push(b[i]);0!==q.length&&f()}}function b(a){a&&a.event&&(e(a),GMData.MoatInterface.eventsCB(a))}function c(a){return k[a]}function d(){var a;if(!m&&(a=k.pub_custom_params,a.length>0)){m={};for(var b=0;b<a.length;b++)m[a[b].name]=a[b].value}return m}function e(a){var b,c={};if(o[a.event])if(0!==q.length)q.push(a),f();else{for(b in p)p.hasOwnProperty(b)&&"undefined"!=typeof a[b]&&(c[p[b]]=a[b]);l.fireEvent(o[a.event],c)}}function f(){var a,b,c,d={};for(a=0;0!==q.length;a++){if(b=q[0],b&&b.event&&(GMData.Logger.debug("[ADGInterface]- [fireOldEvents] - Old Events : "+b.event),o[b.event])){for(c in p)p.hasOwnProperty(c)&&"undefined"!=typeof b[c]&&(d[p[c]]=b[c]);l.fireEvent(o[b.event],d)}q.splice(0,1)}}function g(){return"undefined"!=typeof ADG}function h(){return GMData.Timer.getTimeAfterLoad()}function j(){return"undefined"!=typeof ADG?ADG.Skip.get("calculatedSkipTime"):""}var k,l,m,n=["freeViewAllowed","adOpportunity","retailDataError","adRequest","innerAdLoadFailure","adResponseSuccess","invalidConfig","adResponseReceived","adResponseFailed","uiLoaded","uiLoadFailure","passbackSent","hover","userInteractionStart","adSkipped","skipActive","closeClicked","closeActive","skipDispatched","pageAbandoned","retailAdLoadReady","adClickThrough","adStarted","adVideoStart","eligibleAdPlayback","eligibleAdStart","adStopped","pageLocked","pageUnlocked","adVideoFirstQuartile","adVideoMidpoint","adVideoThirdQuartile","retailAdError","muteClicked","dataReady","adVideoComplete","playerFullyVisible"],o={adOpportunity:"AD_OPPORTUNITY",retailAdLoadReady:"AD_LOADED",retailDataError:"AD_LOAD_FAILURE",pageLocked:"UNIT_DISPLAYED",closeActive:"CLOSE_ACTIVE",closeClicked:"CLOSE_CLICKED",adRequest:"AD_REQUEST",innerAdLoadFailure:"AD_LOAD_FAILURE",adResponseSuccess:"AD_RESPONSE_RECEIVED",adResponseFailed:"NO_AD_RESPONSE",userInteractionStart:"CLICK_TO_PLAY",adStarted:"AD_START",adVideoStart:"AD_VIDEO_START",eligibleAdPlayback:"ELIGIBLE_AD_PLAYBACK",eligibleAdStart:"ELIGIBLE_AD_START",adVideoFirstQuartile:"AD_FIRST_QUARTILE",adVideoMidpoint:"AD_SECOND_QUARTILE",adVideoThirdQuartile:"AD_THIRD_QUARTILE",adVideoComplete:"AD_COMPLETE",adStopped:"AD_STOPPED",skipDispatched:"SKIP_DISPATCHED",adSkipped:"SKIP",skipActive:"SKIP_ENABLED",retailAdError:"AD_LOAD_FAILURE",pageUnlocked:"UNIT_CLOSED",uiLoaded:"UI_LOADED",uiLoadFailure:"UI_LOAD_FAILURE",freeViewAllowed:"FREE_VIEW_ALLOWED",adClickThrough:"AD_CLICK_THROUGH",pageAbandoned:"ABANDON",hover:"HOVER_ON_PLAYER",passbackSent:"PASSBACK_SENT",muteClicked:"MUTE_CLICKED"},p={reason:"fvr",adFailureReason:"afr",visibleDuration:"vd",playbackDuration:"pd",adId:"aid",calculatedSkipTime:"sket",bannerId:"bnid",adExchange:"adx",muteState:"ms",insertionId:"inid",creativeId:"crid",campaignId:"campid",pageId:"pgid",advertiserId:"advid",sequenceId:"seqid",timeToFail:"ttf",timeToLoad:"ttl"},q=[],r=!1;return{init:a,eventsCB:b,get:c,getPubCustomParams:d,isADGOnPage:g,getTimeSincePageLoaded:h,getCalculatedSkipTime:j}}(),GMData.ADGInvoker=function(){function a(){GMData.Logger.info("[ADGInvoker] Adding GMBanner script using iframe mode");for(var a=document.getElementsByTagName("iframe"),b=0;b<a.length;b++){var c={pageLoadedAt:GMData.Timer.getLoadedTime().getTime(),system:"GMData"};"undefined"!=typeof a[b].contentWindow&&a[b].contentWindow.postMessage(JSON.stringify(c),"*")}}function b(a){h=a,GMData.Logger.info("[ADGInvoker] Adding GMBanner script to the page");var b=document.createElement("script");j=!1,b.src=GMData.banner_url,b.onload=b.onreadystatechange=function(){j||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(j=!0,h.pageLoadedAt=new Date(GMData.Timer.getLoadedTime().getTime()),GMBanner.Smart.setProperties(h),GMBanner.Smart.start(a))};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}function c(c){var d=c.data||c;if("string"==typeof d)try{d=JSON.parse(d)}catch(f){return}return"adg"!==d.system?void("GMBanner"===d.system&&(d.hasOwnProperty("mode")&&0===Number(d.mode)?b(d):a())):(GMData.ADGInvoker.setAdTag(d.mode),"undefined"!=typeof window[i.namespace]?void GMData.Logger.info("[ADGInvoker] ADG Present on the page. Nothing to do here"):(g=d,void e()))}function d(){"undefined"!=typeof window[i.namespace]&&window[i.namespace].API&&(GMData.Logger.info("[ADGInvoker] Invoking ADG script"),window[i.namespace].API.invoke(g))}function e(){GMData.Logger.info("[ADGInvoker] Adding ADG script to the page");var a=document.createElement("script"),b=!1;a.src=i.url,a.onload=a.onreadystatechange=function(){b||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(b=!0,GMData.ADGInvoker.invoke())};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)}function f(a){i="display"===a?{display:!0,namespace:"GMBanner",url:GMData.banner_file}:{video:!0,namespace:"ADG",url:GMData.adg_file}}var g,h,i,j=!1;return{messageCallback:c,invoke:d,setAdTag:f}}(),GMData.Audience=function(){function a(a){h=a,GMData.Logger.info("[Audience] Loaded"),GMData.Logger.debug(a),f=new GMData.Event("page"),k=!0,c()}function b(){GMData.Utils.addJS(g)}function c(){GMData.UserData.get("user_id")&&!j&&k&&(l&&void 0!==h.Profile.Audiences&&(h.Profile.Audiences.Audience=[]),(h.Profile.Audiences.ThirdPartyAudience||h.Profile.Audiences.Audience)&&f.fireEvent("AUDIENCE_LOADED",{aud:d(h.Profile.Audiences)}),j=!0)}function d(a){var b="";for(var c in a){var d=a[c];for(i=0;i<d.length;i++)b+=d[i].id+"|"}return b=b.substring(0,b.length-1)}function e(a){l=a}var f,g=GMData.protocol+"//ad.crwdcntrl.net/5/c=1890/pe=y/callback=GMData.Audience.audCallback",h={},j=!1,k=!1,l=!1;return{audCallback:a,load:b,fireAudienceLoaded:c,setOptOutState:e}}(),GMData.BannerInterface=function(){function a(a){if(!p){var b=[];for(p=!0,j=new GMData.Event("banner"),h=a,"undefined"!=typeof GMBanner&&GMBanner.API&&(b=GMBanner.API.listen(GMData.BannerInterface.eventsCB,l)),j.fireEvent("TAG_LOADED"),i=0;i<b.length;i++)o.push(b[i]);0!==o.length&&f()}}function b(a){a&&a.event&&e(a)}function c(a){return h[a]}function d(){var a;if(!k&&(a=h.pub_custom_params,a.length>0)){k={};for(var b=0;b<a.length;b++)k[a[b].name]=a[b].value}return k}function e(a){var b,c={};if(m[a.event])if(0!==o.length)o.push(a),f();else{for(b in n)n.hasOwnProperty(b)&&"undefined"!=typeof a[b]&&(c[n[b]]=a[b]);j.fireEvent(m[a.event],c)}}function f(){var a,b,c,d={};for(a=0;0!==o.length;a++){if(b=o[0],b&&b.event&&m[b.event]){for(c in n)n.hasOwnProperty(c)&&"undefined"!=typeof b[c]&&(d[n[c]]=b[c]);j.fireEvent(m[b.event],d)}o.splice(0,1)}}function g(){return"undefined"!=typeof GMBanner}var h,j,k,l=["adRequest","adLoaded","adLoadFailure","unitClosed","unitDisplayed"],m={adLoaded:"AD_LOADED",adRequest:"AD_REQUEST",adLoadFailure:"AD_LOAD_FAILURE",unitClosed:"UNIT_CLOSED",unitDisplayed:"UNIT_DISPLAYED"},n={reason:"fvr",visibleDuration:"vd",playbackDuration:"pd",adId:"aid",bannerId:"bnid",adExchange:"adx",muteState:"ms",insertionId:"inid",creativeId:"crid",campaignId:"campid",pageId:"pgid"},o=[],p=!1;return{init:a,isBannerOnPage:g,get:c,getPubCustomParams:d,eventsCB:b}}(),GMData.GeoLocation=function(){function a(a){f=a,GMData.Logger.debug(a),d=new GMData.Event("page"),d.fireEvent("GEO_LOADED",{lat:a.latitude,lg:a.longitude,cty:a.country_code,reg:a.region,cit:a.city,ip:GMData.Utils.validateIPv4Address(a.ip)})}function b(a){return"undefined"!=typeof f[a]?f[a]:null}function c(){e=GMData.env.get("geolocation")+e,GMData.Utils.addJS(e)}var d,e="?callback=GMData.GeoLocation.geoCallback",f={};return{geoCallback:a,load:c,get:b}}(),GMData.SettingsHandler=function(){function a(a){return g[a]}function b(a){return g}function c(a,b){return g[a]instanceof Array?b?b.replace(/,\s/gi,",").split(","):[]:"number"==typeof g[a]?Number(b):"true"===b?!0:"false"===b?!1:b}function d(a,b){var c;if("string"==typeof a)e(a,b);else if("object"==typeof a)for(c in a)a.hasOwnProperty(c)&&e(c,a[c])}function e(a,b){f(a)?g.pub_custom_params.push({name:a,value:"object"==typeof b?JSON.stringify(b):b}):g[a]=c(a,b)}function f(a){return a.indexOf("gp")>-1}var g={xdc:!0,pub_id:""};return{get:a,getAll:b,set:d}}(),GMData.Setup=function(){function a(){GMData.Logger.info("[Setup] Run"),GMData.SettingsHandler.set(GMData.PubSettings().getAllSettings()),GMData.PageViewData.init(),GMData.SessionData.init(),GMData.PianoEventHandler.init(),window.GMUserCookieService=function(a){GMData.UserData.getUserCookieInstance().asyncCookieCallback(a)},GMData.UserData.init(),GMData.ADGEventHandler.init("START"),GMData.BannerEventHandler.init("START"),GMData.GeoLocation.load(),GMData.HIDHandler.init(),GMData.Logger.init({enabled:!0,level:GMData.log_level}),GMData.VendorAdapter.onDataLoad(),"undefined"!=typeof ADG&&ADG.API&&GMData.ADGInterface.init(ADG.API.getSettings()),GMData.Browser.addEvent(window,"message",GMData.ADGInvoker.messageCallback)}function b(){GMData.Audience.load(),GMData.Audience.fireAudienceLoaded()}return{run:a,runOnAsyncLoad:b}}(),GMData.Timer=function(){function a(){return c}function b(){return GMData.DateUtils.getDateDifferenceInSeconds(new Date,c)}var c=new Date;return{getLoadedTime:a,getTimeAfterLoad:b}}(),GMData.ESHandler=function(){function a(a){if(GMData.Logger.log("[ESHandler] Setting verticals"),"undefined"!=typeof a._source&&"undefined"!=typeof a._source.verticals)for(var b in a._source.verticals)GMData.Vertical.set(b,a._source.verticals[b])}function b(b){if(!b)return[];var c=!1,d=b.hits;if(!d||!d.hits||0===d.total)return[];for(var e=0;e<d.hits.length&&!c;e++)"page"===d.hits[e]._index&&(a(d.hits[e]),c=!0);return d.hits}function c(a){d(a)}function d(a){for(var b in a)a.hasOwnProperty(b)&&(g[b]=a[b])}function e(a){return g.hasOwnProperty(a)?g[a]:null}function f(){var a=GMData.AjaxManager.getInstance(),b=g.host+"/"+g.index+"/"+(g.type?g.type+"/_search":"_search"),c=function(a){var b={};if("undefined"!=typeof a&&""!==a)try{b=JSON.parse(a)}catch(c){return void GMData.Logger.log("[ESHandler] Failed to parse JSON","info")}GMData.ESHandler.set({processed:!0,response:b});var d=GMData.ESHandler.get("responseCallback");d&&d(GMData.ESHandler.formatHits(b))},d=function(){GMData.ESHandler.set({processed:!0,response:null});var a=GMData.ESHandler.get("responseCallback");a&&a([])};a.load({url:b,method:g.method,data:JSON.stringify(g.query)},c,d)}var g={host:"http://localhost:9200",index:"",type:"",method:"POST",enabled:!0,processed:!1,query:{},responseCallback:void 0};return{load:f,init:c,set:d,get:e,formatHits:b}}(),GMData.PARHandler=function(){function a(a){var b=GMData.Utils.getUrlWithoutProtocol(!1).replace(/\/$/,"");return a.query.filtered.query.match.url=b,a}function b(b){if(!b.enabled)return void(g.processed=!0);g.fields=b.fields,GMData.Logger.debug("[PARHandler] initializing ");var c={host:GMData.env.get("esearch_host"),index:g.config.alias,responseCallback:e,query:a(g.query)};GMData.ESHandler.init(c),GMData.ESHandler.load()}function c(a){for(var b in a)a.hasOwnProperty(b)&&(g[b]=a[b])}function d(a){return g.hasOwnProperty(a)?g[a]:null}function e(a){g.processed=!0;var b={},c=!1;if(0!==a.length){for(var d=0;d<a.length;d++)a[d]._index.indexOf("url")>-1&&(!f||a[d]._source["@timestamp"]>f)&&(c=a[d]._source,f=c["@timestamp"]);c&&(c.hasOwnProperty("Rankings")&&c.Rankings.hasOwnProperty("retention_rank_hr")&&(g.score=c.Rankings.retention_rank_hr),c.hasOwnProperty("par")&&(g.par=c.par),c.hasOwnProperty("vtr")&&(g.vtr=c.vtr),g.result=b,g.response=!0)}}var f,g={config:{alias:"rankings",method:"POST"},enabled:!0,processed:!1,query:{_source:["url","Rankings","verticals","@timestamp","par","vtr"],size:200,query:{filtered:{query:{match:{url:"URL"}},filter:{bool:{should:[{range:{"@timestamp":{gte:"now-1h",lte:"now"}}},{query:{query_string:{query:"-_missing_: verticals"}}}]}}}}},fields:[],score:void 0,percentageFields:["retention_rank_hr","vtr","intention","interaction"],result:void 0};return{get:d,set:c,init:b}}(),GMData.PageViewData=function(){function a(){null===c.page_view_id&&(c.page_view_id=GMData.Utils.generateUUID())}function b(a){return c[a]}var c={page_view_id:null};return{init:a,get:b}}(),GMData.PianoEventHandler=function(){function a(){j={},k=[],GMData.Browser.addEvent(document,"pressPlusLightboxOpen",c),GMData.Browser.addEvent(document,"pressPlusLightboxNotOpen",d),GMData.Browser.addEvent(document,"pressPlusMeterOn",b)}function b(){k.push("pressPlusMeterOn"),g("pressPlusMeterOn")}function c(){k.push("pressPlusLightboxOpen"),g("pressPlusLightboxOpen")}function d(){k.push("pressPlusLightboxNotOpen"),g("pressPlusLightboxNotOpen")}function e(a,b){if("function"==typeof a&&(j=j||{},b)){if(b instanceof Array)for(var c=0;c<b.length;c++)f(a,b[c]);else f(a,b);return k}}function f(a,b){j[b]=j[b]||[],j[b].push(a)}function g(a){var b=j[a];if(b)for(var c=0;c<b.length;c++)"function"==typeof b[c]&&b[c]({event:a})}function h(){return k}function i(){GMData.Browser.removeEvent(window,"pressPlusLightboxOpen",c),GMData.Browser.removeEvent(window,"pressPlusLightboxNotOpen",d),GMData.Browser.removeEvent(window,"pressPlusMeterOn",b)}var j={},k=[];return{init:a,addCallbacks:e,getEvents:h,destroy:i}}(),GMData.Vertical=function(){function a(a){return"undefined"!==d[a]?d[a]:null}function b(a,b){d[e[a]]=Math.floor(100*b)}function c(){return d}var d={aut:0,busnfin:0,fasnbea:0,food:0,hea:0,life:0,pol:0,spo:0,tech:0,tra:0,unc:0},e={Automotive:"aut","Business/Finance":"busnfin","Fashion&Beauty":"fasnbea",Food:"food",Health:"hea",Lifestyles:"life",Politics:"pol",Sports:"spo",Technology:"tech",Travel:"tra",Unclassified:"unc"};return{get:a,set:b,getAll:c}}(),GMData.UserData=function(){function a(){i=new GMData.UserCookieHandler,i.init();var a=GMData.SiteUserCookieHandler().getUser();j.site_user_id=a.userId,j.returning_user=a.returningUser,(void 0!==GMData.FrequencyCookieHandler||null!==GMData.FrequencyCookieHandler)&&GMData.FrequencyCookieHandler.init(j.site_user_id)}function b(){return i}function c(a){j.begin_date=a}function d(a){j.user_id=a}function e(a){j.returning_user=a}function f(a){j.expiry_time=a}function g(a){return j[a]}function h(a,b){var c;if("string"==typeof a)j[a]=b;else if("object"==typeof a)for(c in a)a.hasOwnProperty(c)&&(j[c]=a[c])}var i,j={user_id:null,site_user_id:null,expiry_time:null,begin_date:null,remote_cookie_status:null,returning_user:null};return{init:a,setExpiryTime:f,getUserCookieInstance:b,setUserID:d,setReturningUser:e,setBeginDate:c,get:g,set:h}}(),GMData.SessionData=function(){function a(){var a=new GMData.SessionCookieHandler;a.init()}function b(a){h.begin_date=a}function c(a){h.expiry_time=a}function d(a){h.session_id=a}function e(a){h.session_depth=Number(a)+1}function f(a){a?h.referrer=decodeURIComponent(a):h.referrer=document.referrer.split("?")[0]?document.referrer.split("?")[0]:"direct"}function g(a){return"undefined"!=typeof h[a]?h[a]:""}var h={session_id:null,session_depth:0,expiry_time:null,begin_date:null,referrer:null};return{init:a,setExpiryTime:c,setSessionID:d,setSessionDepth:e,sessionAttributes:h,setBeginDate:b,setSessionReferrer:f,get:g}}(),GMData.PubSettings=function(){function a(){var a,b={},c=/\\?([^?=&]+)(=([^&#]*))?/g;if(e=document.querySelector('script[src^="'+GMData.data_url+'"]'),!e)return b;a=e.src;try{a.replace(c,function(a,c,d,e){"string"==typeof e&&(b[c]=decodeURIComponent(e))})}catch(d){console&&console.log&&console.log("Error retireving pub settings")}return b.system="gmdata",b}function b(){return f||(f=a()),f}function c(b){return f||(f=a()),f[b]}function d(){return e||(e=document.getElementById(tagId)),e.src.split("?")[1]}var e,f;return{getAllSettings:b,getSettingByName:c,getQueryString:d}},GMData.Cookie=function(){function a(a,b,c){g=a,expiryDuration=b,i=c}function b(a){j=e(),document.cookie=g+"="+escape(a)+"; expires="+j+"; path=/"}function c(a){var b=document.cookie.match(new RegExp(g+"=([^;]*)","i"));return null===b?a:b[1]}function d(a){if(h=c(g,null),!h)return null;for(var b=h.split(encodeURIComponent("|")),d=0;d<b.length;d++){var e=b[d].split(encodeURIComponent("="));if(e[0]===a)return GMData.Utils.getNumberValue(e[1])}}function e(){var a=new Date;switch(i){case"minutes":a.setMinutes(a.getMinutes()+expiryDuration);break;case"years":a.setMinutes(a.getMinutes()+365*expiryDuration*24*60)}return j=a.toUTCString()}function f(){return j}var g,h,i,j;return{init:a,setCookie:b,getCookie:c,getExpiryIfSet:f,getValue:d}},GMData.FrequencyCookieHandler=function(){function a(a){return GMData.Logger.info("[FrequencyCookieHandler] Init"),GMData.Utils.cookiesEnabled()?(f=new GMData.Cookie,f.init(g.cookie_name,g.expiry_duration,g.expiry_units),userId=f.getValue("user"),void(userId&&"0"!==userId?h=f.getValue("currentFrequency"):(userId=a,f.setCookie(e(userId)),i=!1))):void GMData.Logger.debug("GMData: Cookies are disabled...")}function b(){j||(h+=1,f.setCookie("user="+d()+"|currentFrequency="+h),j=!0,GMData.Logger.debug("[FrequencyCookieHandler] FrequencyCookie increase user current frequency to: "+h))}function c(){return h}function d(){return f.getValue("user")}function e(a,b){return"user="+a+"|currentFrequency=0"}var f,g={cookie_name:"gmdata.frequency",expiry_units:"minutes",expiry_duration:1440},h=0,i=!0,j=!1;return{init:a,increaseUserFrequency:b,getUserCurrentFrequency:c,getUserId:d}}(),GMData.RemoteCookie=function(){function a(a,b,c,d){h=a,expiryDuration=b,i=c,cookieService=d}function b(a){var b={action:"setUser",genesis_user:a,expires:escape(g())},c=GMData.Utils.getParametersAsKeyValueString(b,!0);GMData.Utils.shootPixel(cookieService,c)}function c(){var a=GMData.PageViewData.get("page_view_id"),b=cookieService+"?action=getUser&pvid="+a;b+="&tpc=adg",b+="&dn="+GMData.Utils.sanitizeDomain(document.location.host),b+="&url="+GMData.Utils.sanitizeDomain(document.location.href.split("?")[0]),GMData.Utils.addJS(b,d)}function d(){f()||(GMData.Logger.debug("GMData: XCookie Service Failure"),GMData.UserData.getUserCookieInstance().asyncCookieCallback("service_failure"))}function e(a){k=!0}function f(){return k}function g(){var a=new Date;switch(i){case"minutes":a.setMinutes(a.getMinutes()+expiryDuration);break;case"years":a.setMinutes(a.getMinutes()+365*expiryDuration*24*60)}return j=a.toUTCString()}var h,i,j,k=!1;return{init:a,setCookie:b,getCookie:c,setCookieStatus:e,getCookieProcessedStatus:f}},GMData.SessionCookieHandler=function(){function a(){var a=new GMData.Cookie;return a.init(c.cookie_name,c.expiry_duration,c.expiry_units),eventType=new GMData.Event("session"),GMData.Utils.cookiesEnabled()?void(!a.getValue("ssid")||a.getValue("ssdepth")>32766?(GMData.SessionData.setSessionID(GMData.Utils.generateUUID()),GMData.SessionData.setBeginDate((new Date).valueOf()),GMData.SessionData.setSessionDepth(0),GMData.SessionData.setSessionReferrer(),a.setCookie(b()),GMData.SessionData.setExpiryTime(a.getExpiryIfSet()),eventType.fireEvent("SESSION_INIT")):(GMData.SessionData.setSessionID(a.getValue("ssid")),GMData.SessionData.setBeginDate(a.getValue("begindate")),GMData.SessionData.setSessionDepth(a.getValue("ssdepth")),GMData.SessionData.setSessionReferrer(a.getValue("referrer")),a.setCookie(b()),GMData.SessionData.setExpiryTime(a.getExpiryIfSet()))):(GMData.SessionData.setSessionID("ssid_do_not_track"),GMData.SessionData.setSessionDepth(0),void eventType.fireEvent("SESSION_INIT"))}function b(){var a="ssid="+GMData.SessionData.get("session_id")+"|ssdepth="+GMData.SessionData.get("session_depth")+"|referrer="+GMData.SessionData.get("referrer")+"|begindate="+GMData.SessionData.get("begin_date");return a}var c={cookie_name:"gmdata.session",expiry_units:"minutes",expiry_duration:30};return{init:a}},GMData.SiteUserCookieHandler=function(){function a(){return GMData.Utils.cookiesEnabled()?(e=new GMData.Cookie,e.init(f.cookie_name,f.expiry_duration,f.expiry_units),siteUserId=e.getValue("suid"),void(siteUserId&&"0"!==siteUserId||(siteUserId=GMData.Utils.generateUUID(),e.setCookie(d(siteUserId)),g=!1))):(GMData.Logger.debug("GMData: Cookies are disabled..."),void GMData.UserData.set("user_id","uid_do_not_track"))}function b(){return siteUserId}function c(){return{userId:siteUserId,returningUser:g}}function d(a){return"suid="+a}var e,f={cookie_name:"gmdata.site_user",expiry_duration:50,expiry_units:"years"},g=!0;return a(),{getUserId:b,getUser:c}},GMData.UserCookieHandler=function(){function a(){return eventType=new GMData.Event("user"),GMData.SettingsHandler.get("xdc")?GMData.Utils.cookiesEnabled()?(b(),void d.getCookie()):(GMData.Logger.debug("GMData: Cookies are disabled..."),GMData.UserData.set("user_id","uid_do_not_track"),void GMData.UserData.setReturningUser(!1)):void GMData.Logger.debug("[GMData]-[UserCookieHandler]-XDC Disabled Exiting")}function b(){d=new GMData.RemoteCookie,d.init(e.remote_cookie_name,e.expiry_duration,e.expiry_units,e.cookie_service)}function c(a){"service_failure"!==a&&"service_disabled"!==a&&(d.setCookieStatus(a.genesis_user),GMData.UserData.setUserID(a.genesis_user),a.gm_opt_out_cookie?(d.setCookie("opted_out_user"),GMData.Audience.setOptOutState(!0)):"opted_out_user"===GMData.UserData.get("user_id")&&(GMData.UserData.setUserID(GMData.Utils.generateUUID()),d.setCookie(GMData.UserData.get("user_id")),GMData.Audience.setOptOutState(!1))),!a.gm_opt_out_cookie&&GMData.SettingsHandler.get("xdc"),GMData.Setup.runOnAsyncLoad()}var d,e={cookie_name:"gmdata.user",remote_cookie_name:"gmdata.remoteuser",expiry_duration:50,expiry_units:"years",cookie_service:GMData.env.get("cookie_service")};return{init:a,asyncCookieCallback:c}},GMData.ADGEventHandler=function(){function a(a){e=a,f=[a],d=new GMData.StateHandler}function b(a){var b=g[e];if("undefined"==typeof g[e])return GMData.Logger.error("[EventHandler] - Event '"+e+"' doesn't have possible next events."),!1;if(d&&!d.shouldFireEvent(a))return GMData.Logger.debug("[EventHandler] - Event '"+a+"' not fired because dependencies not resolved."),!1;if(-1===b.indexOf(a)){if(!i[a])return GMData.Logger.error("[EventHandler] - NO VALID TRANSITION from event '"+e+"' to event '"+a+"'."),!1;if(-1===i[a].indexOf(e))return GMData.Logger.error("[EventHandler] - Non Transition event : "+a+" not possible with current event : "+e),!1}return i[a]||(GMData.Logger.debug("[EventHandler] - Transitioning from event '"+e+"' to event '"+a+"'."),e=a),"undefined"!=typeof h[a]&&h[a]?!1:("undefined"==typeof h[a]||h[a]||(h[a]=!0),f.push(a),GMData.Logger.debug("[EventHandler] - Event stack: ["+f+"]"),!0)}function c(){return f}var d,e="START",f=["START"],g={START:["TAG_LOADED"],TAG_LOADED:["FREE_VIEW_ALLOWED","INVALID_CONFIG","PASSBACK_SENT","UI_LOADED","UI_LOAD_FAILURE"],FREE_VIEW_ALLOWED:["PASSBACK_SENT"],UI_LOADED:["AD_OPPORTUNITY","AD_REQUEST","PASSBACK_SENT","AD_LOAD_FAILURE","FREE_VIEW_ALLOWED"],AD_OPPORTUNITY:["AD_RESPONSE_RECEIVED","NO_AD_RESPONSE"],AD_LOAD_FAILURE:["FREE_VIEW_ALLOWED","AD_REQUEST","AD_LOAD_FAILURE","PASSBACK_SENT"],UI_LOAD_FAILURE:["PASSBACK_SENT","FREE_VIEW_ALLOWED"],AD_RESPONSE_RECEIVED:["AD_REQUEST","AD_LOADED","AD_LOAD_FAILURE","PASSBACK_SENT"],AD_REQUEST:["AD_RESPONSE_RECEIVED","NO_AD_RESPONSE","AD_LOAD_FAILURE","AD_LOADED"],NO_AD_RESPONSE:["PASSBACK_SENT","AD_LOAD_FAILURE","FREE_VIEW_ALLOWED"],PASSBACK_SENT:["AD_LOAD_FAILURE","UI_LOADED","UI_LOAD_FAILURE","FREE_VIEW_ALLOWED"],AD_LOADED:["UNIT_DISPLAYED","PASSBACK_SENT","AD_START","AD_LOAD_FAILURE","CLOSE_ACTIVE"],UNIT_DISPLAYED:["CLICK_TO_PLAY","AD_START","ABANDON","SKIP","AD_VIDEO_START","SKIP_ENABLED","AD_LOAD_FAILURE","UNIT_CLOSED"],CLICK_TO_PLAY:["AD_START","AD_VIDEO_START"],CLOSE_CLICKED:["UNIT_CLOSED"],AD_START:["SKIP","CLICK_TO_PLAY","AD_VIDEO_START","ABANDON","UNIT_DISPLAYED","AD_STOPPED","SKIP_ENABLED","SKIP_DISPATCHED","CLOSE_ACTIVE"],AD_VIDEO_START:["SKIP","AD_FIRST_QUARTILE","ABANDON","UNIT_DISPLAYED","AD_COMPLETE","AD_STOPPED","SKIP_ENABLED","CLOSE_CLICKED","UNIT_CLOSED"],AD_FIRST_QUARTILE:["SKIP","SKIP_ENABLED","AD_SECOND_QUARTILE","ABANDON","AD_STOPPED","CLOSE_CLICKED"],AD_SECOND_QUARTILE:["SKIP_ENABLED","SKIP","AD_THIRD_QUARTILE","ABANDON","AD_STOPPED","CLOSE_CLICKED"],AD_THIRD_QUARTILE:["SKIP_ENABLED","SKIP","AD_COMPLETE","ABANDON","AD_STOPPED","CLOSE_CLICKED"],AD_STOPPED:["UNIT_CLOSED"],SKIP:["UNIT_CLOSED"],SKIP_ENABLED:["SKIP","AD_START","AD_VIDEO_START","AD_FIRST_QUARTILE","AD_SECOND_QUARTILE","AD_THIRD_QUARTILE","AD_COMPLETE","ABANDON","AD_STOPPED"],AD_COMPLETE:["AD_STOPPED","UNIT_CLOSED","ABANDON"],ABANDON:["END"],UNIT_CLOSED:["END"]},h={HOVER_ON_PLAYER:!1,AD_CLICK_THROUGH:!1,SESSION_INIT:!1,ELIGIBLE_AD_PLAYBACK:!1,ELIGIBLE_AD_START:!1,SKIP_ENABLED:!1,SKIP_DISPATCHED:!1,CLOSE_ACTIVE:!1,CLOSE_CLICKED:!1},i={HOVER_ON_PLAYER:["UNIT_DISPLAYED","SKIP_ENABLED","CLICK_TO_PLAY","AD_START","AD_VIDEO_START","AD_FIRST_QUARTILE","AD_SECOND_QUARTILE","AD_THIRD_QUARTILE","AD_COMPLETE","SKIP_ENABLED"],AD_CLICK_THROUGH:["AD_START","AD_VIDEO_START","AD_FIRST_QUARTILE","AD_SECOND_QUARTILE","AD_THIRD_QUARTILE","SKIP_ENABLED","UNIT_DISPLAYED"],MUTE_CLICKED:["AD_START","AD_VIDEO_START","AD_FIRST_QUARTILE","AD_SECOND_QUARTILE","AD_THIRD_QUARTILE","SKIP_ENABLED","UNIT_DISPLAYED"],ELIGIBLE_AD_PLAYBACK:["AD_START","AD_VIDEO_START","AD_FIRST_QUARTILE","AD_SECOND_QUARTILE","AD_THIRD_QUARTILE","AD_COMPLETE","SKIP_ENABLED"],ELIGIBLE_AD_START:["UNIT_DISPLAYED","AD_START","AD_VIDEO_START","CLICK_TO_PLAY","AD_FIRST_QUARTILE","AD_SECOND_QUARTILE","AD_THIRD_QUARTILE","SKIP_ENABLED"],SKIP_DISPATCHED:["AD_VIDEO_START","UNIT_DISPLAYED","SKIP_ENABLED"],CLOSE_ACTIVE:["AD_VIDEO_START","UNIT_DISPLAYED","SKIP_ENABLED"]};return{init:a,isValidTransition:b,getEventStack:c}}(),GMData.BannerEventHandler=function(){function a(a){current_event=a,e=[a],d=new GMData.StateHandler}function b(a){return e.push(a),!0}function c(){return e}var d,e=[];return{init:a,isValidTransition:b,getEventStack:c}}(),GMData.Event=function(a){function b(a){for(var b=0;b<n.length;b++)if(n[b]===a)return!0;return!1}function c(){var a={cty:GMData.GeoLocation.get("country_code"),dv:GMData.UserAgent.deviceType};return GMData.Utils.getParametersAsKeyValueString(a,!0)}function d(){var a={};return"adg"===j.tagType&&(a={tpc:"adg",dn:GMData.Utils.sanitizeDomain(document.location.host),sid:GMData.ADGInterface.get("site_id"),url:GMData.Utils.sanitizeDomain(document.location.href.split("?")[0]),iid:GMData.ADGInterface.get("intercept_id"),ap:GMData.ADGInterface.get("autoplay"),moa:GMData.ADGInterface.get("autoplay_muted"),pe:!!GMData.ADGInterface.get("passback_url"),br:GMData.UserAgent.name,bv:GMData.UserAgent.version.replace(/\..*/g,""),skt:GMData.ADGInterface.get("skip_time"),mskt:GMData.ADGInterface.get("max_skip_time"),pvid:GMData.PageViewData.get("page_view_id"),rf:GMData.Utils.getReferrer(),ssrf:GMData.Utils.sanitizeDomain(GMData.SessionData.get("referrer")),ssid:GMData.SessionData.get("session_id"),uid:GMData.UserData.get("user_id"),suid:GMData.UserData.get("site_user_id"),ts:(new Date).getTime(),mode:m.adg,pid:GMData.SettingsHandler.get("pub_id")}),"banner"===j.tagType&&(a={tpc:"adg",dn:GMData.Utils.sanitizeDomain(document.location.host),url:GMData.Utils.sanitizeDomain(document.location.href.split("?")[0]),br:GMData.UserAgent.name,dv:GMData.UserAgent.deviceType,bv:GMData.UserAgent.version.replace(/\..*/g,""),pvid:GMData.PageViewData.get("page_view_id"),ssid:GMData.SessionData.get("session_id"),uid:GMData.UserData.get("user_id"),suid:GMData.UserData.get("site_user_id"),ssd:GMData.SessionData.get("session_depth"),os:GMData.UserAgent.os,lang:window.navigator.language,rf:document.referrer.split("?")[0]?GMData.Utils.sanitizeDomain(document.referrer.split("?")[0]):"direct",ru:GMData.UserData.get("returning_user"),ssrf:GMData.Utils.sanitizeDomain(GMData.SessionData.get("referrer")),iid:GMData.BannerInterface.get("intercept_id"),ts:(new Date).getTime(),pid:GMData.SettingsHandler.get("pub_id"),mode:m.banner}),"page"===j.tagType&&(a={tpc:"adg",dn:GMData.Utils.sanitizeDomain(document.location.host),url:GMData.Utils.sanitizeDomain(document.location.href.split("?")[0]),br:GMData.UserAgent.name,dv:GMData.UserAgent.deviceType,bv:GMData.UserAgent.version.replace(/\..*/g,""),pvid:GMData.PageViewData.get("page_view_id"),ssid:GMData.SessionData.get("session_id"),uid:GMData.UserData.get("user_id"),suid:GMData.UserData.get("site_user_id"),ssd:GMData.SessionData.get("session_depth"),os:GMData.UserAgent.os,lang:window.navigator.language,rf:document.referrer.split("?")[0]?GMData.Utils.sanitizeDomain(document.referrer.split("?")[0]):"direct",ru:GMData.UserData.get("returning_user"),ssrf:GMData.Utils.sanitizeDomain(GMData.SessionData.get("referrer")),ts:(new Date).getTime(),pid:GMData.SettingsHandler.get("pub_id")}),"session"===j.tagType&&(a={tpc:"adg",dn:GMData.Utils.sanitizeDomain(document.location.host),url:GMData.Utils.sanitizeDomain(document.location.href.split("?")[0]),br:GMData.UserAgent.name,bv:GMData.UserAgent.version.replace(/\..*/g,""),pvid:GMData.PageViewData.get("page_view_id"),ssid:GMData.SessionData.get("session_id"),uid:GMData.UserData.get("user_id"),suid:GMData.UserData.get("site_user_id"),rf:document.referrer.split("?")[0]?GMData.Utils.sanitizeDomain(document.referrer.split("?")[0]):"direct",ssd:GMData.SessionData.get("session_depth"),ssrf:GMData.Utils.sanitizeDomain(GMData.SessionData.get("referrer")),dv:GMData.UserAgent.deviceType,ts:(new Date).getTime(),pid:GMData.SettingsHandler.get("pub_id")}),"user"===j.tagType&&(a={tpc:"adg",dn:GMData.Utils.sanitizeDomain(document.location.host),url:GMData.Utils.sanitizeDomain(document.location.href.split("?")[0]),br:GMData.UserAgent.name,bv:GMData.UserAgent.version.replace(/\..*/g,""),pvid:GMData.PageViewData.get("page_view_id"),rf:document.referrer.split("?")[0]?GMData.Utils.sanitizeDomain(document.referrer.split("?")[0]):"direct",ssid:GMData.SessionData.get("session_id"),ssrf:GMData.Utils.sanitizeDomain(GMData.SessionData.get("referrer")),uid:GMData.UserData.get("user_id"),ts:(new Date).getTime(),pid:GMData.SettingsHandler.get("pub_id")}),GMData.Utils.getParametersAsKeyValueString(a,!0)}function e(a,b){var c={},d=a.customParams;if("undefined"!=typeof d)for(var e,f=0;f<d.length;f++)e=d[f],
b&&b.hasOwnProperty(e)&&(c[e]=b[e]);return c}function f(a,b){var c=e(a,b);return GMData.Utils.getParametersAsKeyValueString(c,!0)}function g(){var a=GMData.ADGInterface.getPubCustomParams();return GMData.Utils.getParametersAsKeyValueString(a,!0)}function h(a){var b=l[a];return"undefined"==typeof b?null:b}function i(a,e){var h=l[a];if("undefined"==typeof h)return void GMData.Logger.warn("[Event] - Event with key '"+a+"' doesn't exist.");if(j.isValidTransition(a)){var i=f(h,e),m="evt="+h.shortName+"&"+d();if(b(h.shortName)&&(m+="&"+c()),""!==i&&(m+="&"+i),"adg"===j.tagType){var n=g();""!==n&&(m+="&"+n);var o=GMData.ADGInterface.get("publisher_name"),p=GMData.ADGInterface.get("site_id");if(!o||!p)return void GMData.Logger.error("[Event] - Site or publisher not mentioned");var q=k+o+"/"+p+"/";GMData.Utils.shootPixel(q,m),GMData.Logger.info("[Event] - Fired GMData Event: '"+h.name+"'"),GMData.Logger.debug("[Event] - Fired GMData Event: '"+h.name+"' - Parameters: '"+m+"'")}if("page"===j.tagType||"session"===j.tagType||"user"===j.tagType||"banner"===j.tagType){var r="data",s=document.location.host,t=k+s+"/"+r+"/";GMData.Utils.shootPixel(t,m),GMData.Logger.debug("[Event] - Fired GMData Tag Event: '"+h.name+"' - Parameters: '"+m+"'")}}}var j,k=GMData.protocol+GMData.env.get("collector_url");switch(a){case"adg":j=GMData.ADGEventHandler;break;case"page":j=GMData.PageEventHandler;break;case"session":j=GMData.SessionEventHandler;break;case"user":j=GMData.UserEventHandler;break;case"banner":j=GMData.BannerEventHandler}j.tagType=a;var l={DATA_TAG_LOADED:{name:"Data Tag Loaded",shortName:"dtl"},TAG_LOADED:{name:"Tag Loaded",shortName:"tl"},FREE_VIEW_ALLOWED:{name:"Free View Allowed",shortName:"fva",customParams:["fvr"]},AD_OPPORTUNITY:{name:"Ad Opportunity",shortName:"aop"},AD_REQUEST:{name:"Ad Request",shortName:"ar",customParams:["advid","seqid","inid","campid","crid","pgid"]},INVALID_CONFIGURATION:{name:"Invalid Configuration",shortName:"ic"},AD_RESPONSE_RECEIVED:{name:"Ad Response Received",shortName:"arr",customParams:["ttl"]},NO_AD_RESPONSE:{name:"No Ad Response",shortName:"nar"},AD_LOADED:{name:"Ad Loaded",shortName:"al",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid","ttl"]},AD_LOAD_FAILURE:{name:"Ad Load Failure",shortName:"alf",customParams:["advid","seqid","inid","crid","campid","pgid","afr","ttf"]},UI_LOADED:{name:"UI Loaded",shortName:"uil"},UI_LOAD_FAILURE:{name:"UI Load Failure",shortName:"uilf"},PASSBACK_SENT:{name:"Passback Sent",shortName:"ps"},HOVER_ON_PLAYER:{name:"Hover On Player",shortName:"hop",customParams:["vd","pd","aid","bnid","adx","inid","crid","campid","pgid"]},CLICK_TO_PLAY:{name:"Click To Play",shortName:"ctp",customParams:["vd","aid","bnid","adx","inid","crid","campid","pgid"]},SKIP:{name:"Skip",shortName:"sk",customParams:["vd","pd","aid","bnid","adx","inid","crid","campid","pgid","sket"]},SKIP_DISPATCHED:{name:"Skip Dispatched",shortName:"skd",customParams:["vd","pd","aid","bnid","adx","inid","crid","campid","pgid","sket"]},SKIP_ENABLED:{name:"Skip Enabled",shortName:"ske",customParams:["vd","pd","aid","bnid","adx","inid","crid","campid","pgid","sket"]},ABANDON:{name:"Abandon",shortName:"ab",customParams:["vd","pd","aid","bnid","adx","inid","crid","campid","pgid","sket"]},AD_CLICK_THROUGH:{name:"Ad Clickthrough",shortName:"act",customParams:["vd","pd","aid","bnid","adx","inid","crid","campid","pgid"]},UNIT_DISPLAYED:{name:"Unit Displayed",shortName:"ud",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},CLOSE_CLICKED:{name:"Close Clicked",shortName:"clck",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},CLOSE_ACTIVE:{name:"Close Active",shortName:"cla",customParams:["vd","pd","aid","bnid","adx","inid","crid","campid","pgid"]},AD_START:{name:"Ad Start",shortName:"as",customParams:["vd","aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},AD_VIDEO_START:{name:"Ad Video Start",shortName:"avs",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},AD_FIRST_QUARTILE:{name:"Ad First Quartile",shortName:"afq",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},AD_SECOND_QUARTILE:{name:"Ad Second Quartile",shortName:"asq",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},AD_THIRD_QUARTILE:{name:"Ad Third Quartile",shortName:"atq",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},AD_STOPPED:{name:"Ad Stopped",shortName:"asp",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},AD_COMPLETE:{name:"Ad Complete",shortName:"ac",customParams:["aid","bnid","adx","inid","crid","campid","pgid","advid","seqid","sket"]},UNIT_CLOSED:{name:"Unit Closed",shortName:"uc",customParams:["vd","aid","bnid","adx","inid","crid","campid","pgid","advid","seqid"]},SESSION_INIT:{name:"Session Init",shortName:"si"},PAGE_SCROLL:{name:"Scroll",shortName:"psc"},PAGE_UNLOAD:{name:"Unload",shortName:"x",customParams:["atsop","sc","pl","msd","sket"]},PAGE_CLICK:{name:"Page Click",shortName:"pck"},GEO_LOADED:{name:"Geo Loaded",shortName:"gl",customParams:["lat","lg","cty","reg","cit","ip"]},MUTE_CLICKED:{name:"Mute Clicked",shortName:"mc",customParams:["ms","aid","bnid","adx","inid","crid","campid","pgid"]},USER_CREATED:{name:"User Created",shortName:"ucr"},AUDIENCE_LOADED:{name:"Audience Loaded",shortName:"aul",customParams:["aud"]},ELIGIBLE_AD_PLAYBACK:{name:"Eligible Ad Playback",shortName:"eap",customParams:["aid","bnid","adx","inid","crid","campid","pgid"]},ELIGIBLE_AD_START:{name:"Eligible Ad Start",shortName:"eas",customParams:["aid","bnid","adx","inid","crid","campid","pgid"]}},m={banner:"display",adg:"video"},n=["avs","tl","ar","al"];return{fireEvent:i,getEvent:h,isExtendedInfoEvent:b}},GMData.HIDHandler=function(){function a(){p=new GMData.Event("page"),p.fireEvent("DATA_TAG_LOADED"),b()}function b(){GMData.Browser.addEvent(document.documentElement,"click",g),GMData.Browser.addEvent(window,"scroll",h),GMData.Browser.addEvent(document.documentElement,"click",e),GMData.Browser.addEvent(window,"scroll",e),GMData.Browser.addEvent(document,"mousemove",e),GMData.Browser.addEvent(window,"beforeunload",i),n=setInterval(d,100)}function c(){return s&&t||!s&&!t?!0:!1}function d(){r===!1&&q&&c()&&(v+=100)}function e(){GMData.Browser.removeEvent(document,"mousemove",e),q=!0,r&&(r=!1,o=setInterval(f,100))}function f(){30>u?u++:(clearInterval(o),u=0,r=!0,GMData.Browser.addEvent(document,"mousemove",e))}function g(a){y.indexOf(a.target.id)>-1||(GMData.Browser.removeEvent(document.documentElement,"click",g),p.fireEvent("PAGE_CLICK"))}function h(){var a=GMData.scrollDepth();a>x&&(x=a),1>w&&p.fireEvent("PAGE_SCROLL"),w++}function i(){GMData.Browser.removeEvent(window,"beforeunload",i),p.fireEvent("PAGE_UNLOAD",{atsop:v,sc:w,pl:m(),msd:x,sket:GMData.ADGInterface.getCalculatedSkipTime()})}function j(){GMData.Logger.debug("[HIDHandler] startAdTracking"),t=!0}function k(){GMData.Logger.debug("[HIDHandler] endAdTracking"),s=!0}function l(){return v}function m(){return document.height||document.body.offsetHeight}var n,o,p,q=!1,r=!0,s=!1,t=!1,u=0,v=0,w=0,x=0,y=["gmbClose"];return{init:a,startAdTracking:j,endAdTracking:k,getAtsop:l}}(),GMData.PageEventHandler=function(){function a(a){current_event=a,e=[a],d=new GMData.StateHandler}function b(a){return current_event=a,"undefined"!=typeof f[a]&&f[a]?!1:("undefined"==typeof f[a]||f[a]||(f[a]=!0,e.push(a)),e.push(a),!0)}function c(){return e}var d,e=[],f={PAGE_SCROLL:!1,PAGE_CLICK:!1,PAGE_UNLOAD:!1};return{init:a,isValidTransition:b,getEventStack:c}}(),GMData.SessionEventHandler=function(){function a(a){current_event=a,e=[a],d=new GMData.StateHandler}function b(a){return e.push(a),!0}function c(){return e}var d,e=[];return{init:a,isValidTransition:b,getEventStack:c}}(),GMData.StateHandler=function(){function a(){var a={AD_LOAD_FAILURE:!c.NO_AD_RESPONSE,UNIT_CLOSED:c.UNIT_DISPLAYED,SKIP:c.SKIP_ENABLED};return a}function b(b){var d=a();return"undefined"==typeof d[b]||d[b]?("undefined"!=typeof c[b]&&(c[b]=!0),!0):!1}var c={UNIT_DISPLAYED:!1,NO_AD_RESPONSE:!1,SKIP_ENABLED:!1};return{shouldFireEvent:b}},GMData.UserEventHandler=function(){function a(a){current_event=a,e=[a],d=new GMData.StateHandler}function b(a){return e.push(a),!0}function c(){return e}var d,e=[];return{init:a,isValidTransition:b,getEventStack:c}}(),GMData.MoatInterface=function(){function a(a){switch(a.event){case"dataReady":f=b(a);break;case"adVideoStart":case"adVideoFirstQuartile":case"adVideoMidpoint":case"adVideoThirdQuartile":case"adVideoComplete":case"adStopped":case"muteClicked":case"adPaused":case"adPlaying":c(a)}}function b(a){var b=document.getElementById("adgSlate"),c={level1:a.adId||a.campaignId,level2:a.bannerId||a.insertionId,level3:a.creativeId||GMData.ADGInterface.get("site_id"),pvid:GMData.PageViewData.get("page_view_id"),domain:GMData.Utils.getDomain()};a.pageId&&(c.level4=a.pageId);var d=a.mediaFile||"";return GMData.initMoat(b,c,0,g,d)}function c(a){var c={adVideoStart:"AdVideoStart",adVideoFirstQuartile:"AdVideoFirstQuartile",adVideoMidpoint:"AdVideoMidPoint",adVideoThirdQuartile:"AdVideoThirdQuartile",adVideoComplete:"AdVideoComplete",adStopped:"AdStopped",muteClicked:"AdVolumeChange",adPaused:"AdPaused",adPlaying:"AdResumed"};f||b(),f.dispatchEvent({type:c[a.event],adVolume:e()}),GMData.Logger.debug("[MoatInterface]-[fireEvent] - "+a.event),d()}function d(){if(!h&&"undefined"!=typeof CUPlayerInstance&&CUPlayerInstance.duration&&CUPlayerInstance.duration()>0){var a=0;f.adData.duration=a,f.dispatchEvent({type:"ADTimeRemaining",volume:e(),duration:CUPlayerInstance.duration()}),GMData.Logger.debug("[MoatInterface]-[fireEvent] - ADTimeRemaining"),h=!0}}function e(){return"undefined"!=typeof CUPlayerInstance&&CUPlayerInstance.volume?CUPlayerInstance.volume():0}var f,g="genesismediajsint1250150215154",h=!1;return{eventsCB:a}}(),GMData.VendorAdapter=function(){function a(){d.executeMediaMetrix()}function b(){GMData.Logger.debug("[VendorAdapter] onVideoStart -> data tag"),d.executeComscore({id:GMData.ADGInterface.get("comscore_id"),name:GMData.ADGInterface.get("comscore_name")})}function c(){GMData.Logger.debug("[VendorAdapter] onAdStart -> data tag"),e.load()}var d=function(){function a(a,b){var c=new Image;c.src=b?a+"?"+b:a}function b(a){var b=f.replace("##id##",a.id||h);return b=b.replace("##c3##",a.name||i)}function c(c){var d=b(c);a(d)}function d(){var a=g.replace("##id##",h);return a=a.replace("##c3##",j)}function e(){var b=d();a(b)}var f="http://b.scorecardresearch.com/p?c1=1&c2=##id##&c3=##c3##&c5=01&cv=2.0&cj=1",g="http://b.scorecardresearch.com/p?c1=7&c2=##id##&c3=##c3##&cv=2.0&cj=1",h="16170130",i="adg",j="7109298320131093";return{executeComscore:c,executeMediaMetrix:e}}(),e=function(){function a(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.getElementsByTagName("head")[0].appendChild(b)}function b(){g.gmSiteID=document.location.host,"undefined"!=typeof ADG?(g.gmAdId=ADG.PlayerAdapter.getAdId(),g.gmInsertionId=ADG.PlayerEvents.getInsertionId(),g.environment="ad"):g.environment="data";var b=e();a(b)}function c(a){return g.hasOwnPorperty(a)?g[a]:""}function d(a){for(var b in a)g.hasOwnProperty(b)&&(g[b]=a[b])}function e(){var a=f.replace("[CAMPAIGNID]",g.gmAdId||g.gmInsertionId);return a=a.replace("[DATAORAD]",g.environment),a=a.replace("[GENESISDOMAIN]",g.gmSiteID)}var f="http://b.voicefive.com/c2/19765422/rs.js#c1=3&amp;c3=19765422_vme&amp;c4=[CAMPAIGNID]&amp;c5=[DATAORAD]|[GENESISDOMAIN]&amp;c6=&amp;c10=1&amp;c11=&amp;c13=&amp;c16=gen&amp;ax_vme=2&amp",g={gmSiteID:"",gmAdId:"",gmInsertionId:"",environment:"data"};return{load:b,set:d,get:c,buildMdotUrl:e}}();return{onDataLoad:a,onVideoStart:b,onAdStart:c}}(),GMData.initMoat=function(a,b,c,d,e){GMData.Logger.info("[InitMoat] Setting up Moat");var f=window.location.protocol,g="https:"===f?"z":"js",h=document.createElement("script"),i=[],j={adData:{ids:b,duration:c,url:e},dispatchEvent:function(a){this.sendEvent?(i&&(i.push(a),a=i,i=!1),this.sendEvent(a)):i.push(a)}},k="_moatApi"+Math.floor(1e8*Math.random());return window[k]=j,h.type="text/javascript",a&&a.insertBefore(h,a.childNodes[0]||null),h.src=f+"//"+g+".moatads.com/"+d+"/moatvideo.js#"+k,j},GMData.DateUtils=function(){function a(a,b){var c=a.getTime()-b.getTime(),d=c/1e3;return d}function b(a){var b=new Date(a);b.setDate(a.getDate()-1);var c=b.getDate(),d=b.getMonth()+1,e=b.getFullYear();return 10>c&&(c="0"+c),10>d&&(d="0"+d),e+"."+d+"."+c}function c(a){var b=new Date(a);b.setMinutes(b.getMinutes()-60);var c=b.getUTCDate(),d=b.getUTCMonth()+1,e=b.getUTCHours(),f=b.getUTCFullYear();return 10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e),f+"."+d+"."+c+"."+e}return{getDateDifferenceInSeconds:a,getPreviousDayString:b,getPreviousHourString:c}}(),GMData.Logger=function(){function a(a){"undefined"!=typeof a.enabled&&(j=a.enabled),"undefined"!=typeof a.level&&(k=a.level)}function b(){return k}function c(a){k=a}function d(){return j}function e(a,b){if(d())switch(b){case"debug":f(a);break;case"info":g(a);break;case"warn":h(a);break;case"error":i(a);break;default:g(a)}}function f(a){d()&&log_levels.debug>=log_levels[k]&&("object"==typeof a?console.dir(a):console.debug("[DEBUG] - [DATA] - "+a))}function g(a){d()&&log_levels.info>=log_levels[k]&&console.info("[INFO] - [DATA] - "+a)}function h(a){d()&&log_levels.warn>=log_levels[k]&&console.warn("[WARNING] - [DATA] - "+a)}function i(a){d()&&log_levels.error>=log_levels[k]&&console.error("[ERROR] - [DATA] - "+a)}window.console=window.console||{},console.log=console.log||function(){},console.debug=console.debug||console.log,console.dir=console.dir||console.log,console.info=console.info||console.log,console.warn=console.warn||console.log,console.error=console.error||console.log;var j=!0,k=GMData.log_level;return log_levels={debug:0,info:1,warn:2,error:3},{init:a,getLevel:b,setLevel:c,isEnabled:d,log:e,debug:f,info:g,warn:h,error:i}}(),GMData.Utils=function(){function a(){var a,b,c=[],d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];for(a=0;36>a;a++)c[a]=Math.floor(16*Math.random());for(c[14]=4,c[19]=3&c[19]|8,b=0;36>b;b++)c[b]=d[c[b]];return c[8]=c[13]=c[18]=c[23]="-",c.join("")}function b(a,b){var c=new Image;c.src=b?a+"?"+b:a}function c(a,b,c){var d=document.createElement("script");d.type="text/javascript",b&&(GMData.Browser.addLoadEvent(d,b),GMData.Browser.addEvent(d,"error",b)),d.async=!0,d.src=a,document.getElementsByTagName("head")[0].appendChild(d)}function d(a){var b=/^\d+$/;return b.test(a)?Number(a):a}function e(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function f(a,b){var c="";for(var d in a)switch(a[d]){case void 0:case"undefined":case null:case"null":case"":case"NaN":GMData.Logger.debug("A query string parameter attempted to fire but is empty or Invalid::: "+d.toUpperCase());break;default:"string"!=typeof a[d]&&isNaN(a[d])===!0?GMData.Logger.debug("A query string parameter attempted to  fired that is not a number:   "+d.toUpperCase()):c+=d+"="+encodeURIComponent(a[d])+"&"}return c.length>0&&(c=c.substring(0,c.length-1)),b||(c+="&ts="+g()+"&tz="+h()),c}function g(){var a=new Date;return a.getTime()}function h(){var a=new Date;return-1*a.getTimezoneOffset()/60}function i(){document.cookie="cookietest=1";var a=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",a}function j(a){var b=/^(\d{1,3}\.){3}\d{1,3}$/,c=/^((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$/,d=b.test(a)&&c.test(a)?a:null;return d}function k(){return document.location.host}function l(a){return a?document.location.href.split("?")[0].replace(/(http:\/\/|https:\/\/|http:\/\/www\\.|https:\/\/www\\.|www\.)/gi,""):document.location.href.split("?")[0].replace(/.*?:\/\//g,"")}function m(a){for(a=a.toLowerCase().replace(/.*?:\/\//g,"");"/"===a.charAt(a.length-1)||"."===a.charAt(a.length-1);)a=a.substr(0,a.length-1);return a}function n(){return document.referrer.split("?")[0]?GMData.Utils.sanitizeDomain(document.referrer.split("?")[0]):"direct"}return{getParametersAsKeyValueString:f,shootPixel:b,generateUUID:a,addJS:c,cookiesEnabled:i,getNumberValue:d,isEmpty:e,validateIPv4Address:j,getDomain:k,getUrlWithoutProtocol:l,sanitizeDomain:m,getUTC_TimeStamp:g,getReferrer:n}}(),GMData.scrollDepth=function(){function a(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}function b(){return window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop||0}function c(){return Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)}function d(){return Math.floor((b()+a())/c()*100)}return d()},GMData.UserAgent=function(){function a(a){function c(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}var d,e=c(/(ipod|iphone|ipad)/i).toLowerCase(),f=/like android/i.test(a),g=!f&&/android/i.test(a),h=c(/version\/(\d+(\.\d+)?)/i),i=/tablet/i.test(a),j=!i&&/[^-]mobi/i.test(a);/opera|opr/i.test(a)?d={name:"Opera",opera:b,version:h||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(a)?d={name:"Windows Phone",windowsphone:b,msie:b,version:c(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(a)?d={name:"IE",msie:b,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(a)?d={name:"Chrome",chrome:b,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:e?(d={name:"Safari"},h&&(d.version=h)):/sailfish/i.test(a)?d={name:"Sailfish",sailfish:b,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?d={name:"SeaMonkey",seamonkey:b,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(a)?(d={name:"Firefox",firefox:b,version:c(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&(d.firefoxos=b)):/silk/i.test(a)?d={name:"Amazon Silk",silk:b,version:c(/silk\/(\d+(\.\d+)?)/i)}:g?d={name:"Android",version:h}:/phantom/i.test(a)?d={name:"PhantomJS",phantom:b,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?d={name:"BlackBerry",blackberry:b,version:h||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(a)?(d={name:"WebOS",webos:b,version:h||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&(d.touchpad=b)):d=/bada/i.test(a)?{name:"Bada",bada:b,version:c(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(a)?{name:"Tizen",tizen:b,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||h}:/safari/i.test(a)?{name:"Safari",safari:b,version:h}:{},/(apple)?webkit/i.test(a)?(d.name=d.name||"Webkit",d.webkit=b,!d.version&&h&&(d.version=h)):!d.opera&&/gecko\//i.test(a)&&(d.name=d.name||"Gecko",d.gecko=b,d.version=d.version||c(/gecko\/(\d+(\.\d+)?)/i)),g||d.silk?d.android=b:e&&(d[e]=b,d.ios=b);var k="";e?(k=c(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):g?k=c(/android[ \/-](\d+(\.\d+)*)/i):d.windowsphone?k=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):d.webos?k=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):d.blackberry?k=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i):d.bada?k=c(/bada\/(\d+(\.\d+)*)/i):d.tizen&&(k=c(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(d.osversion=k);var l=k.split(".")[0];i||"ipad"===e||g&&(3===l||4===l&&!j)||d.silk?d.tablet=b:(j||"iphone"===e||"ipod"===e||g||d.blackberry||d.webos||d.bada)&&(d.mobile=b),d.msie&&d.version>=10||d.chrome&&d.version>=20||d.firefox&&d.version>=20||d.safari&&d.version>=6||d.opera&&d.version>=10||d.ios&&d.osversion&&d.osversion.split(".")[0]>=6||d.blackberry&&d.version>=10.1?d.a=b:d.msie&&d.version<10||d.chrome&&d.version<20||d.firefox&&d.version<20||d.safari&&d.version<6||d.opera&&d.version<10||d.ios&&d.osversion&&d.osversion.split(".")[0]<6?d.c=b:d.x=b;var m="-",n=navigator.userAgent,o=navigator.appVersion,p=m,q=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var r in q){var s=q[r];if(s.r.test(n)){p=s.s;break}}switch(/Windows/.test(p)&&(k=/Windows (.*)/.exec(p)[1],p="Windows"),p){case"Mac OS X":k=/Mac OS X (10[\.\_\d]+)/.exec(n)[1];break;case"Android":k=/Android ([\.\_\d]+)/.exec(n)[1];break;case"iOS":k=/OS (\d+)_(\d+)_?(\d+)?/.exec(o),k=k[1]+"."+k[2]+"."+(0|k[3])}var t;if(d.mobile){t=d.iphone?"iphone":d.ipod?"ipod":d.android?"android":d.windowsphone?"windowsphone":d.blackberry?"blackberry":d.webos?"webos":d.bada?"bada":d.silk?"silk":0;var u="unknown mobile platform";d.deviceType=t||u}else d.ipad?d.deviceType="ipad":d.deviceType="desktop";return d.os=p,d.osVersion=k,d}var b=!0,c=a("undefined"!=typeof navigator?navigator.userAgent:"");return c._detect=a,c}(),GMData.AjaxManager=function(){function a(){c=window.XDomainRequest?GMData.XDomainRequest():GMData.XMLHttpRequest()}function b(){return c}var c;return{init:a,getInstance:b}}(),GMData.Browser=function(){function a(a,b,c){a&&(window.addEventListener?a.addEventListener(b,c,!1):window.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)}function b(a,b,c){a&&(window.removeEventListener?a.removeEventListener(b,c):window.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null)}function c(a){return a.parentNode?a.parentNode:a.parentElement?a.parentElement:void 0}function d(){if(-1!==navigator.appName.indexOf("Internet Explorer")){var a=-1===navigator.appVersion.indexOf("MSIE 9")&&-1===navigator.appVersion.indexOf("MSIE 1");return a}}function e(a){return d()&&a.tagName&&a.tagName.indexOf(h)?!1:!0}function f(a){return 0!==a.childNodes.length&&e(a)?!0:!1}function g(a,b){window.addEventListener?GMData.Browser.addEvent(a,"load",b):window.attachEvent&&(a.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||b()})}var h="abbr,article,aside,audio,canvas,datalist,details,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video,figcaption,summary".split(",");return{addEvent:a,removeEvent:b,getParent:c,allowedTag:f,addLoadEvent:g}}(),GMData.DomHandler=function(){function a(a){var b=document.getElementsByTagName("head")[0];b&&b.appendChild(a)}function b(a,b,c){var d;return(d=document.getElementsByClassName?function(a,b,c){c=c||document;for(var d,e=c.getElementsByClassName(a),f=b?new RegExp("\\b"+b+"\\b","i"):null,g=[],h=0,i=e.length;i>h;h+=1)d=e[h],(!f||f.test(d.nodeName))&&g.push(d);return g}:document.evaluate?function(a,b,c){b=b||"*",c=c||document;for(var d,e,f=a.split(" "),g="",h="http://www.w3.org/1999/xhtml",i=document.documentElement.namespaceURI===h?h:null,j=[],k=0,l=f.length;l>k;k+=1)g+="[contains(concat(' ', @class, ' '), ' "+f[k]+" ')]";try{d=document.evaluate(".//"+b+g,c,i,0,null)}catch(m){d=document.evaluate(".//"+b+g,c,null,0,null)}for(;e=d.iterateNext();)j.push(e);return j}:function(a,b,c){b=b||"*",c=c||document;for(var d,e,f=a.split(" "),g=[],h="*"===b&&c.all?c.all:c.getElementsByTagName(b),i=[],j=0,k=f.length;k>j;j+=1)g.push(new RegExp("(^|\\s)"+f[j]+"(\\s|$)"));for(var l=0,m=h.length;m>l;l+=1){d=h[l],e=!1;for(var n=0,o=g.length;o>n&&(e=g[n].test(d.className),e);n+=1);e&&i.push(d)}return i})(a,b,c)}function c(a,c){var d=a.substring(0,1);if(("#"===d||"."===d)&&(a=a.substring(1)),null==c&&(c=document),"#"===d)return document.getElementById(a);if("."===d){var e=a.split(".");return e=e[0],b(e)}return c.getElementsByTagName(a)}function d(a,b){var c=b.parentNode;c.lastchild===b?c.appendChild(a):c.insertBefore(a,b.nextSibling)}function e(a){if(!a)return 0;var b=0;do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}function f(a){if(a){var b=a.getBoundingClientRect().left||0,c=a.getBoundingClientRect().top||0,d=b+"x"+c;return d}}function g(a){if(!a)return!1;var b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=document.documentElement.scrollTop>document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,d=c+b,f=e(a),g=f+a.offsetHeight;return d>=g&&f>=c}function h(a){if(!a)return!1;var b=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=document.documentElement.scrollTop>document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,d=c+b,f=e(a),g=f+a.offsetHeight;return Math.round(f-(d-c-(g-f))/2)}function i(a){a||(a=window.event),a.preventDefault&&a.preventDefault(),a.returnValue=!1}function j(){document.onmousewheel=function(){i()},document.addEventListener&&document.addEventListener("DOMMouseScroll",i,!1)}function k(){document.onmousewheel=null,document.addEventListener&&document.removeEventListener("DOMMouseScroll",i,!1)}return{getPosition:f,attachElementToHead:a,getElementsByClassName:b,insertAfter:d,isElementFullyVisible:g,getCenterPosition:h,disableMouseWheel:j,enableMouseWheel:k,$:c}}(),GMData.Logger=function(){function a(a){"undefined"!=typeof a.enabled&&(l=a.enabled),"undefined"!=typeof a.level&&(m=a.level)}function b(){return m}function c(a){m=a}function d(){return l}function e(a,b){if(d())switch(b){case"performance":g(a);break;case"debug":g(a);break;case"info":h(a);break;case"warn":i(a);break;case"error":j(a);break;default:h(a)}}function f(a){d()&&console.log(a)}function g(a){d()&&log_levels.debug>=log_levels[m]&&("object"==typeof a?console.dir(a):console.debug("[DEBUG] - [GMData] - "+a))}function h(a){d()&&log_levels.info>=log_levels[m]&&console.info("[INFO] - [GMData] - "+a)}function i(a){d()&&log_levels.warn>=log_levels[m]&&console.warn("[WARNING] - [GMData] - "+a)}function j(a){d()&&log_levels.error>=log_levels[m]&&console.error("[ERROR] - [GMData] - "+a)}function k(a){!d()||log_levels[m]<log_levels.performance||console.log("[PERFORMANCE] - [GMData] - "+a)}window.console=window.console||{},console.log=console.log||function(){},console.debug=console.debug||console.log,console.dir=console.dir||console.log,console.info=console.info||console.log,console.warn=console.warn||console.log,console.error=console.error||console.log;var l=!0,m="info";return log_levels={debug:0,info:1,warn:2,error:3,performance:4},{init:a,getLevel:b,setLevel:c,isEnabled:d,log:e,logObject:f,debug:g,info:h,warn:i,error:j,performance:k}}(),GMData.Observer=function(){function a(a){}return{notify:a}},GMData.ObserverList=function(){function a(a){return f.push(a)}function b(){return f}function c(a){f.splice(a,1)}function d(a){for(var b=0;b<f.length;b++)if(f[b]===a)return b;return-1}function e(){return f.length}var f=[];return{add:a,get:b,remove:c,count:e,indexOf:d}},GMData.Subject=function(){function a(a){d.add(a)}function b(a){d.remove(d.indexOf(a))}function c(a){for(var b=d.get(),c=0;c<d.count();c++)b[c].notify(a)}var d=new GMData.ObserverList;return{addObserver:a,removeObserver:b,notify:c,observers:d}},GMData.UserAgent=function(){function a(a){function c(b){var c=a.match(b);return c&&c.length>1&&c[1]||""}var d,e=c(/(ipod|iphone|ipad)/i).toLowerCase(),f=/like android/i.test(a),g=!f&&/android/i.test(a),h=c(/version\/(\d+(\.\d+)?)/i),i=/tablet/i.test(a),j=!i&&/[^-]mobi/i.test(a);/opera|opr/i.test(a)?d={name:"Opera",opera:b,version:h||c(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(a)?d={name:"Windows Phone",windowsphone:b,msie:b,version:c(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(a)?d={name:"IE",msie:b,version:c(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(a)?d={name:"Chrome",chrome:b,version:c(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:e?(d={name:"Safari"},h&&(d.version=h)):/sailfish/i.test(a)?d={name:"Sailfish",sailfish:b,version:c(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(a)?d={name:"SeaMonkey",seamonkey:b,version:c(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(a)?(d={name:"Firefox",firefox:b,version:c(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(a)&&(d.firefoxos=b)):/silk/i.test(a)?d={name:"Amazon Silk",silk:b,version:c(/silk\/(\d+(\.\d+)?)/i)}:g?d={name:"Android",version:h}:/phantom/i.test(a)?d={name:"PhantomJS",phantom:b,version:c(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(a)||/rim\stablet/i.test(a)?d={name:"BlackBerry",blackberry:b,version:h||c(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(a)?(d={name:"WebOS",webos:b,version:h||c(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(a)&&(d.touchpad=b)):d=/bada/i.test(a)?{name:"Bada",bada:b,version:c(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(a)?{name:"Tizen",tizen:b,version:c(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||h}:/safari/i.test(a)?{name:"Safari",safari:b,version:h}:{},/(apple)?webkit/i.test(a)?(d.name=d.name||"Webkit",d.webkit=b,!d.version&&h&&(d.version=h)):!d.opera&&/gecko\//i.test(a)&&(d.name=d.name||"Gecko",d.gecko=b,d.version=d.version||c(/gecko\/(\d+(\.\d+)?)/i)),g||d.silk?d.android=b:e&&(d[e]=b,d.ios=b);var k="";e?(k=c(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):g?k=c(/android[ \/-](\d+(\.\d+)*)/i):d.windowsphone?k=c(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):d.webos?k=c(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):d.blackberry?k=c(/rim\stablet\sos\s(\d+(\.\d+)*)/i):d.bada?k=c(/bada\/(\d+(\.\d+)*)/i):d.tizen&&(k=c(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(d.osversion=k);var l=k.split(".")[0];i||"ipad"===e||g&&(3===l||4===l&&!j)||d.silk?d.tablet=b:(j||"iphone"===e||"ipod"===e||g||d.blackberry||d.webos||d.bada)&&(d.mobile=b),d.msie&&d.version>=10||d.chrome&&d.version>=20||d.firefox&&d.version>=20||d.safari&&d.version>=6||d.opera&&d.version>=10||d.ios&&d.osversion&&d.osversion.split(".")[0]>=6||d.blackberry&&d.version>=10.1?d.a=b:d.msie&&d.version<10||d.chrome&&d.version<20||d.firefox&&d.version<20||d.safari&&d.version<6||d.opera&&d.version<10||d.ios&&d.osversion&&d.osversion.split(".")[0]<6?d.c=b:d.x=b;var m="-",n=navigator.userAgent,o=navigator.appVersion,p=m,q=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var r in q){var s=q[r];if(s.r.test(n)){p=s.s;break}}switch(/Windows/.test(p)&&(k=/Windows (.*)/.exec(p)[1],p="Windows"),p){case"Mac OS X":k=/Mac OS X (10[\.\_\d]+)/.exec(n)[1];break;case"Android":k=/Android ([\.\_\d]+)/.exec(n)[1];break;case"iOS":k=/OS (\d+)_(\d+)_?(\d+)?/.exec(o),
k=k[1]+"."+k[2]+"."+(0|k[3])}var t;if(d.mobile){t=d.iphone?"iphone":d.ipod?"ipod":d.android?"android":d.windowsphone?"windowsphone":d.blackberry?"blackberry":d.webos?"webos":d.bada?"bada":d.silk?"silk":0;var u="unknown mobile platform";d.deviceType=t||u}else d.ipad?d.deviceType="ipad":d.deviceType="desktop";return d.tablet=d.tablet&&"desktop"!==d.deviceType,d.os=p,d.osVersion=k,d}var b=!0,c=a("undefined"!=typeof navigator?navigator.userAgent:"");return c._detect=a,c}(),GMData.XDomainRequest=function(){function a(a,b,c){var d=new XDomainRequest;return a.url?(d.open(a.method||"GET",a.url),c&&(d.onerror=c),d.onload=function(){b&&b(d.responseText)},d.onprogress=function(){},d.ontimeout=function(){},void setTimeout(function(){d.send(a.data||null)},0)):void GMData.Logger.warn("GMData.XDomainRequest - AJAX: URL not present")}return{load:a}},GMData.XMLHttpRequest=function(){function a(a,b,c){var d=new XMLHttpRequest;if(!a.url)return void GMData.Logger.warn("GMData.XMLHttpRequest - AJAX: URL not present");if(d.open(a.method||"GET",a.url),a.headers)for(var e=a.headers.length-1;e>=0;e--)header=a.headers[e],header.name&&header.value&&d.setRequestHeader(header.name,header.value);c&&(d.onerror=c),d.onreadystatechange=function(){4===this.readyState&&b&&b(this.response)},d.send(a.data||null)}return{load:a}},GMData.AjaxManager.init(),GMData.PARHandler.init({enabled:!0,fields:[{name:"retention_rank_hr",cutoff:0}]}),GMData.Setup.run();