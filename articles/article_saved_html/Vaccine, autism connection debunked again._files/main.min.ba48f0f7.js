function tabletMode(){return Modernizr.mq("all and (max-width: 1024px)")}function tabletLandscapeMode(){return Modernizr.mq("all and (max-width: 1024px) and (min-width: 1023px)")}function tabletPortraitMode(){return Modernizr.mq("all and (max-width: 1023px) and (min-width: 641px)")}function mobileMode(){return Modernizr.mq("all and (max-width: 640px)")}function desktopMode(){return Modernizr.mq("all and (min-width: 1025px)")||-1!=window.navigator.appVersion.indexOf("MSIE 8.0")||-1!=window.navigator.appVersion.indexOf("MSIE 7.0")}function getMediaQueryMode(){return desktopMode()?"desktop":mobileMode()?"mobile":tabletLandscapeMode()?"tabletLandscape":tabletPortraitMode()?"tabletPortrait":void 0}function watchSidebar(){var e=$("html").hasClass("touch")?"touchstart":"click";$("#sidebar_handle").bind(e,function(e){e.stopImmediatePropagation(),e.preventDefault(),$("#main_sidebar").offset().left<$(window).width()?hideSidebar():showSidebar()}),$("#sidebar_toggle").bind("click",function(e){e.stopImmediatePropagation(),e.preventDefault()}),$("#sidebar_toggle").bind("touchstart",function(e){e.stopImmediatePropagation(),e.preventDefault()})}function showSidebar(){if($("html").hasClass("touch")?"touchstart":"click",$("#main_sidebar").css({height:$(window).height()}).addClass("exposed"),$("#sidebar_handle").addClass("exposed"),$("html").hasClass("touch")){var e="<div id='sidebar_mask' style='position:fixed;top:0;left:0;right:0;bottom:0;background:transparent;z-index:100;'></div>";$("body").append(e),$("#sidebar_mask").bind("touchstart",function(e){$("#sidebar_mask").remove(),e.preventDefault(),hideSidebar()})}}function hideSidebar(){$("#sidebar_mask").remove(),$("html").hasClass("touch")?"touchstart":"click",$("#main_sidebar").removeClass("exposed"),$("#sidebar_handle").removeClass("exposed")}function watchSocialWelcomeNotifications(){$(".notification").find(".close").click(function(e){$(this).closest(".notification").remove(),e.preventDefault()})}function watchMobileRollupSocialToggle(){$(".mobile-social-toggle").bind($("html").hasClass("touch")?"touchstart":"click",function(e){e.preventDefault();var t=$(this).closest(".roll-up").find(".social");if($(this).hasClass("on"))return t.removeClass("show-for-mobile horiz-counts-mobile"),void $(this).removeClass("on");t.addClass("show-for-mobile horiz-counts-mobile");var n=0;n+=t.find(".email").outerWidth(!0),n+=t.find(".twitter").outerWidth(!0),n+=t.find(".facebook").outerWidth(!0);var i=t.closest(".container").width()-$(this).width(),a=i-n;t.css("padding-left",a/2),$(this).addClass("on")})}function positionRelatedContent(){var e=$("#main_sidebar");e.css("position","relative");var t=0;$(".related-content-reference").each(function(){var n=$(this).attr("id"),i=$("#"+n.replace("reference-","")).clone();$("#"+n.replace("reference-","")).hide(),i.attr("id",i.attr("id")+"_placed"),e.append(i);var a=$(this).offset().top-e.offset().top;t+i.height()+20>a&&(a=t+i.height()+20),i.css({position:"absolute",top:a,left:18}),t=a}),$(".highlighted").each(function(){"right"==$(this).css("float")?$(this).css("margin-right",$(this).outerWidth()):"none"==$(this).css("float")&&$(this).css("margin-right","auto")})}function enableMobileVideoGallery(){var e=$("#video_gallery_mobile_wrap").find(".current-video").length;window.mobileVideoGallerySwiper=Swipe(document.getElementById("video_gallery_mobile"),{stopPropagation:!0,callback:function(t,n){mobileMode()&&($("#video_gallery_mobile_position_indicators").find("li").removeClass("active"),$($("#video_gallery_mobile_position_indicators li").get(window.mobileVideoGallerySwiper.getPos()%e)).addClass("active"))}}),$("#video_gallery_mobile").after('<div id="video_gallery_mobile_position_indicators" class="carousel-dots"><ul></ul></div>');for(var t=$("#video_gallery_mobile_position_indicators ul"),n=0;e>n;n++){var i=$('<li><a href="#" data-position="'+n+'">'+n+"</a></li>");0==n&&i.addClass("active"),t.append(i)}t.find("a").click(function(e){window.mobileVideoGallerySwiper.slide(parseInt($(this).attr("data-position"))),e.preventDefault()})}function Swipe(e,t){"use strict";function n(){m=y.children,v=m.length,m.length<2&&(t.continuous=!1),h.transitions&&t.continuous&&m.length<3&&(y.appendChild(m[0].cloneNode(!0)),y.appendChild(y.children[1].cloneNode(!0)),m=y.children),b=new Array(m.length),g=e.getBoundingClientRect().width||e.offsetWidth,y.style.width=m.length*g+"px";for(var n=m.length;n--;){var i=m[n];i.style.width=g+"px",i.setAttribute("data-index",n),h.transitions&&(i.style.left=n*-g+"px",s(n,_>n?-g:n>_?g:0,0))}t.continuous&&h.transitions&&(s(r(_-1),-g,0),s(r(_+1),g,0)),h.transitions||(y.style.left=_*-g+"px"),e.style.visibility="visible"}function i(){t.continuous?o(_-1):_&&o(_-1)}function a(){t.continuous?o(_+1):_<m.length-1&&o(_+1)}function r(e){return(m.length+e%m.length)%m.length}function o(e,n){if(_!=e){if(h.transitions){var i=Math.abs(_-e)/(_-e);if(t.continuous){var a=i;i=-b[r(e)]/g,i!==a&&(e=-i*m.length+e)}for(var o=Math.abs(_-e)-1;o--;)s(r((e>_?e:_)-o-1),g*i,0);e=r(e),s(_,g*i,n||w),s(e,0,n||w),t.continuous&&s(r(e-i),-(g*i),0)}else e=r(e),c(_*-g,e*-g,n||w);_=e,f(t.callback&&t.callback(_,m[_]))}}function s(e,t,n){l(e,t,n),b[e]=t}function l(e,t,n){var i=m[e],a=i&&i.style;a&&(a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=n+"ms",a.webkitTransform="translate("+t+"px,0)translateZ(0)",a.msTransform=a.MozTransform=a.OTransform="translateX("+t+"px)")}function c(e,n,i){if(!i)return void(y.style.left=n+"px");var a=+new Date,r=setInterval(function(){var o=+new Date-a;return o>i?(y.style.left=n+"px",S&&u(),t.transitionEnd&&t.transitionEnd.call(event,_,m[_]),void clearInterval(r)):void(y.style.left=(n-e)*(Math.floor(o/i*100)/100)+e+"px")},4)}function u(){k=setTimeout(a,S)}function d(){S=0,clearTimeout(k)}var p=function(){},f=function(e){setTimeout(e||p,0)},h={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"))};if(e){var m,b,g,v,y=e.children[0];t=t||{};var _=parseInt(t.startSlide,10)||0,w=t.speed||300;t.continuous=void 0!==t.continuous?t.continuous:!0;var k,x,S=t.auto||0,C={},T={},j={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":f(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":f(this.transitionEnd(e));break;case"resize":f(n.call())}t.stopPropagation&&e.stopPropagation()},start:function(e){var t=e.touches[0];C={x:t.pageX,y:t.pageY,time:+new Date},x=void 0,T={},y.addEventListener("touchmove",this,!1),y.addEventListener("touchend",this,!1)},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){t.disableScroll&&e.preventDefault();var n=e.touches[0];T={x:n.pageX-C.x,y:n.pageY-C.y},"undefined"==typeof x&&(x=!!(x||Math.abs(T.x)<Math.abs(T.y))),x||(e.preventDefault(),d(),t.continuous?(l(r(_-1),T.x+b[r(_-1)],0),l(_,T.x+b[_],0),l(r(_+1),T.x+b[r(_+1)],0)):(T.x=T.x/(!_&&T.x>0||_==m.length-1&&T.x<0?Math.abs(T.x)/g+1:1),l(_-1,T.x+b[_-1],0),l(_,T.x+b[_],0),l(_+1,T.x+b[_+1],0)))}},end:function(e){var n=+new Date-C.time,i=Number(n)<250&&Math.abs(T.x)>20||Math.abs(T.x)>g/2,a=!_&&T.x>0||_==m.length-1&&T.x<0;t.continuous&&(a=!1);var o=T.x<0;x||(i&&!a?(o?(t.continuous?(s(r(_-1),-g,0),s(r(_+2),g,0)):s(_-1,-g,0),s(_,b[_]-g,w),s(r(_+1),b[r(_+1)]-g,w),_=r(_+1)):(t.continuous?(s(r(_+1),g,0),s(r(_-2),-g,0)):s(_+1,g,0),s(_,b[_]+g,w),s(r(_-1),b[r(_-1)]+g,w),_=r(_-1)),t.callback&&t.callback(_,m[_])):t.continuous?(s(r(_-1),-g,w),s(_,0,w),s(r(_+1),g,w)):(s(_-1,-g,w),s(_,0,w),s(_+1,g,w))),y.removeEventListener("touchmove",j,!1),y.removeEventListener("touchend",j,!1)},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==_&&(S&&u(),t.transitionEnd&&t.transitionEnd.call(e,_,m[_]))}};return n(),S&&u(),h.addEventListener?(h.touch&&y.addEventListener("touchstart",j,!1),h.transitions&&(y.addEventListener("webkitTransitionEnd",j,!1),y.addEventListener("msTransitionEnd",j,!1),y.addEventListener("oTransitionEnd",j,!1),y.addEventListener("otransitionend",j,!1),y.addEventListener("transitionend",j,!1)),window.addEventListener("resize",j,!1)):window.onresize=function(){n()},{setup:function(){n()},slide:function(e,t){d(),o(e,t)},prev:function(){d(),i()},next:function(){d(),a()},getPos:function(){return _},getNumSlides:function(){return v},kill:function(){d(),y.style.width="auto",y.style.left=0;for(var e=m.length;e--;){var t=m[e];t.style.width="100%",t.style.left=0,h.transitions&&l(e,0,0)}h.addEventListener?(y.removeEventListener("touchstart",j,!1),y.removeEventListener("webkitTransitionEnd",j,!1),y.removeEventListener("msTransitionEnd",j,!1),y.removeEventListener("oTransitionEnd",j,!1),y.removeEventListener("otransitionend",j,!1),y.removeEventListener("transitionend",j,!1),window.removeEventListener("resize",j,!1)):window.onresize=null}}}}define("a9",[],function(){function e(e){"use strict";try{i.updateAds(e)}catch(t){try{console.log("amzn_ads: "+t)}catch(n){}}}function t(e,t){e.write(t),e.close()}var n=function(){"use strict";var e={};return e.log=function(){},e}();window.console&&(n=window.console);var i=function(e,n,a,r){"use strict";function o(t,i,r,s,l,c,u){this.element=t,this.impId=l,this.win=c,this.doc=u,this.start=null,this.end=null,this.area=null,this.cutoff=i,this.cutoffTime=1e3*r,this.focused=null,this.timer=!1,this.timerStarted=!1,this.getDuration=s,this.reported=!1,this.above=null,this.totalTime=0,this.leftPos=null,this.topPos=null,o.prototype.calcArea=function(){try{var t=n.getElementsByTagName("body")[0],i=a.top.innerWidth||n.documentElement.clientWidth||t.clientWidth,r=a.top.innerHeight||n.documentElement.clientHeight||t.clientHeight,o=e.$jQ(a).scrollTop(),s=e.$jQ(this.element).offset().top,l=e.$jQ(this.element).height(),c=e.$jQ(a).scrollLeft(),u=e.$jQ(this.element).offset().left,d=e.$jQ(this.element).width(),p=Math.max(s,o),f=Math.min(s+l,o+r),h=f-p;h=Math.max(0,h);var m=Math.max(u,c),b=Math.min(u+d,c+i),g=b-m;g=Math.max(0,g);var v=h*g,y=d*l;return this.leftPos=u/e.$jQ(n).width(),this.topPos=s/e.$jQ(n).height(),v/y}catch(_){e.log("calcArea failed for ad id="+this.element+"; error="+_)}return 0},o.prototype.displayTime=function(){if(this.getDuration){var t=this.end-this.start;e.log(this.element+" viewed for: "+t),this.totalTime+=t}},o.prototype.adInView=function(){e.log(this.element+" IN VIEW")},o.prototype.adNotInView=function(){e.log(this.element+" NOT IN VIEW")},o.prototype.seenForTime=function(){e.log(this.element+" displayed for "+this.cutoffTime/1e3+" seconds"),e.log(" "),this.reported=!0;try{encodeURIComponent(location.protocol+location.host+location.pathname)}catch(t){this.firePixel('/{"adViewability":[{"error": '+JSON.stringify(encodeURIComponent("Error encoding url - "+t))+"}]}")}try{this.firePixel('/{"adViewability":[{"viewable": true }]}')}catch(t){e.log(t),this.firePixel('/{"adViewability":[{"error": '+JSON.stringify(encodeURIComponent("Error sending pixel - "+t))+"}]}")}},o.prototype.firePixel=function(t){(new Image).src=e.protocol+e.host+e.px_svc+this.impId+t+"&cb="+Math.round(1e7*Math.random())},o.prototype.getAreaTime=function(){function t(){r.reported||(r.timer=setTimeout(function(){r.seenForTime()},r.cutoffTime))}function i(){r.adInView(),r.start=new Date,t(),r.timerStarted=!0}function a(){clearTimeout(r.timer),r.timerStarted=!1,r.end=new Date,r.adNotInView(),r.displayTime()}var r=this;if(null==this.area){this.area=this.calcArea(),this.above=this.area>this.cutoff?!0:!1;try{this.firePixel('/{"adViewability":[{"above_the_fold": '+this.above+', "topPos": '+this.topPos+', "leftPos": '+this.leftPos+"}]}")}catch(o){e.log(o),this.firePixel('/{"adViewability":[{"error": '+JSON.stringify(encodeURIComponent("Error sending pixel - "+o))+"}]}")}}var s=this.calcArea();n.hasFocus()&&(0==this.focused||null==this.focused)&&s>this.cutoff&&0==this.timerStarted&&i(),n.hasFocus()?this.focused=!0:this.area>this.cutoff&&1==this.focused&&(a(),this.focused=!1),(this.area>=this.cutoff&&s<this.cutoff||this.area<this.cutoff&&s>=this.cutoff)&&(s>=this.cutoff&&0==this.timerStarted?i():s<this.area&&a()),this.area=s},o.prototype.collectData=function(){var t=this;t.getAreaTime(),e.$jQ(a).on("scroll resize focus blur",function(){t.reported||t.getAreaTime()})}}var s="https:"===n.location.protocol;return e.protocol=s?"https://":"http://",e.DEFAULT_HOST="aax.amazon-adsystem.com",e.host=e.DEFAULT_HOST,e.dtb_svc="/e/dtb/bid",e.pb_svc="/x/getad",e.px_svc="/x/px/",e.debug_mode=e.debug_mode||!1,e.MIN_TIMEOUT=0,e.DEFAULT_TIMEOUT=1e3,e.targetingKey="amznslots",e.vidKey="amzn_vid",e.tasks=e.tasks||[],e.$jQ=e.$jQ||null,e.VIEWABILITY_CUTOFF_AREA=e.VIEWABILITY_CUTOFF_AREA||.5,e.VIEWABILITY_CUTOFF_DURATION_SEC=e.VIEWABILITY_CUTOFF_DURATION_SEC||1,e.CSM_JS="//c.amazon-adsystem.com/aax2/csm.js.gz",e.isjQueryPresent=function(){if("function"==typeof e.$jQ)return!0;try{if(a.top.jQuery&&a.top.jQuery.fn.on&&a.top.jQuery.fn.scrollTop)return e.$jQ=a.top.jQuery,!0}catch(t){}return!1},e.log=function(t){try{e.debug_mode&&r.log(t)}catch(n){}},e.log("Initiating amznads"),e.ads||(e.ads={}),e.updateAds=function(t){if(e.ads=t.ads,e.ev=t.ev,t.vads){e.ads||(e.ads={});var n;for(n in t.vads)t.vads.hasOwnProperty(n)&&(e.ads[n]=t.vads[n],e.amzn_vid=t.vads[n])}e.log("Updated ads. Executing rest of the task queue"),e.doAllTasks(),e.tasks.push=function(t){e.doTask(t)}},e.saveAds=function(t){e.saved_ads=t.ads,e.updateAds(t)},e.getAdForSlot=function(i,a,r){e.src_id=i;var o=o||{},s=o.u;s||(s=e.getReferrerURL()),s&&-1!==s.indexOf("amzn_debug_mode")&&(e.debug_mode=!0),e.log("amznads.getAdForSlot: Using url="+s);var l="src="+e.src_id+"&slot_uuid="+a+"&c=100&u="+s+"&cb="+Math.round(1e7*Math.random()),c=e.protocol+e.host+e.pb_svc+"?jsd=1&"+l;e.log("amznads.getAdAdForSlot: "+(r?"Async ":"")+"Call to: "+c),r?e.appendScriptTag(c):t(n,"<script type='text/javascript' src='"+c+"'></script>")},e.getAdsCallback=function(t,n,i,a,r){var o=null,r=r||{};try{n&&"function"==typeof n&&(o=e.handleCallBack(n,i))}catch(s){e.log("amznads.getAdsAsyncWithCallback(): Error occured in setting up callback functionality."+s)}r.to||(r.to=i),e.doGetAdsAsync(t,a,r,o)},e.getVideoAdsCallback=function(t,n,i,a,r){var r=r||{};r.mt="V",e.getAdsCallback(t,n,i,a,r)},e.getDisplayAdsCallback=function(t,n,i,a,r){var r=r||{};r.mt="D",e.getAdsCallback(t,n,i,a,r)},e.getAdsAsync=function(t,n,i){e.doGetAdsAsync(t,n,i)},e.getVideoAdsAsync=function(t,n,i){var i=i||{};i.mt="V",e.getAdsAsync(t,n,i)},e.getDisplayAdsAsync=function(t,n,i){var i=i||{};i.mt="D",e.getAdsAsync(t,n,i)},e.handleCallBack=function(t,n){var i=!1,r=null,o=function(e){if(!i){try{t(e),r&&clearTimeout(r)}catch(n){}i=!0}},s=e.getValidMilliseconds(n);return r=s?a.setTimeout(o,s):a.setTimeout(o,e.DEFAULT_TIMEOUT),o},e.getValidMilliseconds=function(t){if(!t)return!1;try{var n=~~Number(t);if(n>e.MIN_TIMEOUT)return n}catch(i){return e.log("amznads.isValidMilliseconds(): Invalid timeout specified."+i),!1}return!1},e.getAds=function(i,a,r,o){if(o)return void e.doGetAdsAsync(i,a,r);var s=e.getScriptSource(i,a,r);e.log("amznads.getAds: Call to: "+s),t(n,"<script type='text/javascript' src='"+s+"'></script>")},e.getVideoAds=function(t,n,i,a){var i=i||{};i.mt="V",e.getAds(t,n,i,a)},e.getDisplayAds=function(t,n,i,a){var i=i||{};i.mt="D",e.getAds(t,n,i,a)},e.doGetAdsAsync=function(t,n,i,a){var r=e.getScriptSource(t,n,i);e.log("amznads.getAds: Async Call to: "+r),e.appendScriptTag(r,a)},e.getScriptSource=function(t,i,a){e.src_id=t;var a=a||{},r=a.u,o=a.d,s=a.to,l=a.mt;if(r||(r=e.getReferrerURL()),r&&-1!==r.indexOf("amzn_debug_mode")&&(e.debug_mode=!0),e.ads&&(e.log("amznads.getAds(): clear out existing ads"),e.clearTargetingFromGPTAsync(),e.ads={}),e.saved_ads&&(e.ads=e.saved_ads),o)try{n.domain=o,e.log("amznads.getAds(): Using domain="+o)}catch(c){e.log("amznads.getAds(): Unable to override document domain with '"+o+"'; exception="+c)}e.log("amznads.getAds(): Using url="+r);var u="src="+t+"&u="+r+"&cb="+Math.round(1e7*Math.random());i&&(u+="&sz="+i),s&&(u+="&t="+s),l&&(u+="&mt="+l);var d=e.protocol+e.host+e.dtb_svc+"?"+u;return d},e.getReferrerURL=function(){var t=encodeURIComponent(n.documentURI);try{t=encodeURIComponent(a.top.location.href),t&&"undefined"!=t||(t=e.detectIframeAndGetURL())}catch(i){t=e.detectIframeAndGetURL()}return t},e.detectIframeAndGetURL=function(){try{if(a.top!==a.self)return e.log("Script is loaded within iFrame"),encodeURIComponent(n.referrer)}catch(t){return encodeURIComponent(n.documentURI)}},e.appendScriptTag=function(t,i){var a=n.getElementsByTagName("script")[0],r=n.createElement("script");r.type="text/javascript",r.async=!0,r.src=t;try{i&&"function"==typeof i&&(r.readyState?(r.onreadystatechange=function(){("loaded"==r.readyState||"complete"==r.readyState)&&(r.onreadystatechange=null,i(!0))},e.log("amznads.appendScriptTag: setting callBack function for < IE-8 ")):(r.onload=function(){i(!0)},e.log("amznads.appendScriptTag: setting callBack function for all other browsers exluding  < IE-8")))}catch(o){e.log("amznads.appendScriptTag: Could not associate callBack function; "+o)}a.parentNode.insertBefore(r,a)},e.renderAd=function(n,i){if(e.log("amznads.renderAd: key="+i+"; ad-tag="+e.ads[i]),e.ads[i]){var a=e.ads[i];if(e.ev){var r="amznad"+Math.round(1e6*Math.random());a=a.replace("window.top.amznads.detectViewability","window.amzncsm.rmD"),a=a.replace(/id=[^ ]*/,'id="'+r+'"');var o="<script type='text/javascript' src='"+e.CSM_JS+"'></script>\n";e.host!=e.DEFAULT_HOST&&(o+="<script type='text/javascript'>try{amzncsm.host=window.top.amznads.host;}catch(e){amzncsm.host=amznads.host;}</script>\n"),a=o+a}t(n,a)}else{var s=new Object;s.c="dtb",s.src=e.src_id,s.kvmismatch=1,s.pubReturnedKey=i,s.aaxReturnedKeys=e.getTokens(),s.cb=Math.round(1e7*Math.random());try{s.u=encodeURIComponent(location.host+location.pathname),navigator&&(s.ua=encodeURIComponent(navigator.userAgent))}catch(l){}var c=encodeURIComponent(JSON.stringify(s)),u=e.protocol+e.host+"/x/px/p/0/"+c;e.log("amznads.renderAd: keyValueMismatch detected, pubReturnedKey="+i+", aaxReturnedKeys="+e.getTokens()),t(n,"<img src='"+u+"'/>")}},e.detectViewability=function(t,n,i,r){e.isjQueryPresent()&&(i===a.top?new o(t,e.VIEWABILITY_CUTOFF_AREA,e.VIEWABILITY_CUTOFF_DURATION_SEC,!0,n,i,r).collectData():new o(i.frameElement,e.VIEWABILITY_CUTOFF_AREA,e.VIEWABILITY_CUTOFF_DURATION_SEC,!0,n,i,r).collectData())},e.hasAds=function(t){var n;if(!t)try{return Object.keys(e.ads).length>0}catch(i){e.log("amznads.hasAds: looks like IE 8 (and below): "+i);for(n in e.ads)if(e.ads.hasOwnProperty(n))return!0}for(n in e.ads)if(e.ads.hasOwnProperty(n)&&n.indexOf(t)>0)return!0;return!1},e.getTargeting=function(){var t={};return e.getTokens()&&e.getTokens().length>0&&(t[e.targetingKey]=e.getTokens(),e.amzn_vid&&(t[e.vidKey]=e.amzn_vid)),t},e.setTargeting=function(t,n){var i;for(i in e.ads)if(e.ads.hasOwnProperty(i)){if(n&&i.indexOf(n)<0)continue;t(i,"1")}},e.setTargetingForGPTAsync=function(t){try{if(t){e.targetingKey=t;var n=e.getTokens();"undefined"!=typeof n&&n.length>0&&googletag.cmd.push(function(){googletag.pubads().setTargeting(t,n),e.amzn_vid&&googletag.pubads().setTargeting(e.vidKey,e.amzn_vid)})}else{var a;for(a in e.ads)e.ads.hasOwnProperty(a)&&!function(){var t=a;e.log("amznads.setTargetingForGPTAsync: pushing localKey="+t),googletag.cmd.push(function(){i.debug_mode&&i.log("amznads.setTargetingForGPTAsync: localKey="+t),googletag.pubads().setTargeting(t,"1"),e.amzn_vid&&googletag.pubads().setTargeting(e.vidKey,e.amzn_vid)})}()}e.log("amznads.setTargetingForGPTAsync: Completed successfully. Number of ads returned by Amazon: "+Object.keys(e.ads).length)}catch(r){e.log("amznads.setTargetingForGPTAsync: ERROR - "+r)}},e.setTargetingForGPTSync=function(t){try{if(t){e.targetingKey=t;var n=e.getTokens();"undefined"!=typeof n&&n.length>0&&(googletag.pubads().setTargeting(t,n),e.amzn_vid&&googletag.pubads().setTargeting(e.vidKey,e.amzn_vid))}else{var i;for(i in e.ads)e.ads.hasOwnProperty(i)&&(googletag.pubads().setTargeting(i,"1"),e.amzn_vid&&googletag.pubads().setTargeting(e.vidKey,e.amzn_vid))}e.log("amznads.setTargetingForGPTSync: Completed successfully. Number of ads returned by Amazon: "+Object.keys(e.ads).length)}catch(a){e.log("amznads.setTargetingForGPTSync: ERROR - "+a)}},e.clearTargetingFromGPTAsync=function(){try{googletag&&googletag.pubads()&&googletag.pubads().clearTargeting(e.targetingKey),googletag.pubads().clearTargeting(e.vidKey)}catch(t){}},e.appendTargetingToAdServerUrl=function(t){var n=t;try{-1===t.indexOf("?")&&(t+="?");var i;for(i in e.ads)e.ads.hasOwnProperty(i)&&(t+="&"+i+"=1");e.log("amznads.appendTargetingToAdServerUrl: Completed successfully. Number of ads returned by Amazon: "+e.ads.length)}catch(a){e.log("amznads.appendTargetingToAdServerUrl: ERROR - "+a)}return e.log("amznads.appendTargetingToAdServerUrl: input url: "+n+"\nreturning url: "+t),t},e.appendTargetingToQueryString=function(t){var n=t;try{var i;for(i in e.ads)e.ads.hasOwnProperty(i)&&(t+="&"+i+"=1")}catch(a){e.log("amznads.appendTargetingToQueryString: ERROR - "+a)}return e.log("amznads.appendTargetingToQueryString: input query-string:"+n+"\nreturning query-string:"+t),t},e.getTokens=function(t){var n,i=[];try{for(n in e.ads)if(e.ads.hasOwnProperty(n)){if(t&&n.indexOf(t)<0)continue;i.push(n)}}catch(a){e.log("amznads.getTokens: ERROR - "+a)}return e.log("amznads.getTokens: returning tokens = "+i),i},e.getKeys=e.getTokens,e.getVid=function(){return e.amzn_vid},e.doAllTasks=function(){for(;e.tasks.length>0;){var t=e.tasks.shift();e.doTask(t)}},e.doTask=function(t){try{t.call()}catch(n){e.log("Failed calling task: "+n)}},e.tryGetAdsAsync=function(){e.asyncParams&&e.getAdsCallback(e.asyncParams.id,e.asyncParams.callbackFn,e.asyncParams.timeout,e.asyncParams.size,e.asyncParams.data)},e}(i||{},document,window,n);return i.tryGetAdsAsync(),window.amzn_ads=e,window.amznads=i,i}),!function(e,t){function n(e){var t=e.length,n=ue.type(e);return ue.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Ce[e]={};return ue.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function a(e,n,i,a){if(ue.acceptData(e)){var r,o,s=ue.expando,l=e.nodeType,c=l?ue.cache:e,u=l?e[s]:e[s]&&s;if(u&&c[u]&&(a||c[u].data)||i!==t||"string"!=typeof n)return u||(u=l?e[s]=te.pop()||ue.guid++:s),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof n||"function"==typeof n)&&(a?c[u]=ue.extend(c[u],n):c[u].data=ue.extend(c[u].data,n)),o=c[u],a||(o.data||(o.data={}),o=o.data),i!==t&&(o[ue.camelCase(n)]=i),"string"==typeof n?(r=o[n],null==r&&(r=o[ue.camelCase(n)])):r=o,r}}function r(e,t,n){if(ue.acceptData(e)){var i,a,r=e.nodeType,o=r?ue.cache:e,l=r?e[ue.expando]:ue.expando;if(o[l]){if(t&&(i=n?o[l]:o[l].data)){ue.isArray(t)?t=t.concat(ue.map(t,ue.camelCase)):t in i?t=[t]:(t=ue.camelCase(t),t=t in i?[t]:t.split(" ")),a=t.length;for(;a--;)delete i[t[a]];if(n?!s(i):!ue.isEmptyObject(i))return}(n||(delete o[l].data,s(o[l])))&&(r?ue.cleanData([e],!0):ue.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}}function o(e,n,i){if(i===t&&1===e.nodeType){var a="data-"+n.replace(je,"-$1").toLowerCase();if(i=e.getAttribute(a),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Te.test(i)?ue.parseJSON(i):i}catch(r){}ue.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!ue.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return X.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,n){if(ue.isFunction(t))return ue.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ue.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Be.test(t))return ue.filter(t,e,n);t=ue.filter(t,e)}return ue.grep(e,function(e){return ue.inArray(e,t)>=0!==n})}function f(e){var t=We.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return ue.nodeName(e,"table")&&ue.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ue.find.attr(e,"type"))+"/"+e.type,e}function b(e){var t=at.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)ue._data(n,"globalEval",!t||ue._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&ue.hasData(e)){var n,i,a,r=ue._data(e),o=ue._data(t,r),s=r.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,a=s[n].length;a>i;i++)ue.event.add(t,n,s[n][i])}o.data&&(o.data=ue.extend({},o.data))}}function y(e,t){var n,i,a;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.support.noCloneEvent&&t[ue.expando]){a=ue._data(t);for(i in a.events)ue.removeEvent(t,i,a.handle);t.removeAttribute(ue.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,b(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.support.html5Clone&&e.innerHTML&&!ue.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function _(e,n){var i,a,r=0,o=typeof e.getElementsByTagName!==G?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],i=e.childNodes||e;null!=(a=i[r]);r++)!n||ue.nodeName(a,n)?o.push(a):ue.merge(o,_(a,n));return n===t||n&&ue.nodeName(e,n)?ue.merge([e],o):o}function w(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function k(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,a=St.length;a--;)if(t=St[a]+n,t in e)return t;return i}function x(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)}function S(e,t){for(var n,i,a,r=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(r[o]=ue._data(i,"olddisplay"),n=i.style.display,t?(r[o]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(r[o]=ue._data(i,"olddisplay",A(i.nodeName)))):r[o]||(a=x(i),(n&&"none"!==n||!a)&&ue._data(i,"olddisplay",a?n:ue.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"));return e}function C(e,t,n){var i=gt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,a){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=ue.css(e,n+xt[r],!0,a)),i?("content"===n&&(o-=ue.css(e,"padding"+xt[r],!0,a)),"margin"!==n&&(o-=ue.css(e,"border"+xt[r]+"Width",!0,a))):(o+=ue.css(e,"padding"+xt[r],!0,a),"padding"!==n&&(o+=ue.css(e,"border"+xt[r]+"Width",!0,a)));return o}function j(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,r=ut(e),o=ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,r);if(0>=a||null==a){if(a=dt(e,t,r),(0>a||null==a)&&(a=e.style[t]),vt.test(a))return a;i=o&&(ue.support.boxSizingReliable||a===e.style[t]),a=parseFloat(a)||0}return a+T(e,t,n||(o?"border":"content"),i,r)+"px"}function A(e){var t=X,n=_t[e];return n||(n=E(e,t),"none"!==n&&n||(ct=(ct||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),ct.detach()),_t[e]=n),n}function E(e,t){var n=ue(t.createElement(e)).appendTo(t.body),i=ue.css(n[0],"display");return n.remove(),i}function I(e,t,n,i){var a;if(ue.isArray(t))ue.each(t,function(t,a){n||Tt.test(e)?i(e,a):I(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==ue.type(t))i(e,t);else for(a in t)I(e+"["+a+"]",t[a],n,i)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,r=t.toLowerCase().match(pe)||[];if(ue.isFunction(n))for(;i=r[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function O(e,n,i,a){function r(l){var c;return o[l]=!0,ue.each(e[l]||[],function(e,l){var u=l(n,i,a);return"string"!=typeof u||s||o[u]?s?!(c=u):t:(n.dataTypes.unshift(u),r(u),!1)}),c}var o={},s=e===Ut;return r(n.dataTypes[0])||!o["*"]&&r("*")}function D(e,n){var i,a,r=ue.ajaxSettings.flatOptions||{};for(a in n)n[a]!==t&&((r[a]?e:i||(i={}))[a]=n[a]);return i&&ue.extend(!0,e,i),e}function N(e,n,i){for(var a,r,o,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(s in l)if(l[s]&&l[s].test(r)){c.unshift(s);break}if(c[0]in i)o=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}a||(a=s)}o=o||a}return o?(o!==c[0]&&c.unshift(o),i[o]):t}function M(e,t,n,i){var a,r,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(o=c[l+" "+r]||c["* "+r],!o)for(a in c)if(s=a.split(" "),s[1]===r&&(o=c[l+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[a]:c[a]!==!0&&(r=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function q(){try{return new e.XMLHttpRequest}catch(t){}}function L(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function F(){return setTimeout(function(){Kt=t}),Kt=ue.now()}function R(e,t,n){for(var i,a=(rn[t]||[]).concat(rn["*"]),r=0,o=a.length;o>r;r++)if(i=a[r].call(n,t,e))return i}function H(e,t,n){var i,a,r=0,o=an.length,s=ue.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Kt||F(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),1>r&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kt||F(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ue.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(V(u,c.opts.specialEasing);o>r;r++)if(i=an[r].call(c,e,u,c.opts))return i;return ue.map(u,R,c),ue.isFunction(c.opts.start)&&c.opts.start.call(e,c),ue.fx.timer(ue.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function V(e,t){var n,i,a,r,o;for(n in e)if(i=ue.camelCase(n),a=t[i],r=e[n],ue.isArray(r)&&(a=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),o=ue.cssHooks[i],o&&"expand"in o){r=o.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=a)}else t[i]=a}function B(e,t,n){var i,a,r,o,s,l,c=this,u={},d=e.style,p=e.nodeType&&x(e),f=ue._data(e,"fxshow");n.queue||(s=ue._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ue.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ue.css(e,"display")&&"none"===ue.css(e,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],
d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],en.exec(a)){if(delete t[i],r=r||"toggle"===a,a===(p?"hide":"show"))continue;u[i]=f&&f[i]||ue.style(e,i)}if(!ue.isEmptyObject(u)){f?"hidden"in f&&(p=f.hidden):f=ue._data(e,"fxshow",{}),r&&(f.hidden=!p),p?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;ue._removeData(e,"fxshow");for(t in u)ue.style(e,t,u[t])});for(i in u)o=R(p?f[i]:0,i,c),i in f||(f[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function U(e,t,n,i,a){return new U.prototype.init(e,t,n,i,a)}function z(e,t){var n,i={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)n=xt[a],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function $(e){return ue.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,Q,G=typeof t,J=e.location,X=e.document,Y=X.documentElement,K=e.jQuery,Z=e.$,ee={},te=[],ne="1.10.2",ie=te.concat,ae=te.push,re=te.slice,oe=te.indexOf,se=ee.toString,le=ee.hasOwnProperty,ce=ne.trim,ue=function(e,t){return new ue.fn.init(e,t,Q)},de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=/\S+/g,fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,be=/^[\],:{}\s]*$/,ge=/(?:^|:|,)(?:\s*\[)+/g,ve=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ye=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_e=/^-ms-/,we=/-([\da-z])/gi,ke=function(e,t){return t.toUpperCase()},xe=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(Se(),ue.ready())},Se=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",xe,!1),e.removeEventListener("load",xe,!1)):(X.detachEvent("onreadystatechange",xe),e.detachEvent("onload",xe))};ue.fn=ue.prototype={jquery:ne,constructor:ue,init:function(e,n,i){var a,r;if(!e)return this;if("string"==typeof e){if(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e),!a||!a[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(a[1]){if(n=n instanceof ue?n[0]:n,ue.merge(this,ue.parseHTML(a[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),me.test(a[1])&&ue.isPlainObject(n))for(a in n)ue.isFunction(this[a])?this[a](n[a]):this.attr(a,n[a]);return this}if(r=X.getElementById(a[2]),r&&r.parentNode){if(r.id!==a[2])return i.find(e);this.length=1,this[0]=r}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))},selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ue.each(this,e,t)},ready:function(e){return ue.ready.promise().done(e),this},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ue.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ae,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var e,n,i,a,r,o,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||ue.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(a in r)e=s[a],i=r[a],s!==i&&(u&&i&&(ue.isPlainObject(i)||(n=ue.isArray(i)))?(n?(n=!1,o=e&&ue.isArray(e)?e:[]):o=e&&ue.isPlainObject(e)?e:{},s[a]=ue.extend(u,o,i)):i!==t&&(s[a]=i));return s},ue.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ue&&(e.$=Z),t&&e.jQuery===ue&&(e.jQuery=K),ue},isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){if(e===!0?!--ue.readyWait:!ue.isReady){if(!X.body)return setTimeout(ue.ready);ue.isReady=!0,e!==!0&&--ue.readyWait>0||(W.resolveWith(X,[ue]),ue.fn.trigger&&ue(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray||function(e){return"array"===ue.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[se.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ue.support.ownLast)for(n in e)return le.call(e,n);for(n in e);return n===t||le.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=me.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=ue.buildFragment([e],t,a),a&&ue(a).remove(),ue.merge([],i.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=ue.trim(n),n&&be.test(n.replace(ve,"@").replace(ye,"]").replace(ge,"")))?Function("return "+n)():(ue.error("Invalid JSON: "+n),t)},parseXML:function(n){var i,a;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(a=new DOMParser,i=a.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ue.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_e,"ms-").replace(we,ke)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var a,r=0,o=e.length,s=n(e);if(i){if(s)for(;o>r&&(a=t.apply(e[r],i),a!==!1);r++);else for(r in e)if(a=t.apply(e[r],i),a===!1)break}else if(s)for(;o>r&&(a=t.call(e[r],r,e[r]),a!==!1);r++);else for(r in e)if(a=t.call(e[r],r,e[r]),a===!1)break;return e},trim:ce&&!ce.call("\ufeff ")?function(e){return null==e?"":ce.call(e)}:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ue.merge(i,"string"==typeof e?[e]:e):ae.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(oe)return oe.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,a=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[a++]=n[r];else for(;n[r]!==t;)e[a++]=n[r++];return e.length=a,e},grep:function(e,t,n){var i,a=[],r=0,o=e.length;for(n=!!n;o>r;r++)i=!!t(e[r],r),n!==i&&a.push(e[r]);return a},map:function(e,t,i){var a,r=0,o=e.length,s=n(e),l=[];if(s)for(;o>r;r++)a=t(e[r],r,i),null!=a&&(l[l.length]=a);else for(r in e)a=t(e[r],r,i),null!=a&&(l[l.length]=a);return ie.apply([],l)},guid:1,proxy:function(e,n){var i,a,r;return"string"==typeof n&&(r=e[n],n=e,e=r),ue.isFunction(e)?(i=re.call(arguments,2),a=function(){return e.apply(n||this,i.concat(re.call(arguments)))},a.guid=e.guid=e.guid||ue.guid++,a):t},access:function(e,n,i,a,r,o,s){var l=0,c=e.length,u=null==i;if("object"===ue.type(i)){r=!0;for(l in i)ue.access(e,n,l,i[l],!0,o,s)}else if(a!==t&&(r=!0,ue.isFunction(a)||(s=!0),u&&(s?(n.call(e,a),n=null):(u=n,n=function(e,t,n){return u.call(ue(e),n)})),n))for(;c>l;l++)n(e[l],i,s?a:a.call(e[l],l,n(e[l],i)));return r?e:u?n.call(e):c?n(e[0],i):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var a,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];a=n.apply(e,i||[]);for(r in t)e.style[r]=o[r];return a}}),ue.ready.promise=function(t){if(!W)if(W=ue.Deferred(),"complete"===X.readyState)setTimeout(ue.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",xe,!1),e.addEventListener("load",xe,!1);else{X.attachEvent("onreadystatechange",xe),e.attachEvent("onload",xe);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(i){}n&&n.doScroll&&function a(){if(!ue.isReady){try{n.doScroll("left")}catch(e){return setTimeout(a,50)}Se(),ue.ready()}}()}return W.promise(t)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()}),Q=ue(X),function(e,t){function n(e,t,n,i){var a,r,o,s,l,c,u,d,h,m;if((t?t.ownerDocument||t:H)!==O&&P(t),t=t||O,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(N&&!i){if(a=ye.exec(e))if(o=a[1]){if(9===s){if(r=t.getElementById(o),!r||!r.parentNode)return n;if(r.id===o)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(o))&&F(t,r)&&r.id===o)return n.push(r),n}else{if(a[2])return ee.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&x.getElementsByClassName&&t.getElementsByClassName)return ee.apply(n,t.getElementsByClassName(o)),n}if(x.qsa&&(!M||!M.test(e))){if(d=u=R,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(u=t.getAttribute("id"))?d=u.replace(ke,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+f(c[l]);h=fe.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return ee.apply(n,h.querySelectorAll(m)),n}catch(b){}finally{u||t.removeAttribute("id")}}}return w(e.replace(ce,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>C.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function a(e){return e[R]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)C.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return a(function(t){return t=+t,a(function(n,i){for(var a,r=e([],n.length,t),o=r.length;o--;)n[a=r[o]]&&(n[a]=!(i[a]=n[a]))})})}function d(){}function p(e,t){var i,a,r,o,s,l,c,u=z[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=C.preFilter;s;){(!i||(a=de.exec(s)))&&(a&&(s=s.slice(a[0].length)||s),l.push(r=[])),i=!1,(a=pe.exec(s))&&(i=a.shift(),r.push({value:i,type:a[0].replace(ce," ")}),s=s.slice(i.length));for(o in C.filter)!(a=ge[o].exec(s))||c[o]&&!(a=c[o](a))||(i=a.shift(),r.push({value:i,type:o,matches:a}),s=s.slice(i.length));if(!i)break}return t?s.length:s?n.error(e):z(e,l).slice(0)}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,a=n&&"parentNode"===i,r=B++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r)}:function(t,n,o){var s,l,c,u=V+" "+r;if(o){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(c=t[R]||(t[R]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===S)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,o)||S,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function b(e,t,n,i,a){for(var r,o=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(!n||n(r,i,a))&&(o.push(r),c&&t.push(s));return o}function g(e,t,n,i,r,o){return i&&!i[R]&&(i=g(i)),r&&!r[R]&&(r=g(r,o)),a(function(a,o,s,l){var c,u,d,p=[],f=[],h=o.length,m=a||_(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?m:b(m,p,e,s,l),v=n?r||(a?e:h||i)?[]:o:g;if(n&&n(g,v,s,l),i)for(c=b(v,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[f[u]]=!(g[f[u]]=d));if(a){if(r||e){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?ne.call(a,d):p[u])>-1&&(a[c]=!(o[c]=d))}}else v=b(v===o?v.splice(h,v.length):v),r?r(null,o,v,l):ee.apply(o,v)})}function v(e){for(var t,n,i,a=e.length,r=C.relative[e[0].type],o=r||C.relative[" "],s=r?1:0,l=h(function(e){return e===t},o,!0),c=h(function(e){return ne.call(t,e)>-1},o,!0),u=[function(e,n,i){return!r&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];a>s;s++)if(n=C.relative[e[s].type])u=[h(m(u),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;a>i&&!C.relative[e[i].type];i++);return g(s>1&&m(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ce,"$1"),n,i>s&&v(e.slice(s,i)),a>i&&v(e=e.slice(i)),a>i&&f(e))}u.push(n)}return m(u)}function y(e,t){var i=0,r=t.length>0,o=e.length>0,s=function(a,s,l,c,u){var d,p,f,h=[],m=0,g="0",v=a&&[],y=null!=u,_=E,w=a||o&&C.find.TAG("*",u&&s.parentNode||s),k=V+=null==_?1:Math.random()||.1;for(y&&(E=s!==O&&s,S=i);null!=(d=w[g]);g++){if(o&&d){for(p=0;f=e[p++];)if(f(d,s,l)){c.push(d);break}y&&(V=k,S=++i)}r&&((d=!f&&d)&&m--,a&&v.push(d))}if(m+=g,r&&g!==m){for(p=0;f=t[p++];)f(v,h,s,l);if(a){if(m>0)for(;g--;)v[g]||h[g]||(h[g]=K.call(c));h=b(h)}ee.apply(c,h),y&&!a&&h.length>0&&m+t.length>1&&n.uniqueSort(c)}return y&&(V=k,E=_),v};return r?a(s):s}function _(e,t,i){for(var a=0,r=t.length;r>a;a++)n(e,t[a],i);return i}function w(e,t,n,i){var a,r,o,s,l,c=p(e);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(o=r[0]).type&&x.getById&&9===t.nodeType&&N&&C.relative[r[1].type]){if(t=(C.find.ID(o.matches[0].replace(xe,Se),t)||[])[0],!t)return n;e=e.slice(r.shift().value.length)}for(a=ge.needsContext.test(e)?0:r.length;a--&&(o=r[a],!C.relative[s=o.type]);)if((l=C.find[s])&&(i=l(o.matches[0].replace(xe,Se),fe.test(r[0].type)&&t.parentNode||t))){if(r.splice(a,1),e=i.length&&f(r),!e)return ee.apply(n,i),n;break}}return A(e,c)(i,t,!N,n,fe.test(e)),n}var k,x,S,C,T,j,A,E,I,P,O,D,N,M,q,L,F,R="sizzle"+-new Date,H=e.document,V=0,B=0,U=i(),z=i(),$=i(),W=!1,Q=function(e,t){return e===t?(W=!0,0):0},G=typeof t,J=1<<31,X={}.hasOwnProperty,Y=[],K=Y.pop,Z=Y.push,ee=Y.push,te=Y.slice,ne=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ae="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=re.replace("w","w#"),se="\\["+ae+"*("+re+")"+ae+"*(?:([*^$|!~]?=)"+ae+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+oe+")|)|)"+ae+"*\\]",le=":("+re+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ae+"+$","g"),de=RegExp("^"+ae+"*,"+ae+"*"),pe=RegExp("^"+ae+"*([>+~]|"+ae+")"+ae+"*"),fe=RegExp(ae+"*[+~]"),he=RegExp("="+ae+"*([^\\]'\"]*)"+ae+"*\\]","g"),me=RegExp(le),be=RegExp("^"+oe+"$"),ge={ID:RegExp("^#("+re+")"),CLASS:RegExp("^\\.("+re+")"),TAG:RegExp("^("+re.replace("w","w*")+")"),ATTR:RegExp("^"+se),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ae+"*(even|odd|(([+-]|)(\\d*)n|)"+ae+"*(?:([+-]|)"+ae+"*(\\d+)|))"+ae+"*\\)|)","i"),bool:RegExp("^(?:"+ie+")$","i"),needsContext:RegExp("^"+ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ae+"*((?:-\\d)?\\d*)"+ae+"*\\)|)(?=[^-]|$)","i")},ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,ke=/'|\\/g,xe=RegExp("\\\\([\\da-f]{1,6}"+ae+"?|("+ae+")|.)","ig"),Se=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{ee.apply(Y=te.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType}catch(Ce){ee={apply:Y.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}j=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=n.support={},P=n.setDocument=function(e){var n=e?e.ownerDocument||e:H,i=n.defaultView;return n!==O&&9===n.nodeType&&n.documentElement?(O=n,D=n.documentElement,N=!j(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){P()}),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=r(function(e){return D.appendChild(e).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),x.getById?(C.find.ID=function(e,t){if(typeof t.getElementById!==G&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xe,Se);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xe,Se);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==G?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],a=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[a++];)1===n.nodeType&&i.push(n);return i}return r},C.find.CLASS=x.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==G&&N?n.getElementsByClassName(e):t},q=[],M=[],(x.qsa=ve.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+ae+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+ae+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(x.matchesSelector=ve.test(L=D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(e){x.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),q.push("!=",le)}),M=M.length&&RegExp(M.join("|")),q=q.length&&RegExp(q.join("|")),F=ve.test(D.contains)||D.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Q=D.compareDocumentPosition?function(e,t){if(e===t)return W=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||F(H,e)?-1:t===n||F(H,t)?1:I?ne.call(I,e)-ne.call(I,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,a=0,r=e.parentNode,o=t.parentNode,l=[e],c=[t];if(e===t)return W=!0,0;if(!r||!o)return e===n?-1:t===n?1:r?-1:o?1:I?ne.call(I,e)-ne.call(I,t):0;if(r===o)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[a]===c[a];)a++;return a?s(l[a],c[a]):l[a]===H?-1:c[a]===H?1:0},n):O},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==O&&P(e),t=t.replace(he,"='$1']"),!(!x.matchesSelector||!N||q&&q.test(t)||M&&M.test(t)))try{var i=L.call(e,t);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(a){}return n(t,O,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==O&&P(e),F(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==O&&P(e);var i=C.attrHandle[n.toLowerCase()],a=i&&X.call(C.attrHandle,n.toLowerCase())?i(e,n,!N):t;return a===t?x.attributes||!N?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,a=0;if(W=!x.detectDuplicates,I=!x.sortStable&&e.slice(0),e.sort(Q),W){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return e},T=n.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},C=n.selectors={cacheLength:50,createPseudo:a,match:ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Se),e[3]=(e[4]||e[5]||"").replace(xe,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return ge.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&me.test(i)&&(n=p(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=RegExp("(^|"+ae+")"+e+"("+ae+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(a){var r=n.attr(a,e);return null==r?"!="===t:t?(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t?r===i||r.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,a){var r="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,f,h,m=r!==o?"nextSibling":"previousSibling",b=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(b){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[o?b.firstChild:b.lastChild],o&&v){for(u=b[R]||(b[R]={}),c=u[e]||[],f=c[0]===V&&c[1],p=c[0]===V&&c[2],d=f&&b.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[V,f,p];break}}else if(v&&(c=(t[R]||(t[R]={}))[e])&&c[0]===V)p=c[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++p||(v&&((d[R]||(d[R]={}))[e]=[V,p]),d!==t)););return p-=a,p===i||0===p%i&&p/i>=0}}},PSEUDO:function(e,t){var i,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[R]?r(t):r.length>1?(i=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var i,a=r(e,t),o=a.length;o--;)i=ne.call(e,a[o]),e[i]=!(n[i]=a[o])}):function(e){return r(e,0,i)}):r}},pseudos:{not:a(function(e){var t=[],n=[],i=A(e.replace(ce,"$1"));return i[R]?a(function(e,t,n,a){for(var r,o=i(e,null,a,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,a,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:a(function(e){return function(t){return n(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:a(function(e){return be.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(xe,Se).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return we.test(e.nodeName)},input:function(e){return _e.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})C.pseudos[k]=c(k);d.prototype=C.filters=C.pseudos,C.setFilters=new d,A=n.compile=function(e,t){var n,i=[],a=[],r=$[e+" "];if(!r){for(t||(t=p(e)),n=t.length;n--;)r=v(t[n]),r[R]?i.push(r):a.push(r);r=$(e,y(a,i))}return r},x.sortStable=R.split("").sort(Q).join("")===R,x.detectDuplicates=W,P(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,n,i){return i?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,n,i){return i||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ie,function(e,n,i){var a;return i?t:(a=e.getAttributeNode(n))&&a.specified?a.value:e[n]===!0?n.toLowerCase():null}),ue.find=n,ue.expr=n.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=n.uniqueSort,ue.text=n.getText,ue.isXMLDoc=n.isXML,ue.contains=n.contains}(e);var Ce={};ue.Callbacks=function(e){e="string"==typeof e?Ce[e]||i(e):ue.extend({},e);var n,a,r,o,s,l,c=[],u=!e.once&&[],d=function(t){for(a=e.memory&&t,r=!0,s=l||0,l=0,o=c.length,n=!0;c&&o>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){a=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):a?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function i(t){ue.each(t,function(t,n){var a=ue.type(n);"function"===a?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==a&&i(n)})}(arguments),n?o=c.length:a&&(l=t,d(a))}return this},remove:function(){return c&&ue.each(arguments,function(e,t){for(var i;(i=ue.inArray(t,c,i))>-1;)c.splice(i,1),n&&(o>=i&&o--,s>=i&&s--)}),this},has:function(e){return e?ue.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=u=a=t,this},disabled:function(){return!c},lock:function(){return u=t,a||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||r&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(n){ue.each(t,function(t,r){var o=r[0],s=ue.isFunction(e[t])&&e[t];a[r[1]](function(){var e=s&&s.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,i):i}},a={};return i.pipe=i.then,ue.each(t,function(e,r){var o=r[2],s=r[3];i[r[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[r[0]]=function(){return a[r[0]+"With"](this===a?i:this,arguments),this},a[r[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,r=re.call(arguments),o=r.length,s=1!==o||e&&ue.isFunction(e.promise)?o:0,l=1===s?e:ue.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?re.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=Array(o),n=Array(o),i=Array(o);o>a;a++)r[a]&&ue.isFunction(r[a].promise)?r[a].promise().done(c(a,i,r)).fail(l.reject).progress(c(a,n,t)):--s;return s||l.resolveWith(i,r),l.promise()}}),ue.support=function(t){var n,i,a,r,o,s,l,c,u,d=X.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;r=X.createElement("select"),s=r.appendChild(X.createElement("option")),a=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!a.value,t.optSelected=s.selected,t.enctype=!!X.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}a=X.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),o=X.createDocumentFragment(),o.appendChild(a),t.appendChecked=a.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ue(t))break;return t.ownLast="0"!==u,ue(function(){var n,i,a,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=X.getElementsByTagName("body")[0];o&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=c&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{
width:"4px"}).width,i=d.appendChild(X.createElement("div")),i.style.cssText=d.style.cssText=r,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==G&&(d.innerHTML="",d.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=d=a=i=null)}),n=r=o=s=i=a=null,t}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,je=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ue.cache[e[ue.expando]]:e[ue.expando],!!e&&!s(e)},data:function(e,t,n){return a(e,t,n)},removeData:function(e,t){return r(e,t)},_data:function(e,t,n){return a(e,t,n,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ue.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ue.fn.extend({data:function(e,n){var i,a,r=null,s=0,l=this[0];if(e===t){if(this.length&&(r=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(i=l.attributes;i.length>s;s++)a=i[s].name,0===a.indexOf("data-")&&(a=ue.camelCase(a.slice(5)),o(l,a,r[a]));ue._data(l,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ue.data(this,e)}):arguments.length>1?this.each(function(){ue.data(this,e,n)}):l?o(l,e,ue.data(l,e)):null},removeData:function(e){return this.each(function(){ue.removeData(this,e)})}}),ue.extend({queue:function(e,n,i){var a;return e?(n=(n||"fx")+"queue",a=ue._data(e,n),i&&(!a||ue.isArray(i)?a=ue._data(e,n,ue.makeArray(i)):a.push(i)),a||[]):t},dequeue:function(e,t){t=t||"fx";var n=ue.queue(e,t),i=n.length,a=n.shift(),r=ue._queueHooks(e,t),o=function(){ue.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete r.stop,a.call(e,o,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ue._data(e,n)||ue._data(e,n,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(e,t+"queue"),ue._removeData(e,n)})})}}),ue.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?ue.queue(this[0],e):n===t?this:this.each(function(){var t=ue.queue(this,e,n);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},delay:function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,a=1,r=ue.Deferred(),o=this,s=this.length,l=function(){--a||r.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=ue._data(o[s],e+"queueHooks"),i&&i.empty&&(a++,i.empty.add(l));return l(),r.promise(n)}});var Ae,Ee,Ie=/[\t\r\n\f]/g,Pe=/\r/g,Oe=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i,Ne=/^(?:checked|selected)$/i,Me=ue.support.getSetAttribute,qe=ue.support.input;ue.fn.extend({attr:function(e,t){return ue.access(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})},prop:function(e,t){return ue.access(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ue.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,a,r,o=0,s=this.length,l="string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pe)||[];s>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ie," "):" ")){for(r=0;a=t[r++];)0>i.indexOf(" "+a+" ")&&(i+=a+" ");n.className=ue.trim(i)}return this},removeClass:function(e){var t,n,i,a,r,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pe)||[];s>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ie," "):"")){for(r=0;a=t[r++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");n.className=e?ue.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(n){ue(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,a=ue(this),r=e.match(pe)||[];t=r[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===G||"boolean"===n)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ie," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,a,r=this[0];return arguments.length?(a=ue.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=a?e.call(this,n,ue(this).val()):e,null==r?r="":"number"==typeof r?r+="":ue.isArray(r)&&(r=ue.map(r,function(e){return null==e?"":e+""})),i=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))})):r?(i=ue.valHooks[r.type]||ue.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(Pe,""):null==n?"":n)):void 0}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,r="select-one"===e.type||0>a,o=r?null:[],s=r?a+1:i.length,l=0>a?s:r?a:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==a||(ue.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ue.nodeName(n.parentNode,"optgroup"))){if(t=ue(n).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,a=e.options,r=ue.makeArray(t),o=a.length;o--;)i=a[o],(i.selected=ue.inArray(ue(i).val(),r)>=0)&&(n=!0);return n||(e.selectedIndex=-1),r}}},attr:function(e,n,i){var a,r,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===G?ue.prop(e,n,i):(1===o&&ue.isXMLDoc(e)||(n=n.toLowerCase(),a=ue.attrHooks[n]||(ue.expr.match.bool.test(n)?Ee:Ae)),i===t?a&&"get"in a&&null!==(r=a.get(e,n))?r:(r=ue.find.attr(e,n),null==r?t:r):null!==i?a&&"set"in a&&(r=a.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):(ue.removeAttr(e,n),t)):void 0},removeAttr:function(e,t){var n,i,a=0,r=t&&t.match(pe);if(r&&1===e.nodeType)for(;n=r[a++];)i=ue.propFix[n]||n,ue.expr.match.bool.test(n)?qe&&Me||!Ne.test(n)?e[i]=!1:e[ue.camelCase("default-"+n)]=e[i]=!1:ue.attr(e,n,""),e.removeAttribute(Me?n:i)},attrHooks:{type:{set:function(e,t){if(!ue.support.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var a,r,o,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(o=1!==s||!ue.isXMLDoc(e),o&&(n=ue.propFix[n]||n,r=ue.propHooks[n]),i!==t?r&&"set"in r&&(a=r.set(e,i,n))!==t?a:e[n]=i:r&&"get"in r&&null!==(a=r.get(e,n))?a:e[n]):void 0},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):Oe.test(e.nodeName)||De.test(e.nodeName)&&e.href?0:-1}}}}),Ee={set:function(e,t,n){return t===!1?ue.removeAttr(e,n):qe&&Me||!Ne.test(n)?e.setAttribute(!Me&&ue.propFix[n]||n,n):e[ue.camelCase("default-"+n)]=e[n]=!0,n}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ue.expr.attrHandle[n]||ue.find.attr;ue.expr.attrHandle[n]=qe&&Me||!Ne.test(n)?function(e,n,a){var r=ue.expr.attrHandle[n],o=a?t:(ue.expr.attrHandle[n]=t)!=i(e,n,a)?n.toLowerCase():null;return ue.expr.attrHandle[n]=r,o}:function(e,n,i){return i?t:e[ue.camelCase("default-"+n)]?n.toLowerCase():null}}),qe&&Me||(ue.attrHooks.value={set:function(e,n,i){return ue.nodeName(e,"input")?(e.defaultValue=n,t):Ae&&Ae.set(e,n,i)}}),Me||(Ae={set:function(e,n,i){var a=e.getAttributeNode(i);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(i)),a.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(e,n,i){var a;return i?t:(a=e.getAttributeNode(n))&&""!==a.value?a.value:null},ue.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:Ae.set},ue.attrHooks.contenteditable={set:function(e,t,n){Ae.set(e,""===t?!1:t,n)}},ue.each(["width","height"],function(e,n){ue.attrHooks[n]={set:function(e,i){return""===i?(e.setAttribute(n,"auto"),i):t}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(e,t){ue.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,n){return ue.isArray(n)?e.checked=ue.inArray(ue(e).val(),n)>=0:t}},ue.support.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Le=/^(?:input|select|textarea)$/i,Fe=/^key/,Re=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Ve=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(e,n,i,a,r){var o,s,l,c,u,d,p,f,h,m,b,g=ue._data(e);if(g){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=ue.guid++),(s=g.events)||(s=g.events={}),(d=g.handle)||(d=g.handle=function(e){return typeof ue===G||e&&ue.event.triggered===e.type?t:ue.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(pe)||[""],l=n.length;l--;)o=Ve.exec(n[l])||[],h=b=o[1],m=(o[2]||"").split(".").sort(),h&&(u=ue.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=ue.event.special[h]||{},p=ue.extend({type:h,origType:b,data:a,handler:i,guid:i.guid,selector:r,needsContext:r&&ue.expr.match.needsContext.test(r),namespace:m.join(".")},c),(f=s[h])||(f=s[h]=[],f.delegateCount=0,u.setup&&u.setup.call(e,a,m,d)!==!1||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on"+h,d))),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,p):f.push(p),ue.event.global[h]=!0);e=null}},remove:function(e,t,n,i,a){var r,o,s,l,c,u,d,p,f,h,m,b=ue.hasData(e)&&ue._data(e);if(b&&(u=b.events)){for(t=(t||"").match(pe)||[""],c=t.length;c--;)if(s=Ve.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=ue.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=u[f]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)o=p[r],!a&&m!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(p.splice(r,1),o.selector&&p.delegateCount--,d.remove&&d.remove.call(e,o));l&&!p.length&&(d.teardown&&d.teardown.call(e,h,b.handle)!==!1||ue.removeEvent(e,f,b.handle),delete u[f])}else for(f in u)ue.event.remove(e,f+t[c],n,i,!0);ue.isEmptyObject(u)&&(delete b.handle,ue._removeData(e,"events"))}},trigger:function(n,i,a,r){var o,s,l,c,u,d,p,f=[a||X],h=le.call(n,"type")?n.type:n,m=le.call(n,"namespace")?n.namespace.split("."):[];if(l=d=a=a||X,3!==a.nodeType&&8!==a.nodeType&&!He.test(h+ue.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),s=0>h.indexOf(":")&&"on"+h,n=n[ue.expando]?n:new ue.Event(h,"object"==typeof n&&n),n.isTrigger=r?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=a),i=null==i?[n]:ue.makeArray(i,[n]),u=ue.event.special[h]||{},r||!u.trigger||u.trigger.apply(a,i)!==!1)){if(!r&&!u.noBubble&&!ue.isWindow(a)){for(c=u.delegateType||h,He.test(c+h)||(l=l.parentNode);l;l=l.parentNode)f.push(l),d=l;d===(a.ownerDocument||X)&&f.push(d.defaultView||d.parentWindow||e)}for(p=0;(l=f[p++])&&!n.isPropagationStopped();)n.type=p>1?c:u.bindType||h,o=(ue._data(l,"events")||{})[n.type]&&ue._data(l,"handle"),o&&o.apply(l,i),o=s&&l[s],o&&ue.acceptData(l)&&o.apply&&o.apply(l,i)===!1&&n.preventDefault();if(n.type=h,!r&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(f.pop(),i)===!1)&&ue.acceptData(a)&&s&&a[h]&&!ue.isWindow(a)){d=a[s],d&&(a[s]=null),ue.event.triggered=h;try{a[h]()}catch(b){}ue.event.triggered=t,d&&(a[s]=d)}return n.result}},dispatch:function(e){e=ue.event.fix(e);var n,i,a,r,o,s=[],l=re.call(arguments),c=(ue._data(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ue.event.handlers.call(this,e,c),n=0;(r=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(a=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((ue.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,a,r,o,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],o=0;l>o;o++)a=n[o],i=a.selector+" ",r[i]===t&&(r[i]=a.needsContext?ue(i,this).index(c)>=0:ue.find(i,this,null,[c]).length),r[i]&&r.push(a);r.length&&s.push({elem:c,handlers:r})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[ue.expando])return e;var t,n,i,a=e.type,r=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=Re.test(a)?this.mouseHooks:Fe.test(a)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new ue.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,a,r,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(a=e.target.ownerDocument||X,r=a.documentElement,i=a.body,e.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=ue.extend(new ue.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ue.event.trigger(a,null,t):ue.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},ue.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===G&&(e[i]=null),e.detachEvent(i,n))},ue.Event=function(e,n){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,n&&ue.extend(this,n),this.timeStamp=e&&e.timeStamp||ue.now(),this[ue.expando]=!0,t):new ue.Event(e,n)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,r=e.handleObj;return(!a||a!==i&&!ue.contains(i,a))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:(ue.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ue.nodeName(n,"input")||ue.nodeName(n,"button")?n.form:t;i&&!ue._data(i,"submitBubbles")&&(ue.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ue._data(i,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ue.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:(ue.event.remove(this,"._submit"),t)}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,e,!0)})),!1):(ue.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ue._data(t,"changeBubbles")&&(ue.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ue.event.simulate("change",this.parentNode,e,!0)}),ue._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return ue.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ue.event.simulate(t,e.target,ue.event.fix(e),!0)};ue.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,i,!0)},teardown:function(){0===--n&&X.removeEventListener(e,i,!0)}}}),ue.fn.extend({on:function(e,n,i,a,r){var o,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(o in e)this.on(o,n,i,e[o],r);return this}if(null==i&&null==a?(a=n,i=n=t):null==a&&("string"==typeof n?(a=i,i=t):(a=i,i=n,n=t)),a===!1)a=c;else if(!a)return this;return 1===r&&(s=a,a=function(e){return ue().off(e),s.apply(this,arguments)},a.guid=s.guid||(s.guid=ue.guid++)),this.each(function(){ue.event.add(this,e,a,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var a,r;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,ue(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){ue.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?ue.event.trigger(e,n,i,!0):t}});var Be=/^.[^:#\[\.,]*$/,Ue=/^(?:parents|prev(?:Until|All))/,ze=ue.expr.match.needsContext,$e={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(e){var t,n=[],i=this,a=i.length;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;a>t;t++)if(ue.contains(i[t],this))return!0}));for(t=0;a>t;t++)ue.find(e,i[t],n);return n=this.pushStack(a>1?ue.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ue(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ue.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(p(this,e||[],!0))},filter:function(e){return this.pushStack(p(this,e||[],!1))},is:function(e){return!!p(this,"string"==typeof e&&ze.test(e)?ue(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,a=this.length,r=[],o=ze.test(e)||"string"!=typeof e?ue(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(o?o.index(n)>-1:1===n.nodeType&&ue.find.matchesSelector(n,e))){n=r.push(n);break}return this.pushStack(r.length>1?ue.unique(r):r)},index:function(e){return e?"string"==typeof e?ue.inArray(this[0],ue(e)):ue.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ue(e,t):ue.makeArray(e&&e.nodeType?[e]:e),i=ue.merge(this.get(),n);return this.pushStack(ue.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ue.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ue.dir(e,"nextSibling")},prevAll:function(e){return ue.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ue.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ue.dir(e,"previousSibling",n)},siblings:function(e){return ue.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ue.sibling(e.firstChild)},contents:function(e){return ue.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(n,i){var a=ue.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=ue.filter(i,a)),this.length>1&&($e[e]||(a=ue.unique(a)),Ue.test(e)&&(a=a.reverse())),this.pushStack(a)}}),ue.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ue.find.matchesSelector(i,e)?[i]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var a=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!ue(r).is(i));)1===r.nodeType&&a.push(r),r=r[n];return a},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qe=/ jQuery\d+="(?:null|\d+)"/g,Ge=RegExp("<(?:"+We+")[\\s/>]","i"),Je=/^\s+/,Xe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ye=/<([\w:]+)/,Ke=/<tbody/i,Ze=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^$|\/(?:java|ecma)script/i,at=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ot={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},st=f(X),lt=st.appendChild(X.createElement("div"));ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,ue.fn.extend({text:function(e){return ue.access(this,function(e){return e===t?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ue.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||ue.cleanData(_(n)),n.parentNode&&(t&&ue.contains(n.ownerDocument,n)&&g(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ue.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ue.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return ue.access(this,function(e){var n=this[0]||{},i=0,a=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Qe,""):t;if(!("string"!=typeof e||et.test(e)||!ue.support.htmlSerialize&&Ge.test(e)||!ue.support.leadingWhitespace&&Je.test(e)||ot[(Ye.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Xe,"<$1></$2>");try{for(;a>i;i++)n=this[i]||{},1===n.nodeType&&(ue.cleanData(_(n,!1)),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ue.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],a=e[t++];a&&(i&&i.parentNode!==a&&(i=this.nextSibling),ue(this).remove(),a.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=ie.apply([],e);var i,a,r,o,s,l,c=0,u=this.length,d=this,p=u-1,f=e[0],h=ue.isFunction(f);if(h||!(1>=u||"string"!=typeof f||ue.support.checkClone)&&nt.test(f))return this.each(function(i){var a=d.eq(i);h&&(e[0]=f.call(this,i,a.html())),a.domManip(e,t,n)});if(u&&(l=ue.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(o=ue.map(_(l,"script"),m),r=o.length;u>c;c++)a=l,c!==p&&(a=ue.clone(a,!0,!0),r&&ue.merge(o,_(a,"script"))),t.call(this[c],a,c);if(r)for(s=o[o.length-1].ownerDocument,ue.map(o,b),c=0;r>c;c++)a=o[c],it.test(a.type||"")&&!ue._data(a,"globalEval")&&ue.contains(s,a)&&(a.src?ue._evalUrl(a.src):ue.globalEval((a.text||a.textContent||a.innerHTML||"").replace(rt,"")));l=i=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var n,i=0,a=[],r=ue(e),o=r.length-1;o>=i;i++)n=i===o?this:this.clone(!0),ue(r[i])[t](n),ae.apply(a,n.get());return this.pushStack(a)}}),ue.extend({clone:function(e,t,n){var i,a,r,o,s,l=ue.contains(e.ownerDocument,e);if(ue.support.html5Clone||ue.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(r=lt.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(i=_(r),s=_(e),o=0;null!=(a=s[o]);++o)i[o]&&y(a,i[o]);if(t)if(n)for(s=s||_(e),i=i||_(r),o=0;null!=(a=s[o]);o++)v(a,i[o]);else v(e,r);return i=_(r,"script"),i.length>0&&g(i,!l&&_(e,"script")),i=s=a=null,r},buildFragment:function(e,t,n,i){for(var a,r,o,s,l,c,u,d=e.length,p=f(t),h=[],m=0;d>m;m++)if(r=e[m],r||0===r)if("object"===ue.type(r))ue.merge(h,r.nodeType?[r]:r);else if(Ze.test(r)){for(s=s||p.appendChild(t.createElement("div")),l=(Ye.exec(r)||["",""])[1].toLowerCase(),u=ot[l]||ot._default,s.innerHTML=u[1]+r.replace(Xe,"<$1></$2>")+u[2],a=u[0];a--;)s=s.lastChild;if(!ue.support.leadingWhitespace&&Je.test(r)&&h.push(t.createTextNode(Je.exec(r)[0])),!ue.support.tbody)for(r="table"!==l||Ke.test(r)?"<table>"!==u[1]||Ke.test(r)?0:s:s.firstChild,a=r&&r.childNodes.length;a--;)ue.nodeName(c=r.childNodes[a],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(ue.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(r));for(s&&p.removeChild(s),ue.support.appendChecked||ue.grep(_(h,"input"),w),m=0;r=h[m++];)if((!i||-1===ue.inArray(r,i))&&(o=ue.contains(r.ownerDocument,r),s=_(p.appendChild(r),"script"),o&&g(s),n))for(a=0;r=s[a++];)it.test(r.type||"")&&n.push(r);return s=null,p},cleanData:function(e,t){for(var n,i,a,r,o=0,s=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(n=e[o]);o++)if((t||ue.acceptData(n))&&(a=n[s],r=a&&l[a])){if(r.events)for(i in r.events)u[i]?ue.event.remove(n,i):ue.removeEvent(n,i,r.handle);l[a]&&(delete l[a],c?delete n[s]:typeof n.removeAttribute!==G?n.removeAttribute(s):n[s]=null,te.push(a))}},_evalUrl:function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(e){if(ue.isFunction(e))return this.each(function(t){ue(this).wrapAll(e.call(this,t))});if(this[0]){var t=ue(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(n){ue(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var ct,ut,dt,pt=/alpha\([^)]*\)/i,ft=/opacity\s*=\s*([^)]*)/,ht=/^(top|right|bottom|left)$/,mt=/^(none|table(?!-c[ea]).+)/,bt=/^margin/,gt=RegExp("^("+de+")(.*)$","i"),vt=RegExp("^("+de+")(?!px)[a-z%]+$","i"),yt=RegExp("^([+-])=("+de+")","i"),_t={BODY:"block"},wt={position:"absolute",visibility:"hidden",display:"block"},kt={letterSpacing:0,fontWeight:400},xt=["Top","Right","Bottom","Left"],St=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(e,n){return ue.access(this,function(e,n,i){var a,r,o={},s=0;if(ue.isArray(n)){for(r=ut(e),a=n.length;a>s;s++)o[n[s]]=ue.css(e,n[s],!1,r);return o}return i!==t?ue.style(e,n,i):ue.css(e,n)},e,n,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){x(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=dt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,l=ue.camelCase(n),c=e.style;if(n=ue.cssProps[l]||(ue.cssProps[l]=k(c,l)),s=ue.cssHooks[n]||ue.cssHooks[l],i===t)return s&&"get"in s&&(r=s.get(e,!1,a))!==t?r:c[n];if(o=typeof i,"string"===o&&(r=yt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(ue.css(e,n)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||ue.cssNumber[l]||(i+="px"),ue.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),
s&&"set"in s&&(i=s.set(e,i,a))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,a){var r,o,s,l=ue.camelCase(n);return n=ue.cssProps[l]||(ue.cssProps[l]=k(e.style,l)),s=ue.cssHooks[n]||ue.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,i)),o===t&&(o=dt(e,n,a)),"normal"===o&&n in kt&&(o=kt[n]),""===i||i?(r=parseFloat(o),i===!0||ue.isNumeric(r)?r||0:o):o}}),e.getComputedStyle?(ut=function(t){return e.getComputedStyle(t,null)},dt=function(e,n,i){var a,r,o,s=i||ut(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||ue.contains(e.ownerDocument,e)||(l=ue.style(e,n)),vt.test(l)&&bt.test(n)&&(a=c.width,r=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=a,c.minWidth=r,c.maxWidth=o)),l}):X.documentElement.currentStyle&&(ut=function(e){return e.currentStyle},dt=function(e,n,i){var a,r,o,s=i||ut(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),vt.test(l)&&!ht.test(n)&&(a=c.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=a,o&&(r.left=o)),""===l?"auto":l}),ue.each(["height","width"],function(e,n){ue.cssHooks[n]={get:function(e,i,a){return i?0===e.offsetWidth&&mt.test(ue.css(e,"display"))?ue.swap(e,wt,function(){return j(e,n,a)}):j(e,n,a):t},set:function(e,t,i){var a=i&&ut(e);return C(e,t,i?T(e,n,i,ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,a),a):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(e,t){return ft.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,a=ue.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ue.trim(r.replace(pt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pt.test(r)?r.replace(pt,a):r+" "+a)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(e,n){return n?ue.swap(e,{display:"inline-block"},dt,[e,"marginRight"]):t}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(e,n){ue.cssHooks[n]={get:function(e,i){return i?(i=dt(e,n),vt.test(i)?ue(e).position()[n]+"px":i):t}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!ue.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ue.css(e,"display"))},ue.expr.filters.visible=function(e){return!ue.expr.filters.hidden(e)}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(n){for(var i=0,a={},r="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+xt[i]+t]=r[i]||r[i-2]||r[0];return a}},bt.test(e)||(ue.cssHooks[e+t].set=C)});var Ct=/%20/g,Tt=/\[\]$/,jt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&Et.test(this.nodeName)&&!At.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var n=ue(this).val();return null==n?null:ue.isArray(n)?ue.map(n,function(e){return{name:t.name,value:e.replace(jt,"\r\n")}}):{name:t.name,value:n.replace(jt,"\r\n")}}).get()}}),ue.param=function(e,n){var i,a=[],r=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){r(this.name,this.value)});else for(i in e)I(i,e[i],n,r);return a.join("&").replace(Ct,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var It,Pt,Ot=ue.now(),Dt=/\?/,Nt=/#.*$/,Mt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,Rt=/^\/\//,Ht=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Vt=ue.fn.load,Bt={},Ut={},zt="*/".concat("*");try{Pt=J.href}catch($t){Pt=X.createElement("a"),Pt.href="",Pt=Pt.href}It=Ht.exec(Pt.toLowerCase())||[],ue.fn.load=function(e,n,i){if("string"!=typeof e&&Vt)return Vt.apply(this,arguments);var a,r,o,s=this,l=e.indexOf(" ");return l>=0&&(a=e.slice(l,e.length),e=e.slice(0,l)),ue.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&ue.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){r=arguments,s.html(a?ue("<div>").append(ue.parseHTML(e)).find(a):e)}).complete(i&&function(e,t){s.each(i,r||[e.responseText,t,e])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt,type:"GET",isLocal:Lt.test(It[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,ue.ajaxSettings),t):D(ue.ajaxSettings,e)},ajaxPrefilter:P(Bt),ajaxTransport:P(Ut),ajax:function(e,n){function i(e,n,i,a){var r,d,v,y,w,x=n;2!==_&&(_=2,l&&clearTimeout(l),u=t,s=a||"",k.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(y=N(p,k,i)),y=M(p,y,k,r),r?(p.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(ue.lastModified[o]=w),w=k.getResponseHeader("etag"),w&&(ue.etag[o]=w)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=y.state,d=y.data,v=y.error,r=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),k.status=e,k.statusText=(n||x)+"",r?m.resolveWith(f,[d,x,k]):m.rejectWith(f,[k,x,v]),k.statusCode(g),g=t,c&&h.trigger(r?"ajaxSuccess":"ajaxError",[k,p,r?d:v]),b.fireWith(f,[k,x]),c&&(h.trigger("ajaxComplete",[k,p]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var a,r,o,s,l,c,u,d,p=ue.ajaxSetup({},n),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?ue(f):ue.event,m=ue.Deferred(),b=ue.Callbacks("once memory"),g=p.statusCode||{},v={},y={},_=0,w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!d)for(d={};t=qt.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return _||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)g[t]=[g[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),i(0,t),this}};if(m.promise(k).complete=b.add,k.success=k.done,k.error=k.fail,p.url=((e||p.url||Pt)+"").replace(Nt,"").replace(Rt,It[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ue.trim(p.dataType||"*").toLowerCase().match(pe)||[""],null==p.crossDomain&&(a=Ht.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===It[1]&&a[2]===It[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(It[3]||("http:"===It[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ue.param(p.data,p.traditional)),O(Bt,p,n,k),2===_)return k;c=p.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ft.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Dt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Mt.test(o)?o.replace(Mt,"$1_="+Ot++):o+(Dt.test(o)?"&":"?")+"_="+Ot++)),p.ifModified&&(ue.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ue.lastModified[o]),ue.etag[o]&&k.setRequestHeader("If-None-Match",ue.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]);for(r in p.headers)k.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(p.beforeSend.call(f,k,p)===!1||2===_))return k.abort();w="abort";for(r in{success:1,error:1,complete:1})k[r](p[r]);if(u=O(Ut,p,n,k)){k.readyState=1,c&&h.trigger("ajaxSend",[k,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},p.timeout));try{_=1,u.send(v,i)}catch(x){if(!(2>_))throw x;i(-1,x)}}else i(-1,"No Transport");return k},getJSON:function(e,t,n){return ue.get(e,t,n,"json")},getScript:function(e,n){return ue.get(e,t,n,"script")}}),ue.each(["get","post"],function(e,n){ue[n]=function(e,i,a,r){return ue.isFunction(i)&&(r=r||a,a=i,i=t),ue.ajax({url:e,type:n,dataType:r,data:i,success:a})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=X.head||ue("head")[0]||X.documentElement;return{send:function(t,a){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||a(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Wt=[],Qt=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||ue.expando+"_"+Ot++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(n,i,a){var r,o,s,l=n.jsonp!==!1&&(Qt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=ue.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Qt,"$1"+r):n.jsonp!==!1&&(n.url+=(Dt.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return s||ue.error(r+" was not called"),s[0]},n.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},a.always(function(){e[r]=o,n[r]&&(n.jsonpCallback=i.jsonpCallback,Wt.push(r)),s&&ue.isFunction(o)&&o(s[0]),s=o=t}),"script"):t});var Gt,Jt,Xt=0,Yt=e.ActiveXObject&&function(){var e;for(e in Gt)Gt[e](t,!0)};ue.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&q()||L()}:q,Jt=ue.ajaxSettings.xhr(),ue.support.cors=!!Jt&&"withCredentials"in Jt,Jt=ue.support.ajax=!!Jt,Jt&&ue.ajaxTransport(function(n){if(!n.crossDomain||ue.support.cors){var i;return{send:function(a,r){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(s in a)l.setRequestHeader(s,a[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,a){var s,c,u,d;try{if(i&&(a||4===l.readyState))if(i=t,o&&(l.onreadystatechange=ue.noop,Yt&&delete Gt[o]),a)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(p){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(f){a||r(-1,f)}d&&r(s,u,d,c)},n.async?4===l.readyState?setTimeout(i):(o=++Xt,Yt&&(Gt||(Gt={},ue(e).unload(Yt)),Gt[o]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Kt,Zt,en=/^(?:toggle|show|hide)$/,tn=RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),nn=/queueHooks$/,an=[B],rn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=tn.exec(t),r=a&&a[3]||(ue.cssNumber[e]?"":"px"),o=(ue.cssNumber[e]||"px"!==r&&+i)&&tn.exec(ue.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==r){r=r||o[3],a=a||[],o=+i||1;do s=s||".5",o/=s,ue.style(n.elem,e,o+r);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return a&&(o=n.start=+o||+i||0,n.unit=r,n.end=a[1]?o+(a[1]+1)*a[2]:+a[2]),n}]};ue.Animation=ue.extend(H,{tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],rn[n]=rn[n]||[],rn[n].unshift(t)},prefilter:function(e,t){t?an.unshift(e):an.push(e)}}),ue.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,a,r){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ue.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.pos=t=this.options.duration?ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ue.cssProps[e.prop]]||ue.cssHooks[e.prop])?ue.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.each(["toggle","show","hide"],function(e,t){var n=ue.fn[t];ue.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(z(t,!0),e,i,a)}}),ue.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=ue.isEmptyObject(e),r=ue.speed(t,n,i),o=function(){var t=H(this,ue.extend({},e),r);(a||ue._data(this,"finish"))&&t.stop(!0)};return o.finish=o,a||r.queue===!1?this.each(o):this.queue(r.queue,o)},stop:function(e,n,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=ue.timers,o=ue._data(this);if(n)o[n]&&o[n].stop&&a(o[n]);else for(n in o)o[n]&&o[n].stop&&nn.test(n)&&a(o[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&ue.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ue._data(this),i=n[e+"queue"],a=n[e+"queueHooks"],r=ue.timers,o=i?i.length:0;for(n.finish=!0,ue.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ue.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ue.speed=function(e,t,n){var i=e&&"object"==typeof e?ue.extend({},e):{complete:n||!n&&t||ue.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ue.isFunction(t)&&t};return i.duration=ue.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ue.fx.speeds?ue.fx.speeds[i.duration]:ue.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ue.isFunction(i.old)&&i.old.call(this),i.queue&&ue.dequeue(this,i.queue)},i},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ue.timers=[],ue.fx=U.prototype.init,ue.fx.tick=function(){var e,n=ue.timers,i=0;for(Kt=ue.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ue.fx.stop(),Kt=t},ue.fx.timer=function(e){e()&&ue.timers.push(e)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){Zt||(Zt=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(Zt),Zt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length}),ue.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var n,i,a={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(n=o.documentElement,ue.contains(n,r)?(typeof r.getBoundingClientRect!==G&&(a=r.getBoundingClientRect()),i=$(o),{top:a.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:a.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):a):void 0},ue.offset={setOffset:function(e,t,n){var i=ue.css(e,"position");"static"===i&&(e.style.position="relative");var a,r,o=ue(e),s=o.offset(),l=ue.css(e,"top"),c=ue.css(e,"left"),u=("absolute"===i||"fixed"===i)&&ue.inArray("auto",[l,c])>-1,d={},p={};u?(p=o.position(),a=p.top,r=p.left):(a=parseFloat(l)||0,r=parseFloat(c)||0),ue.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):o.css(d)}},ue.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ue.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(n=e.offset()),n.top+=ue.css(e[0],"borderTopWidth",!0),n.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ue.css(i,"marginTop",!0),left:t.left-n.left-ue.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Y;e&&!ue.nodeName(e,"html")&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||Y})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ue.fn[e]=function(a){return ue.access(this,function(e,a,r){var o=$(e);return r===t?o?n in o?o[n]:o.document.documentElement[a]:e[a]:(o?o.scrollTo(i?ue(o).scrollLeft():r,i?r:ue(o).scrollTop()):e[a]=r,t)},e,a,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(e,n){ue.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,a){ue.fn[a]=function(a,r){var o=arguments.length&&(i||"boolean"!=typeof a),s=i||(a===!0||r===!0?"margin":"border");return ue.access(this,function(n,i,a){var r;return ue.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):a===t?ue.css(n,i,s):ue.style(n,i,a,s)},n,o?a:t,o,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(e.jQuery=e.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),!function(e){"function"==typeof define&&define.amd?define("libs/jquery-plugins/jquery.cookie",["jquery"],e):e(jQuery)}(function(e){function t(e){return e}function n(e){return decodeURIComponent(e.replace(a," "))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return r.json?JSON.parse(e):e}catch(t){}}var a=/\+/g,r=e.cookie=function(a,o,s){if(void 0!==o){if(s=e.extend({},r.defaults,s),"number"==typeof s.expires){var l=s.expires,c=s.expires=new Date;c.setDate(c.getDate()+l)}return o=r.json?JSON.stringify(o):String(o),document.cookie=[r.raw?a:encodeURIComponent(a),"=",r.raw?o:encodeURIComponent(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var u=r.raw?t:n,d=document.cookie.split("; "),p=a?void 0:{},f=0,h=d.length;h>f;f++){var m=d[f].split("="),b=u(m.shift()),g=u(m.join("="));if(a&&a===b){p=i(g);break}a||(p[b]=i(g))}return p};r.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend({},n,{expires:-1})),!0):!1}}),define("s_code",["jquery","libs/jquery-plugins/jquery.cookie"],function(e,t){function n(e,t,n){var i,a,r,o,s,l='s.version=\'H.27.4\';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function(\'var e;try{console.log("\'+s.rep(s.rep(s.rep(m,"\\\\","\\\\\\\\"),"\\n","\\\\n"),"\\"","\\\\\\"")+\'");}catch(e){}\');tcf()};s.cls=function(x,c){var i,y=\'\';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}retur'+"n y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescape(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){while(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.tagContainerMarker='';s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+(s.tagContainerMarker?\"-\"+s.tagContainerMarker:\"\")+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.alt=\"\";im.s_l=0;im.onload=im.onerror=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='supplementalDataID')q='sdid';else if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='marketingCloudVisitorID')q='mid';else if(k=='analyticsVisitorID')q='aid';else if(k=='audienceManagerLocationHint')q='aamlh';else if(k=='audienceManagerBlob')q='aamb';else if(k=='authState')q='as';else if(k=='pageURL'){q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?'),hi=h.indexOf('#');if(qi>=0){if(hi>=0&&hi<qi)qi=hi;}else qi=hi;h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"click\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLinkTracking&&e.target){a=e.target;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\"A\"&&a.tagName.toUpperCase()!=\"AREA\")a=a.parentNode;if(a){h=a.href;if(h.indexOf(\"#\")==0||h.indexOf(\"about:\")==0||h.indexOf(\"javascript:\")==0)h=0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\"_self\"||t==\"_top\"||t==\"_parent\"||(s.wd.name&&t==s.wd.name))){tcf=new Function(\"s\",\"var x;try{n=s.d.createEvent(\\\\\"MouseEvents\\\\\")}catch(x){n=new MouseEvent}return n\");n=tcf(s);if(n){tcf=new Function(\"n\",\"e\",\"var x;try{n.initMouseEvent(\\\\\"click\\\\\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n\");n=tcf(n,e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediatePropagation) {e.stopImmediatePropagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent)||(s.n.userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo,onlySet){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!onlySet&&!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s._waitingForMarketingCloudVisitorID = false;s._doneWaitingForMarketingCloudVisitorID = false;s._marketingCloudVisitorIDCallback=function(marketingCloudVisitorID) {var s=this;s.marketingCloudVisitorID = marketingCloudVisitorID;s._doneWaitingForMarketingCloudVisitorID = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAnalyticsVisitorID = false;s._doneWaitingForAnalyticsVisitorID = false;s._analyticsVisitorIDCallback=function(analyticsVisitorID) {var s=this;s.analyticsVisitorID = analyticsVisitorID;s._doneWaitingForAnalyticsVisitorID = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerLocationHint = false;s._doneWaitingForAudienceManagerLocationHint = false;s._audienceManagerLocationHintCallback=function(audienceManagerLocationHint) {var s=this;s.audienceManagerLocationHint = audienceManagerLocationHint;s._doneWaitingForAudienceManagerLocationHint = true;s._callbackWhenReadyToTrackCheck();};s._waitingForAudienceManagerBlob = false;s._doneWaitingForAudienceManagerBlob = false;s._audienceManagerBlobCallback=function(audienceManagerBlob) {var s=this;s.audienceManagerBlob = audienceManagerBlob;s._doneWaitingForAudienceManagerBlob = true;s._callbackWhenReadyToTrackCheck();};s.isReadyToTrack=function() {var s=this,readyToTrack = true,visitor = s.visitor;if ((visitor) && (visitor.isAllowed())) {if ((!s._waitingForMarketingCloudVisitorID) && (!s.marketingCloudVisitorID) && (visitor.getMarketingCloudVisitorID)) {s._waitingForMarketingCloudVisitorID = true;s.marketingCloudVisitorID = visitor.getMarketingCloudVisitorID([s,s._marketingCloudVisitorIDCallback]);if (s.marketingCloudVisitorID) {s._doneWaitingForMarketingCloudVisitorID = true;}}if ((!s._waitingForAnalyticsVisitorID) && (!s.analyticsVisitorID) && (visitor.getAnalyticsVisitorID)) {s._waitingForAnalyticsVisitorID = true;s.analyticsVisitorID = visitor.getAnalyticsVisitorID([s,s._analyticsVisitorIDCallback]);if (s.analyticsVisitorID) {s._doneWaitingForAnalyticsVisitorID = true;}}if ((!s._waitingForAudienceManagerLocationHint) && (!s.audienceManagerLocationHint) && (visitor.getAudienceManagerLocationHint)) {s._waitingForAudienceManagerLocationHint = true;s.audienceManagerLocationHint = visitor.getAudienceManagerLocationHint([s,s._audienceManagerLocationHintCallback]);if (s.audienceManagerLocationHint) {s._doneWaitingForAudienceManagerLocationHint = true;}}if ((!s._waitingForAudienceManagerBlob) && (!s.audienceManagerBlob) && (visitor.getAudienceManagerBlob)) {s._waitingForAudienceManagerBlob = true;s.audienceManagerBlob = visitor.getAudienceManagerBlob([s,s._audienceManagerBlobCallback]);if (s.audienceManagerBlob) {s._doneWaitingForAudienceManagerBlob = true;}}if (((s._waitingForMarketingCloudVisitorID)     && (!s._doneWaitingForMarketingCloudVisitorID)     && (!s.marketingCloudVisitorID)) ||((s._waitingForAnalyticsVisitorID)          && (!s._doneWaitingForAnalyticsVisitorID)          && (!s.analyticsVisitorID)) ||((s._waitingForAudienceManagerLocationHint) && (!s._doneWaitingForAudienceManagerLocationHint) && (!s.audienceManagerLocationHint)) ||((s._waitingForAudienceManagerBlob)         && (!s._doneWaitingForAudienceManagerBlob)         && (!s.audienceManagerBlob))) {readyToTrack = false;}}return readyToTrack;};s._callbackWhenReadyToTrackQueue = null;s._callbackWhenReadyToTrackInterval = 0;s.callbackWhenReadyToTrack=function(callbackThis,callback,args) {var s=this,callbackInfo;callbackInfo = {};callbackInfo.callbackThis = callbackThis;callbackInfo.callback     = callback;callbackInfo.args         = args;if (s._callbackWhenReadyToTrackQueue == null) {s._callbackWhenReadyToTrackQueue = [];}s._callbackWhenReadyToTrackQueue.push(callbackInfo);if (s._callbackWhenReadyToTrackInterval == 0) {s._callbackWhenReadyToTrackInterval = setInterval(s._callbackWhenReadyToTrackCheck,100);}};s._callbackWhenReadyToTrackCheck=new Function('var s=s_c_il['+s._in+'],callbackNum,callbackInfo;if (s.isReadyToTrack()) {if (s._callbackWhenReadyToTrackInterval) {clearInterval(s._callbackWhenReadyToTrackInterval);s._callbackWhenReadyToTrackInterval = 0;}if (s._callbackWhenReadyToTrackQueue != null) {while (s._callbackWhenReadyToTrackQueue.length > 0) {callbackInfo = s._callbackWhenReadyToTrackQueue.shift();callbackInfo.callback.apply(callbackInfo.callbackThis,callbackInfo.args);}}}');s._handleNotReadyToTrack=function(variableOverrides) {var s=this,args,varKey,variableOverridesCopy = null,setVariables = null;if (!s.isReadyToTrack()) {args = [];if (variableOverrides != null) {variableOverridesCopy = {};for (varKey in variableOverrides) {variableOverridesCopy[varKey] = variableOverrides[varKey];}}setVariables = {};s.vob(setVariables,true);args.push(variableOverridesCopy);args.push(setVariables);s.callbackWhenReadyToTrack(s,s.track,args);return true;}return false;};s.gfid=function(){var s=this,d='0123456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j=Math.floor(Math.random()*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.track=s.t=function(vo,setVariables){var s=this,notReadyToTrack,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if (s.visitor) {if (s.visitor.getAuthState) {s.authState = s.visitor.getAuthState();}if ((!s.supplementalDataID) && (s.visitor.getSupplementalDataID)) {s.supplementalDataID = s.visitor.getSupplementalDataID(\"AppMeasurement:\" + s._in,(s.expectSupplementalData ? false : true));}}if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();notReadyToTrack = s._handleNotReadyToTrack(vo);if (!notReadyToTrack) {if (setVariables) {s.voa(setVariables);}if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if(!s.analyticsVisitorID&&!s.marketingCloudVisitorID)s.fid=s.gfid();if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);}s.abort=0;s.supplementalDataID=s.pageURLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='supplementalDataID,timestamp,dynamicVariablePrefix,visitorID,marketingCloudVisitorID,analyticsVisitorID,audienceManagerLocationHint,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,audienceManagerBlob,authState,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",c=window,u=c.s_c_il,d=navigator,p=d.userAgent,f=d.appVersion,h=f.indexOf("MSIE "),m=p.indexOf("Netscape6/");
if(e&&(e=e.toLowerCase(),u))for(r=0;2>r;r++)for(a=0;a<u.length;a++)if(s=u[a],o=s._c,(!o||"s_c"==o||r>0&&"s_l"==o)&&(s.oun==e||s.fs&&s.sa&&s.fs(s.oun,e))){if(s.sa&&s.sa(e),"s_c"==o)return s}else s=0;return c.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a"),c.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x"),c.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)"),c.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x"),c.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")"),c.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a"),c.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;"),l=s_d(l),h>0?(i=parseInt(a=f.substring(h+5)),i>3&&(i=parseFloat(a))):i=m>0?parseFloat(p.substring(m+10)):parseFloat(f),(5>i||f.indexOf("Opera")>=0||p.indexOf("Opera")>=0)&&(l=s_ft(l)),s||(s=new Object,c.s_c_in||(c.s_c_il=new Array,c.s_c_in=0),s._il=c.s_c_il,s._in=c.s_c_in,s._il[s._in]=s,c.s_c_in++),s._c="s_c",new Function("s","un","pg","ss",l)(s,e,t,n),s}function i(){var e,t,i,a=window,r=a.s_giq;if(r)for(e=0;e<r.length;e++)t=r[e],i=n(t.oun),i.sa(t.un),i.setTagContainer(t.tagContainerName);a.s_giq=0}var a="wpnislateprod",r=n(a);r.currencyCode="USD",r.trackDownloadLinks=!0,r.trackExternalLinks=!0,r.trackInlineStats=!0,r.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls",r.linkInternalFilters="javascript:,slate.com,traffic.outbrain.com,facebook.com/share,twitter.com/share",r.linkLeaveQueryString=!1,r.linkTrackVars="None",r.linkTrackEvents="None",r.dstStart="03/11/2012",r.dstEnd="11/04/2012",r.visitorNamespace="wpni",r.setCampaign=function(e){r.campaign=e},r.trackCommentOpen=function(e,t){var n=r.events,i=r.linkTrackVars;r.events="event4",r.linkTrackVars="eVar1,eVar2,eVar11,eVar13,eVar17,eVar41,eVar59,eVar60,events",r.linkTrackEvents="event4",r.tl(!0,"o","Open Comment Overlay"),r.events=n,r.linkTrackEvents="none",r.linkTrackVars=i},r.trackSocialShare=function(e,t){var n=r.events,i=r.linkTrackVars;"facebook-like"===e&&(r.eVar36="Facebook top ribbon"),"twitter-follow"===e&&(r.eVar36="Twitter top ribbon"),"facebook-page"===e&&(r.eVar36="Facebook nav bottom"),"twitter-page"===e&&(r.eVar36="Twitter nav bottom"),r.prop36=r.eVar36,r.eVar27=e?e:"NA",r.events+=t?","+t:",event6",r.eVar27=e?e:"NA",r.linkTrackVars="eVar35,eVar36,eVar41,eVar59,eVar60,eVar27,events",r.linkTrackEvents="event6",r.tl(!0,"o","Social Share"),r.events=n,r.linkTrackEvents="none",r.linkTrackVars=i},r.trackCopyShare=function(e,t){var n=r.events,i=r.linkTrackVars;r.events+=t?","+t:",event61",r.eVar34=e?e:"NA",r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,eVar34,events",r.linkTrackEvents="event61",r.tl(!0,"o","Copy Share"),r.events=n,r.linkTrackEvents="none",r.linkTrackVars=i},r.trackComment=function(e,t){var n=r.events,i=r.linkTrackVars;r.events+=t?","+t:",event3",r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,events",r.linkTrackEvents="event3",r.tl(!0,"o","Comment"),r.events=n,r.linkTrackEvents="none",r.linkTrackVars=i},r.trackVideoEvent=function(e,t,n){if(void 0!==t){var i=r.events,a=r.linkTrackVars;r.events=t,r.eVar13=e,r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,eVar13,events",r.linkTrackEvents=t,r.tl(!0,"o",n),r.events=i,r.linkTrackEvents="none",r.linkTrackVars=a}},r.trackSlideShowEvent=function(e,t){if(void 0!==e){var n=r.events,i=r.linkTrackVars;r.events=e,r.linkTrackEvents=e,r.tl(!0,"o",t),r.events=n,r.linkTrackEvents="none",r.linkTrackVars=i}},r.trackRoadBlockShown=function(){var e=r.events,t=r.linkTrackVars;r.events="event31",r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",r.linkTrackEvents="event31",r.tl(!0,"o","RoadBlockShown"),r.events=e,r.linkTrackEvents="none",r.linkTrackVars=t},r.paymentFormShown=function(){var e=r.events,t=r.linkTrackVars;r.events="event35",r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",r.linkTrackEvents="event35",r.tl(!0,"o","PaymentFormShown"),r.events=e,r.linkTrackEvents="none",r.linkTrackVars=t},r.identityFormShown=function(){var e=r.events,t=r.linkTrackVars;r.events="event32",r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",r.linkTrackEvents="event32",r.tl(!0,"o","IdentityFormShown"),r.events=e,r.linkTrackEvents="none",r.linkTrackVars=t},r.trackLogin=function(){var e=r.events,t=r.linkTrackVars;r.events="event33",r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",r.linkTrackEvents="event33",r.tl(!0,"o","IdentityLogin"),r.events=e,r.linkTrackEvents="none",r.linkTrackVars=t},r.trackRegister=function(){var e=r.events,t=r.linkTrackVars;r.events="event34",r.linkTrackVars="eVar36,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",r.linkTrackEvents="event34",r.tl(!0,"o","IdentityRegister"),r.events=e,r.linkTrackEvents="none",r.linkTrackVars=t},r.trackFieldFocus=function(e,t){var n=t+":"+e;r.getAndPersistValue(n,"sp_lastfield",0)},r.trackPodcast=function(e,t,n){var i=r.events,a=r.linkTrackVars,o="undefined"!=typeof n?n:"Datami Podcast Landing Page Sponsored";r.events+=t?","+t:",none","subscribe"==t?r.eVar45=e:"play"==t&&(r.eVar46=e),r.linkTrackVars="eVar35,eVar41,eVar59,eVar60,events",r.linkTrackEvents=t,r.tl(!0,"o",o),r.events=i,r.linkTrackEvents="none",r.linkTrackVars=a},r.trackJanrainOmnitureEvent=function(e){var t=r.events,n=r.linkTrackVars;r.events=e.event,r.linkTrackVars=e.eVars||"eVar36,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",r.linkTrackEvents=e.event,r.tl(!0,"o",e.title),r.events=t,r.linkTrackEvents="none",r.linkTrackVars=n},r.trackEvent=function(e){var t=r.events,n=r.linkTrackVars;r.events=e.eventName,r.linkTrackVars=e.eVars||"eVar36,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",r.linkTrackEvents=e.eventName,r.tl(!0,"o",e.eventTitle),r.events=t,r.linkTrackEvents="none",r.linkTrackVars=n},r.usePlugins=!0;var o=function(t){window.location.host+window.location.pathname,window.location.href.indexOf("wpsrc")>=0?t.campaign=t.getQueryParam("wpsrc"):window.location.href.indexOf("bfsrc")>=0?t.campaign="buzzfeed":document.location.search.match(/GT1=38001/i)&&(t.campaign="msn"),t.getQueryParam("onswipe_redirect")?"no"==t.getQueryParam("onswipe_redirect")?t.eVar3="onswipe_redirect_no":"never"==t.getQueryParam("onswipe_redirect")&&(t.eVar3="onswipe_redirect_never"):t.eVar3=t.getQueryParam("wpisrc"),t.getQueryParam("google_editors_picks")&&(t.prop20="google_news_editors_picks"),t.getQueryParam("fb_ref")&&(t.prop20=t.getQueryParam("fb_ref")),t.getQueryParam("fb_action_types")&&"news.reads"===t.getQueryParam("fb_action_types")&&(t.prop20="sm_fb_social_reading"),document.referrer&&document.referrer.indexOf("google.com/url?sa=z")>-1&&(t.eVar3="google_plus",t.prop20="sm_gp"),t.getQueryParam("tid")&&(t.prop20=t.getQueryParam("tid")),"sm"==t.getQueryParam("utm_medium")&&(t.prop20=t.getQueryParam("utm_medium")+"_"+t.getQueryParam("utm_source")+"_"+t.getQueryParam("utm_campaign")),t.eVar20=t.prop20,("undefined"==typeof t.prop39||""==t.prop39)&&("undefined"==typeof commercialNode||""==commercialNode?t.prop39="N/A":t.prop39=commercialNode),t.called||(t.called=0),t.called++,t.called>1&&(delete t.eVar3,delete t.eVar20,delete t.prop20);var n=t.campaign;t.campaign=t.getValOnce(t.campaign,"ctc",0),""===t.campaign&&(t.campaign=n),t.events?-1==t.events.indexOf("event1")&&(t.events=t.events+",event1"):t.events="event1",t.eVar1=t.pageName,t.eVar2=t.channel,t.hier3=t.getVisitStart("s_visit");var i=t.getValOnce(t.prop6,"ust",0);i&&(t.events=t.events+",event2");var a=t.getQueryParam("reload");document.referrer.indexOf("http://www.slate.com")>-1&&"true"==a&&(t.prop31="site reload",1==t.called&&(t.pageName+=" reload")),t.prop39||("undefined"!=typeof commercialNode&&""!==commercialNode?t.prop39=commercialNode:t.prop39="Missing commercial node");try{t.prop18=t.getNewRepeat()}catch(r){t.prop18="nocategory"}t.prop17=t.getDaysSinceLastVisit("s_lv"),t.prop17=t.getAndPersistValue(t.prop17,"s_dslv",0),t.eVar14=t.prop18,t.eVar15=t.prop17;try{t.eVar16=t.getVisitNum("m","s_vmonthnum","s_monthinvisit")}catch(r){t.eVar16="nocategory"}var o=(new Date).getFullYear()+"";t.prop8=t.getTimeParting("d","-5",o),t.prop9=t.getTimeParting("h","-5",o),t.prop10=t.getTimeParting("w","-5",o);var s=t.prop3,l=t.c_r("s_wp_ep");!l&&s&&(t.c_w("s_wp_ep",s,0),t.eVar18=s);var c=t.getPreviousPage();if(t.prop29=c,t._referrer=t._2referrer=t.referrer?t.referrer:document.referrer,t._referrer||(t._referrer=t._2referrer=t._entry="Direct-Load"),t._referrer)for(t._referrer=t._referrer.indexOf("?")>-1?t._referrer.substring("0",t._referrer.indexOf("?")):t._referrer,t._urlCheck=t.split(t.linkInternalFilters,","),t._urlCheckLength=t._urlCheck.length-1,t._for=0;t._for<=t._urlCheckLength;t._for++)t._urlReferrer=t._referrer.indexOf(t._urlCheck[t._for])>-1?"1":"0","1"==t._urlReferrer&&(t._entry="0");"0"!=t._entry&&(t._referrerPass=t._2referrer,t._referrerPass=t.getValOnce(t._referrerPass,"s._ref",0),t._referrerPass&&(t.events=t.apl(t.events,"event20",",",2))),t.eVar41=t.prop41=e.cookie("mc_eid"),t.eVar59=t.prop59=e.cookie("wapo_vis_id");var u=e.cookie("wapo_login_id");t.eVar60=t.prop60=u,t.eVar55=t.prop55=e.cookie("s_segs");var d=e.data(window,"MySlateData");if(d){var p,f,h;p="string"==typeof u&&u.length>0?"y":"n",f="n",h="na",d.isSlatePlusUser&&(f="y",h="sf"==d.slatePlusType||"ef"==d.slatePlusType?"f":d.slatePlusType),t.eVar35=t.prop35=p+":"+f+":"+h}t.eVar36=t.prop36};return r.doPlugins=o,r.getQueryParam=new Function("p","d","u","h","var s=this,v='',i,j,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.location);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+'',h);if(t){t=t.indexOf('#')>-1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v"),r.p_gpv=new Function("k","u","h","var s=this,v='',q;j=h==1?'#':'?';i=u.indexOf(j);if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v"),r.p_gvf=new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return''"),r.getValOnce=new Function("v","c","e","var s=this,a=new Date,v=v?v:v='',c=c?c:c='s_gvo',e=e?e:0,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*86400000);s.c_w(c,v,e?a:0);}return v==k?'':v"),r.getVisitStart=new Function("c","var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);if(s.c_r(c)){v=0}if(!s.c_w(c,1,t)){s.c_w(c,1,0)}if(!s.c_r(c)){v=0}return v;"),r.getVisitNum=new Function("tp","c","c2","var s=this,e=new Date,cval,cvisit,ct=e.getTime(),d;if(!tp){tp='m';}if(tp=='m'||tp=='w'||tp=='d'){eo=s.endof(tp),y=eo.getTime();e.setTime(y);}else {d=tp*86400000;e.setTime(ct+d);}if(!c){c='s_vnum';}if(!c2){c2='s_invisit';}cval=s.c_r(c);if(cval){var i=cval.indexOf('&vn='),str=cval.substring(i+4,cval.length),k;}cvisit=s.c_r(c2);if(cvisit){if(str){e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {return 'unknown visit number';}}else {if(str){str++;k=cval.substring(0,i);e.setTime(k);s.c_w(c,k+'&vn='+str,e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return str;}else {s.c_w(c,e.getTime()+'&vn=1',e);e.setTime(ct+1800000);s.c_w(c2,'true',e);return 1;}}"),r.dimo=new Function("m","y","var d=new Date(y,m+1,0);return d.getDate();"),r.endof=new Function("x","var t=new Date;t.setHours(0);t.setMinutes(0);t.setSeconds(0);if(x=='m'){d=s.dimo(t.getMonth(),t.getFullYear())-t.getDate()+1;}else if(x=='w'){d=7-t.getDay();}else {d=1;}t.setDate(t.getDate()+d);return t;"),r.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),r.apl=new Function("L","v","d","u","var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a.length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCase()));}}if(!m)L=L?L+d+v:v;return L"),r.getAndPersistValue=new Function("v","c","e","var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if(v)s.c_w(c,v,e?a:0);return s.c_r(c);"),r.getDaysSinceLastVisit=new Function("c","var s=this,e=new Date(),es=new Date(),cval,cval_s,cval_ss,ct=e.getTime(),day=24*60*60*1000,f1,f2,f3,f4,f5;e.setTime(ct+3*365*day);es.setTime(ct+30*60*1000);f0='Cookies Not Supported';f1='First Visit';f2='More than 30 days';f3='More than 7 days';f4='Less than 7 days';f5='Less than 1 day';cval=s.c_r(c);if(cval.length==0){s.c_w(c,ct,e);s.c_w(c+'_s',f1,es);}else{var d=ct-cval;if(d>30*60*1000){if(d>30*day){s.c_w(c,ct,e);s.c_w(c+'_s',f2,es);}else if(d<30*day+1 && d>7*day){s.c_w(c,ct,e);s.c_w(c+'_s',f3,es);}else if(d<7*day+1 && d>day){s.c_w(c,ct,e);s.c_w(c+'_s',f4,es);}else if(d<day+1){s.c_w(c,ct,e);s.c_w(c+'_s',f5,es);}}else{s.c_w(c,ct,e);cval_ss=s.c_r(c+'_s');s.c_w(c+'_s',cval_ss,es);}}cval_s=s.c_r(c+'_s');if(cval_s.length==0) return f0;else if(cval_s!=f1&&cval_s!=f2&&cval_s!=f3&&cval_s!=f4&&cval_s!=f5) return '';else return cval_s;"),r.getTimeParting=new Function("t","z","y","l","var s=this,d,A,U,X,Z,W,B,C,D,Y;d=new Date();A=d.getFullYear();Y=U=String(A);if(s.dstStart&&s.dstEnd){B=s.dstStart;C=s.dstEnd}else{;U=U.substring(2,4);X='090801|101407|111306|121104|131003|140902|150801|161306|171205|181104|191003';X=s.split(X,'|');for(W=0;W<=10;W++){Z=X[W].substring(0,2);if(U==Z){B=X[W].substring(2,4);C=X[W].substring(4,6)}}if(!B||!C){B='08';C='01'}B='03/'+B+'/'+A;C='11/'+C+'/'+A;}D=new Date('1/1/2000');if(D.getDay()!=6||D.getMonth()!=0){return'Data Not Available'}else{z=z?z:'0';z=parseFloat(z);B=new Date(B);C=new Date(C);W=new Date();if(W>B&&W<C&&l!='0'){z=z+1}W=W.getTime()+(W.getTimezoneOffset()*60000);W=new Date(W+(3600000*z));X=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];B=W.getHours();C=W.getMinutes();D=W.getDay();Z=X[D];U='AM';A='Weekday';X='00';if(C>30){X='30'}if(B>=12){U='PM';B=B-12};if(B==0){B=12};if(D==6||D==0){A='Weekend'}W=B+':'+X+U;if(y&&y!=Y){return'Data Not Available'}else{if(t){if(t=='h'){return W}if(t=='d'){return Z}if(t=='w'){return A}}else{return Z+', '+W}}}"),r.getPreviousValue=new Function("v","c","el","var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t):s.c_w(c,'no value',t);return r}"),r.getPreviousPage=new Function("el","var s=this,pid,i,j,e;if(el){if(s.events){while(el){if(pid){break;}i=el.indexOf(',');i=i<0?el.length:i;e=s.events;while(e){j=e.indexOf(',');j=j<0?e.length:j;if(e.substring(0,j)==el.substring(0,i)){pid=s.p_gpp();}e=e.substring(j==e.length?j:j+1);}el=el.substring(i==el.length?i:i+1);}}}else{pid=s.p_gpp();}return pid;"),r.p_gpp=new Function("var s=this,p,i;p=s.rq(s.un);i=p.indexOf('pid=')+4;p=p.substring(i,p.length);i=p.indexOf('&');p=p.substring(0,i);p=unescape(p);return p;"),r.getNewRepeat=new Function("d","cn","var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length==0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'New';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}"),r.c_rr=r.c_r,r.c_r=new Function("k","var s=this,d=new Date,v=s.c_rr(k),c=s.c_rr('s_pers'),i,m,e;if(v)return v;k=s.ape(k);i=c.indexOf(' '+k+'=');c=i<0?s.c_rr('s_sess'):c;i=c.indexOf(' '+k+'=');m=i<0?i:c.indexOf('|',i);e=i<0?i:c.indexOf(';',i);m=m>0?m:e;v=i<0?'':s.epa(c.substring(i+2+k.length,m<0?c.length:m));if(m>0&&m!=e)if(parseInt(c.substring(m+1,e<0?c.length:e))<d.getTime()){d.setTime(d.getTime()-60000);s.c_w(s.epa(k),'',d);v='';}return v;"),r.c_wr=r.c_w,r.c_w=new Function("k","v","e","var s=this,d=new Date,ht=0,pn='s_pers',sn='s_sess',pc=0,sc=0,pv,sv,c,i,t;d.setTime(d.getTime()-60000);if(s.c_rr(k)) s.c_wr(k,'',d);k=s.ape(k);pv=s.c_rr(pn);i=pv.indexOf(' '+k+'=');if(i>-1){pv=pv.substring(0,i)+pv.substring(pv.indexOf(';',i)+1);pc=1;}sv=s.c_rr(sn);i=sv.indexOf(' '+k+'=');if(i>-1){sv=sv.substring(0,i)+sv.substring(sv.indexOf(';',i)+1);sc=1;}d=new Date;if(e){if(e.getTime()>d.getTime()){pv+=' '+k+'='+s.ape(v)+'|'+e.getTime()+';';pc=1;}}else{sv+=' '+k+'='+s.ape(v)+';';sc=1;}if(sc) s.c_wr(sn,sv,0);if(pc){t=pv;while(t&&t.indexOf(';')!=-1){var t1=parseInt(t.substring(t.indexOf('|')+1,t.indexOf(';')));t=t.substring(t.indexOf(';')+1);ht=ht<t1?t1:ht;}d.setTime(ht);s.c_wr(pn,pv,d);}return v==s.c_r(s.epa(k));"),r.trackingServer="metrics.slate.com",r.trackingServerSecure="smetrics.slate.com",r.visitorMigrationKey="4EFF666A",r.visitorMigrationServer="wpni.112.2o7.net",i(),window.s=r,r}),!function(e){"function"==typeof define&&define.amd?define("libs/jquery-plugins/purl",e):window.purl=e()}(function(){function e(e,t){for(var n=decodeURI(e),i=m[t?"strict":"loose"].exec(n),a={attr:{},param:{},seg:{}},o=14;o--;)a.attr[f[o]]=i[o]||"";return a.param.query=r(a.attr.query),a.param.fragment=r(a.attr.fragment),a.seg.path=a.attr.path.replace(/^\/+|\/+$/g,"").split("/"),a.seg.fragment=a.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),a.attr.base=a.attr.host?(a.attr.protocol?a.attr.protocol+"://"+a.attr.host:a.attr.host)+(a.attr.port?":"+a.attr.port:""):"",a}function t(e){var t=e.tagName;return"undefined"!=typeof t?p[t.toLowerCase()]:t}function n(e,t){if(0===e[t].length)return e[t]={};var n={};for(var i in e[t])n[i]=e[t][i];return e[t]=n,n}function i(e,t,a,r){var o=e.shift();if(o){var s=t[a]=t[a]||[];"]"==o?c(s)?""!==r&&s.push(r):"object"==typeof s?s[u(s).length]=r:s=t[a]=[t[a],r]:~o.indexOf("]")?(o=o.substr(0,o.length-1),!b.test(o)&&c(s)&&(s=n(t,a)),i(e,s,o,r)):(!b.test(o)&&c(s)&&(s=n(t,a)),i(e,s,o,r))}else c(t[a])?t[a].push(r):"object"==typeof t[a]?t[a]=r:"undefined"==typeof t[a]?t[a]=r:t[a]=[t[a],r]}function a(e,t,n){if(~t.indexOf("]")){var a=t.split("[");i(a,e,"base",n)}else{if(!b.test(t)&&c(e.base)){var r={};for(var s in e.base)r[s]=e.base[s];e.base=r}""!==t&&o(e.base,t,n)}return e}function r(e){return l(String(e).split(/&|;/),function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(n){}var i=t.indexOf("="),r=s(t),o=t.substr(0,r||i),l=t.substr(r||i,t.length);return l=l.substr(l.indexOf("=")+1,l.length),""===o&&(o=t,l=""),a(e,o,l)},{base:{}}).base}function o(e,t,n){var i=e[t];"undefined"==typeof i?e[t]=n:c(i)?i.push(n):e[t]=[i,n]}function s(e){for(var t,n,i=e.length,a=0;i>a;++a)if(n=e[a],"]"==n&&(t=!1),"["==n&&(t=!0),"="==n&&!t)return a}function l(e,t){for(var n=0,i=e.length>>0,a=arguments[2];i>n;)n in e&&(a=t.call(void 0,a,e[n],n,e)),++n;return a}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function d(t,n){return 1===arguments.length&&t===!0&&(n=!0,t=void 0),n=n||!1,t=t||window.location.toString(),{data:e(t,n),attr:function(e){return e=h[e]||e,"undefined"!=typeof e?this.data.attr[e]:this.data.attr},param:function(e){return"undefined"!=typeof e?this.data.param.query[e]:this.data.param.query},fparam:function(e){return"undefined"!=typeof e?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return"undefined"==typeof e?this.data.seg.path:(e=0>e?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return"undefined"==typeof e?this.data.seg.fragment:(e=0>e?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}var p={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},f=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],h={anchor:"fragment"},m={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},b=/^[0-9]+$/;return d.jQuery=function(e){null!=e&&(e.fn.url=function(n){var i="";return this.length&&(i=e(this).attr(t(this[0]))||""),d(i,n)},e.url=d)},d.jQuery(window.jQuery),d}),!function(e){function t(e){if(e in d.style)return e;var t=["Moz","Webkit","O","ms"],n=e.charAt(0).toUpperCase()+e.substr(1);if(e in d.style)return e;for(var i=0;i<t.length;++i){var a=t[i]+n;if(a in d.style)return a}}function n(){return d.style[p.transform]="",d.style[p.transform]="rotateY(90deg)",""!==d.style[p.transform]}function i(e){return"string"==typeof e&&this.parse(e),this}function a(e,t,n){t===!0?e.queue(n):t?e.queue(t,n):n()}function r(t){var n=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||e.cssProps[t]||t,t=l(t),-1===e.inArray(t,n)&&n.push(t)}),n}function o(t,n,i,a){var o=r(t);e.cssEase[i]&&(i=e.cssEase[i]);var s=""+u(n)+" "+i;parseInt(a,10)>0&&(s+=" "+u(a));var l=[];return e.each(o,function(e,t){l.push(t+" "+s)}),l.join(", ")}function s(t,n){n||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=p.transform,e.cssHooks[t]={get:function(n){var i=e(n).css("transit:transform");return i.get(t)},set:function(n,i){var a=e(n).css("transit:transform");a.setFromString(t,i),e(n).css({"transit:transform":a})}}}function l(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}function u(t){var n=t;return"string"!=typeof n||n.match(/^[\-0-9\.]+/)||(n=e.fx.speeds[n]||e.fx.speeds._default),c(n,"ms")}e.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var d=document.createElement("div"),p={},f=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;p.transition=t("transition"),p.transitionDelay=t("transitionDelay"),p.transform=t("transform"),p.transformOrigin=t("transformOrigin"),p.transform3d=n();var h={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},m=p.transitionEnd=h[p.transition]||null;for(var b in p)p.hasOwnProperty(b)&&"undefined"==typeof e.support[b]&&(e.support[b]=p[b]);d=null,e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new i},set:function(t,n){var a=n;a instanceof i||(a=new i(a)),"WebkitTransform"!==p.transform||f?t.style[p.transform]=a.toString():t.style[p.transform]=a.toString(!0),e(t).data("transform",a)}},e.cssHooks.transform={set:e.cssHooks["transit:transform"].set},e.fn.jquery<"1.8"&&(e.cssHooks.transformOrigin={get:function(e){return e.style[p.transformOrigin]},set:function(e,t){e.style[p.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[p.transition]},set:function(e,t){e.style[p.transition]=t}}),s("scale"),s("translate"),s("rotate"),s("rotateX"),s("rotateY"),s("rotate3d"),s("perspective"),s("skewX"),s("skewY"),s("x",!0),s("y",!0),i.prototype={setFromString:function(e,t){var n="string"==typeof t?t.split(","):t.constructor===Array?t:[t];n.unshift(e),i.prototype.set.apply(this,n)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=c(e,"deg")},rotateX:function(e){this.rotateX=c(e,"deg")},rotateY:function(e){this.rotateY=c(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=c(e,"deg")},skewY:function(e){this.skewY=c(e,"deg")},perspective:function(e){this.perspective=c(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&void 0!==e&&(this._translateX=c(e,"px")),null!==t&&void 0!==t&&(this._translateY=c(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=c(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,i){t.setFromString(n,i)})},toString:function(e){var t=[];for(var n in this)if(this.hasOwnProperty(n)){if(!p.transform3d&&("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n))continue;"_"!==n[0]&&(e&&"scale"===n?t.push(n+"3d("+this[n]+",1)"):e&&"translate"===n?t.push(n+"3d("+this[n]+",0)"):t.push(n+"("+this[n]+")"))}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,n,i,r){var s=this,l=0,c=!0,d=jQuery.extend(!0,{},t);"function"==typeof n&&(r=n,n=void 0),"object"==typeof n&&(i=n.easing,l=n.delay||0,c=n.queue||!0,r=n.complete,n=n.duration),"function"==typeof i&&(r=i,i=void 0),"undefined"!=typeof d.easing&&(i=d.easing,delete d.easing),"undefined"!=typeof d.duration&&(n=d.duration,delete d.duration),"undefined"!=typeof d.complete&&(r=d.complete,delete d.complete),"undefined"!=typeof d.queue&&(c=d.queue,delete d.queue),"undefined"!=typeof d.delay&&(l=d.delay,delete d.delay),"undefined"==typeof n&&(n=e.fx.speeds._default),"undefined"==typeof i&&(i=e.cssEase._default),n=u(n);var f=o(d,n,i,l),h=e.transit.enabled&&p.transition,b=h?parseInt(n,10)+parseInt(l,10):0;if(0===b){var g=function(e){s.css(d),r&&r.apply(s),e&&e()};return a(s,c,g),s}var v={},y=function(n){var i=!1,a=function(){i&&s.unbind(m,a),b>0&&s.each(function(){this.style[p.transition]=v[this]||null}),"function"==typeof r&&r.apply(s),"function"==typeof n&&n()};b>0&&m&&e.transit.useTransitionEnd?(i=!0,s.bind(m,a)):window.setTimeout(a,b),s.each(function(){b>0&&(this.style[p.transition]=f),e(this).css(t)})},_=function(e){this.offsetWidth,y(e)};return a(s,c,_),this},e.transit.getTransitionValue=o}(jQuery),define("hcs/plugins/jquery.transit",["jquery"],function(){});var Hogan={};!function(e,t){function n(e){return String(null===e||void 0===e?"":e)}function i(e){return e=n(e),c.test(e)?e.replace(a,"&amp;").replace(r,"&lt;").replace(o,"&gt;").replace(s,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,n,i,a){this.r=e||this.r,this.c=i,this.options=a,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(e,t,n){return""},v:i,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,i){var a=n[e];return a?(this.c&&"string"==typeof a&&(a=this.c.compile(a,this.options)),a.ri(t,n,i)):""},rs:function(e,t,n){var i=e[e.length-1];if(!u(i))return void n(e,t,this);for(var a=0;a<i.length;a++)e.push(i[a]),n(e,t,this),e.pop()},s:function(e,t,n,i,a,r,o){var s;return u(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,n,i,a,r,o)),s=""===e||!!e,!i&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,i){var a=e.split("."),r=this.f(a[0],t,n,i),o=null;if("."===e&&u(t[t.length-2]))return t[t.length-1];for(var s=1;s<a.length;s++)r&&"object"==typeof r&&a[s]in r?(o=r,r=r[a[s]]):r="";return i&&!r?!1:(i||"function"!=typeof r||(t.push(o),r=this.lv(r,t,n),t.pop()),r)},f:function(e,t,n,i){for(var a=!1,r=null,o=!1,s=t.length-1;s>=0;s--)if(r=t[s],r&&"object"==typeof r&&e in r){a=r[e],o=!0;break}return o?(i||"function"!=typeof a||(a=this.lv(a,t,n)),a):i?!1:""},ho:function(e,t,n,i,a){var r=this.c,o=this.options;o.delimiters=a;var i=e.call(t,i);return i=null==i?String(i):i.toString(),this.b(r.compile(i,o).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,i,a,r,o){var s=t[t.length-1],l=null;if(!i&&this.c&&e.length>0)return this.ho(e,s,n,this.text.substring(a,r),o);if(l=e.call(s),"function"==typeof l){if(i)return!0;if(this.c)return this.ho(l,s,n,this.text.substring(a,r),o)}return l},lv:function(e,t,i){var a=t[t.length-1],r=e.call(a);return"function"==typeof r&&(r=n(r.call(a)),this.c&&~r.indexOf("{{"))?this.c.compile(r,this.options).render(a,i):n(r)}};var a=/&/g,r=/</g,o=/>/g,s=/\'/g,l=/\"/g,c=/[&<>\"\']/,u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(e){function t(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function i(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var i=1,a=e.length;a>i;i++)if(t.charAt(n+i)!=e.charAt(i))return!1;return!0}function a(e,t,n,i){for(var s=[],l=null,c=null;e.length>0;)if(c=e.shift(),"#"==c.tag||"^"==c.tag||r(c,i))n.push(c),c.nodes=a(e,c.tag,n,i),s.push(c);else{if("/"==c.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+c.n);if(l=n.pop(),c.n!=l.n&&!o(c.n,l.n,i))throw new Error("Nesting error: "+l.n+" vs. "+c.n);return l.end=c.i,s}s.push(c)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return s}function r(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n].o==e.n)return e.tag="#",!0}function o(e,t,n){for(var i=0,a=n.length;a>i;i++)if(n[i].c==e&&n[i].o==t)return!0}function s(e){return e.replace(_,"\\\\").replace(g,'\\"').replace(v,"\\n").replace(y,"\\r")}function l(e){return~e.indexOf(".")?"d":"f"}function c(e){for(var t="",n=0,i=e.length;i>n;n++){var a=e[n].tag;"#"==a?t+=u(e[n].nodes,e[n].n,l(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):"^"==a?t+=d(e[n].nodes,e[n].n,l(e[n].n)):"<"==a||">"==a?t+=p(e[n]):"{"==a||"&"==a?t+=f(e[n].n,l(e[n].n)):"\n"==a?t+=m('"\\n"'+(e.length-1==n?"":" + i")):"_v"==a?t+=h(e[n].n,l(e[n].n)):void 0===a&&(t+=m('"'+s(e[n])+'"'));
}return t}function u(e,t,n,i,a,r){return"if(_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,0,'+i+","+a+',"'+r+'")){_.rs(c,p,function(c,p,_){'+c(e)+"});c.pop();}"}function d(e,t,n){return"if(!_.s(_."+n+'("'+s(t)+'",c,p,1),c,p,1,0,0,"")){'+c(e)+"};"}function p(e){return'_.b(_.rp("'+s(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function f(e,t){return"_.b(_.t(_."+t+'("'+s(e)+'",c,p,0)));'}function h(e,t){return"_.b(_.v(_."+t+'("'+s(e)+'",c,p,0)));'}function m(e){return"_.b("+e+");"}var b=/\S/,g=/\"/g,v=/\n/g,y=/\r/g,_=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,a){function r(){g.length>0&&(v.push(new String(g)),g="")}function o(){for(var e=!0,t=k;t<v.length;t++)if(e=v[t].tag&&w[v[t].tag]<w._v||!v[t].tag&&null===v[t].match(b),!e)return!1;return e}function s(e,t){if(r(),e&&o())for(var n,i=k;i<v.length;i++)v[i].tag||((n=v[i+1])&&">"==n.tag&&(n.indent=v[i].toString()),v.splice(i,1));else t||v.push({tag:"\n"});y=!1,k=v.length}function l(e,t){var i="="+S,a=e.indexOf(i,t),r=n(e.substring(e.indexOf("=",t)+1,a)).split(" ");return x=r[0],S=r[1],a+i.length-1}var c=e.length,u=0,d=1,p=2,f=u,h=null,m=null,g="",v=[],y=!1,_=0,k=0,x="{{",S="}}";for(a&&(a=a.split(" "),x=a[0],S=a[1]),_=0;c>_;_++)f==u?i(x,e,_)?(--_,r(),f=d):"\n"==e.charAt(_)?s(y):g+=e.charAt(_):f==d?(_+=x.length-1,m=w[e.charAt(_+1)],h=m?e.charAt(_+1):"_v","="==h?(_=l(e,_),f=u):(m&&_++,f=p),y=_):i(S,e,_)?(v.push({tag:h,n:n(g),otag:x,ctag:S,i:"/"==h?y-S.length:_+x.length}),g="",_+=S.length-1,f=u,"{"==h&&("}}"==S?_++:t(v[v.length-1]))):g+=e.charAt(_);return s(y,!0),v},e.generate=function(t,n,i){var a='var _=this;_.b(i=i||"");'+c(t)+"return _.fl();";return i.asString?"function(c,p,i){"+a+";}":new e.Template(new Function("c","p","i",a),n,e,i)},e.parse=function(e,t,n){return n=n||{},a(e,"",[],n.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,i=this.cache[n];return i?i:(i=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=i)}}("undefined"!=typeof exports?exports:Hogan),define("hogan",function(e){return function(){var t;return t||e.Hogan}}(this)),define("templates",["hogan"],function(e){var t={"janrain.editProfile":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="editProfile">'),i.b("\n"+n),i.b('  <div class="capture_grid_block">'),i.b("\n"+n),i.b('    <div class="capture_col_4">'),i.b("\n"+n),i.b("      <h3>Profile Photo</h3>"),i.b("\n"+n),i.b('      <div class="contentBoxWhiteShadow">'),i.b("\n"+n),i.b("        {* photoManager *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="slateplus-account">'),i.b("\n"+n),i.b('        <h3 class="slateplus-account__heading">Slate Plus</h3>'),i.b("\n"+n),i.b('        <div class="contentBoxWhiteShadow">'),i.b("\n"+n),i.b('          <a href="/account.plususer.html">Billing and payment information</a>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("      <h3>Social Networks</h3>"),i.b("\n"+n),i.b('      <div class="contentBoxWhiteShadow">'),i.b("\n"+n),i.b("        {* linkedAccounts *}"),i.b("\n"+n),i.b("        {* #linkAccountContainer *}"),i.b("\n"+n),i.b("          <h3>Link your accounts</h3>"),i.b("\n"+n),i.b("          <p>Allows you to sign in to your account using that provider in the future.</p>"),i.b("\n"+n),i.b('          <div class="capture_signin">'),i.b("\n"+n),i.b("            {* loginWidget *}"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b("        {* /linkAccountContainer *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("      <!-- Only show this if it was from a traditional login !-->"),i.b("\n"+n),i.b('      <h3 class="janrain_traditional_account_only">Password</h3>'),i.b("\n"+n),i.b('      <div class="janrain_traditional_account_only contentBoxWhiteShadow">'),i.b("\n"+n),i.b('        <a href="#" data-capturescreen="changePassword">Change Password</a>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("      <h3>Deactivate Account</h3>"),i.b("\n"+n),i.b('      <div class="capture_deactivate_section contentBoxWhiteShadow clearfix">'),i.b("\n"+n),i.b('        <a href="#" data-capturescreen="confirmAccountDeactivation">Deactivate Account</a>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <div class="capture_col_8">'),i.b("\n"+n),i.b("      {* #editProfileForm *}"),i.b("\n"+n),i.b("      <h3>Account Info</h3>"),i.b("\n"+n),i.b('      <div class="contentBoxWhiteShadow">'),i.b("\n"+n),i.b('        <div class="capture_grid_block">'),i.b("\n"+n),i.b('          <div class="capture_center_col capture_col_8">'),i.b("\n"+n),i.b('            <div class="capture_editCol">'),i.b("\n"+n),i.b("                {* firstName *}"),i.b("\n"+n),i.b("                {* lastName *}"),i.b("\n"+n),i.b("                {* displayName *}"),i.b("\n"+n),i.b("                {* emailAddress *}"),i.b("\n"+n),i.b("            </div>"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("      <h3>Newsletter Subscriptions</h3>"),i.b("\n"+n),i.b("      {* subscriptionList *}"),i.b("\n"+n),i.b("      <h3>Comment Notifications</h3>"),i.b("\n"+n),i.b('      <div id="capture_editProfile_form_item_lf_notifications">'),i.b("\n"+n),i.b("        {* lf_notification_replies *}"),i.b("\n"+n),i.b("        {* lf_notification_comments *}"),i.b("\n"+n),i.b("        {* lf_notification_likes *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_form_item">'),i.b("\n"+n),i.b('        <input value="Update My Account" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("        {* savedProfileMessage *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("      {* /editProfileForm *}"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("\n"+n),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="changePassword">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  {* #changePasswordForm *}"),i.b("\n"+n),i.b("    {* currentPassword *}"),i.b("\n"+n),i.b("    {* newPassword *}"),i.b("\n"+n),i.b("    {* newPasswordConfirm *}"),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b('      <input value="Save" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b('      <a href="javascript: void(0)" onclick="janrain.capture.ui.renderScreen(\'editProfile\')" id="capture_confirmAccountDeactivation_noButton" class="capture_btn capture_primary">Cancel</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /changePasswordForm *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="confirmAccountDeactivation">'),i.b("\n"+n),i.b('  <div class="content_wrapper">'),i.b("\n"+n),i.b("    <p>Are you sure you want to deactivate your account?</p>"),i.b("\n"+n),i.b("    <p>You will no longer have access to your profile.</p>"),i.b("\n"+n),i.b("    {* deactivateAccountForm *}"),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b('      <input value="Yes" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b('      <a href="javascript: void(0)" onclick="janrain.capture.ui.renderScreen(\'editProfile\')" id="capture_confirmAccountDeactivation_noButton" class="capture_btn capture_primary">No</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("    {* /deactivateAccountForm *}"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"janrain.emailVerification":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="verifyEmail">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Resend Email Verification</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  <p>Sorry we could not verify that email address.</p>"),i.b("\n"+n),i.b("  <p>Enter your email below and we'll send you another email.</p>"),i.b("\n"+n),i.b("  {* #resendVerificationForm *}"),i.b("\n"+n),i.b("    {* signInEmailAddress *}"),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b('      <input value="Submit" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("   {* /resendVerificationForm *}"),i.b("\n"+n),i.b('  <p class="help-description">Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="resendVerificationSuccess">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Your Verification Email Has Been Sent</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="hr"></div>'),i.b("\n"+n),i.b("  <p>Check your email for a link to reset your password.</p>"),i.b("\n"+n),i.b('  <div class="capture_footer">'),i.b("\n"+n),i.b('    <a href="/" class="capture_btn capture_primary">Sign in</a>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <p class="help-description">Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="verifyEmailSuccess">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>You did it!</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  <p>Thank you for verifiying your email address.</p>"),i.b("\n"+n),i.b('  <div class="capture_footer">'),i.b("\n"+n),i.b('    <a href="/" class="capture_btn capture_primary">Sign in</a>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"janrain.forgotPassword":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="forgotPassword">'),i.b("\n"+n),i.b("  {* #forgotPasswordForm *}"),i.b("\n"+n),i.b("    {* signInEmailAddress *}"),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b('      <div class="capture_center">'),i.b("\n"+n),i.b('        <input value="Send" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_left">'),i.b("\n"+n),i.b("        {* backButton *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /forgotPasswordForm *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="forgotPasswordSuccess">'),i.b("\n"+n),i.b("  <p>We've sent an email with instructions to create a new password.</p>"),i.b("\n"+n),i.b("  <p>Your existing password has not been changed.</p>"),i.b("\n"+n),i.b('  <div class="capture_footer">'),i.b("\n"+n),i.b('    <a href="javascript:void(0);" class="capture_btn capture_primary" onclick="janrain.capture.ui.renderScreen(\'signIn\')">Sign In</a>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <p class="help-description">Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>'),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"janrain.mergeAccount":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="mergeAccounts">'),i.b("\n"+n),i.b('  {* mergeAccounts {"custom": true} *}'),i.b("\n"+n),i.b('  <div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">'),i.b("\n"+n),i.b('      <div class="capture_header">'),i.b("\n"+n),i.b('          <div class="capture_icon_col">'),i.b("\n"+n),i.b("              {| rendered_current_photo |}"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b('          <div class="capture_displayName_col">'),i.b("\n"+n),i.b("              {| current_displayName |}<br />"),i.b("\n"+n),i.b("              {| current_emailAddress |}"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b('          <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_dashed">'),i.b("\n"+n),i.b('          <div class="capture_mergeCol capture_left">'),i.b("\n"+n),i.b('              <p class="capture_bigText">{| foundExistingAccountText |} <b>{| current_emailAddress |}</b>.</p>'),i.b("\n"+n),i.b('              <div class="capture_hover">'),i.b("\n"+n),i.b('                  <div class="capture_popup_container">'),i.b("\n"+n),i.b('                      <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}<br />'),i.b("\n"+n),i.b("                      {| existing_displayName |} - {| existing_provider |} : {| existing_siteName |} {| existing_createdDate |}"),i.b("\n"+n),i.b("                  </div>"),i.b("\n"+n),i.b("                  {| moreInfoText |}"),i.b("\n"+n),i.b("              </div>"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b('          <div class="capture_mergeCol capture_mergeExisting_col capture_right">'),i.b("\n"+n),i.b('              <div class="capture_shadow capture_backgroundColor capture_border">'),i.b("\n"+n),i.b("                  {| rendered_existing_provider_photo |}"),i.b("\n"+n),i.b('                  <div class="capture_displayName_col">'),i.b("\n"+n),i.b("                      {| existing_displayName |}<br />"),i.b("\n"+n),i.b("                      {| existing_provider_emailAddress |}"),i.b("\n"+n),i.b("                  </div>"),i.b("\n"+n),i.b('                  <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>'),i.b("\n"+n),i.b('                  <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>'),i.b("\n"+n),i.b("              </div>"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div id="capture_mergeAccounts_form_collection_mergeAccounts_mergeRadio" class="capture_form_collection_merge_radioButtonCollection capture_form_collection capture_elementCollection capture_form_collection_mergeAccounts_mergeRadio" data-capturefield="undefined">'),i.b("\n"+n),i.b('          <div id="capture_mergeAccounts_form_item_mergeAccounts_mergeRadio_1_0" class="capture_form_item capture_form_item_mergeAccounts_mergeRadio capture_form_item_mergeAccounts_mergeRadio_1_0 capture_toggled" data-capturefield="undefined">'),i.b("\n"+n),i.b('              <label for="capture_mergeAccounts_mergeAccounts_mergeRadio_1_0">'),i.b("\n"+n),i.b('                  <input id="capture_mergeAccounts_mergeAccounts_mergeRadio_1_0" data-capturefield="undefined" data-capturecollection="true" value="1" type="radio" class="capture_mergeAccounts_mergeRadio_1_0 capture_input_radio" checked="checked" name="mergeAccounts_mergeRadio">'),i.b("\n"+n),i.b("                      {| connectLegacyRadioText |}"),i.b("\n"+n),i.b("              </label>"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b('          <div id="capture_mergeAccounts_form_item_mergeAccounts_mergeRadio_2_1" class="capture_form_item capture_form_item_mergeAccounts_mergeRadio capture_form_item_mergeAccounts_mergeRadio_2_1" data-capturefield="undefined">'),i.b("\n"+n),i.b('              <label for="capture_mergeAccounts_mergeAccounts_mergeRadio_2_1">'),i.b("\n"+n),i.b('                  <input id="capture_mergeAccounts_mergeAccounts_mergeRadio_2_1" data-capturefield="undefined" data-capturecollection="true" value="2" type="radio" class="capture_mergeAccounts_mergeRadio_2_1 capture_input_radio" name="mergeAccounts_mergeRadio">'),i.b("\n"+n),i.b("                      {| createRadioText |} {| current_provider |}"),i.b("\n"+n),i.b("              </label>"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b('          <div class="capture_tip" style="display:none;">'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('          <div class="capture_tip_validating" data-elementname="mergeAccounts_mergeRadio">Validating</div>'),i.b("\n"+n),i.b('          <div class="capture_tip_error" data-elementname="mergeAccounts_mergeRadio"></div>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_footer">'),i.b("\n"+n),i.b("          {| connect_button |}"),i.b("\n"+n),i.b("          {| create_button |}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="traditionalAuthenticateMerge">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Sign in to complete account merge</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="capture_signin">'),i.b("\n"+n),i.b("    {* #signInForm *}"),i.b("\n"+n),i.b("      {* signInEmailAddress *}"),i.b("\n"+n),i.b("      {* currentPassword *}"),i.b("\n"+n),i.b('      <div class="capture_rightText">'),i.b("\n"+n),i.b('          <a href="#" onclick="janrain.capture.ui.renderScreen(\'forgotPassword\'); return false;" data-capturescreen="forgotPassword">Forgot your password?</a>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_footer">'),i.b("\n"+n),i.b('        <div class="capture_left">'),i.b("\n"+n),i.b("          {* backButton *}"),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b('        <div class="capture_centerText">'),i.b("\n"+n),i.b('            <button class="capture_secondary capture_btn capture_primary" type="submit">Sign In</button>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("     {* /signInForm *}"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"janrain.registration":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="socialRegistration">'),i.b("\n"+n),i.b("  <h3>Please confirm the information below before signing in.</h3>"),i.b("\n"+n),i.b("  {* #socialRegistrationForm *}"),i.b("\n"+n),i.b("    {* emailAddress *}"),i.b("\n"+n),i.b("    {* displayName *}"),i.b("\n"+n),i.b("    {* globalOpt *}"),i.b("\n"+n),i.b("    {* userTag *}"),i.b("\n"+n),i.b('    By clicking "Sign in," you confirm that you accept our <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_terms_of_service.html" target="_blank">terms of service</a> and have read and understand <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_privacy_policy.html" target="_blank">privacy policy</a>.'),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b('      <div class="capture_left">'),i.b("\n"+n),i.b("        {* backButton *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_center">'),i.b("\n"+n),i.b('        <input value="Create Account" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /socialRegistrationForm *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="traditionalRegistration">'),i.b("\n"+n),i.b("  {* #registrationForm *}"),i.b("\n"+n),i.b("    {* emailAddress *}"),i.b("\n"+n),i.b("    {* displayName *}"),i.b("\n"+n),i.b("    {* newPassword *}"),i.b("\n"+n),i.b("    {* newPasswordConfirm *}"),i.b("\n"+n),i.b("    {* globalOpt *}"),i.b("\n"+n),i.b("    {* userTag *}"),i.b("\n"+n),i.b('    <p>By clicking "Create My Account," you confirm that you accept our <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_terms_of_service.html" target="_blank">terms of service</a> and have read and understand <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_privacy_policy.html" target="_blank">privacy policy</a>.</p>'),i.b("\n"+n),i.b('    <p class="button-container">'),i.b("\n"+n),i.b('      <input value="Create My Account" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("    </p>"),i.b("\n"+n),i.b('    <div class="roadblock-footer" style="font-size: 12px; color: rgb(102, 102, 102); width: 300px; margin: -1em auto 0px; line-height: 30px; text-align: center; background-color: rgb(243, 245, 245);">'),i.b("\n"+n),i.b('      Trouble creating an account? <a href="mailto:plus@slate.com" data-issue-collector-value="11020" class="issue-collector">Report account issues</a>.'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /registrationForm *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="emailVerificationNotification">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Thank you for registering!</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  <p>We have sent a confirmation email to {* emailAddressData *}. Please check your email and click on the link to activate your account.</p>"),i.b("\n"+n),i.b('  <div class="capture_footer">'),i.b("\n"+n),i.b('    <a href="#" onclick="janrain.capture.ui.modal.close()" class="capture_btn capture_primary">Close</a>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"janrain.resetPassword":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="resetPassword">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Change password</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  {* #changePasswordFormNoAuth *}"),i.b("\n"+n),i.b("    {* newPassword *}"),i.b("\n"+n),i.b("    {* newPasswordConfirm *}"),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b('      <input value="Submit" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /changePasswordFormNoAuth *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="resetPasswordSuccess">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Your password has been changed</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  <p>Password has been successfully updated.</p>"),i.b("\n"+n),i.b('  <div class="capture_footer">'),i.b("\n"+n),i.b('    <a href="/" class="capture_btn capture_primary">Sign in</a>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="resetPasswordRequestCode">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("      <h3>Create a new password</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  <p>We didn't recognize that password reset code.</p>"),i.b("\n"+n),i.b("  <p>Enter your email address to get a new one.</p>"),i.b("\n"+n),i.b("  {* #resetPasswordForm *}"),i.b("\n"+n),i.b("      {* signInEmailAddress *}"),i.b("\n"+n),i.b('      <div class="capture_footer">'),i.b("\n"+n),i.b('          <input value="Send" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("  {* /resetPasswordForm *}"),i.b("\n"+n),i.b('  <p class="help-description">Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="resetPasswordRequestCodeSuccess">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Create a new password</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  <p>We've sent an email with instructions to create a new password.</p>"),i.b("\n"+n),i.b("  <p>Your existing password has not been changed.</p>"),i.b("\n"+n),i.b('  <div class="capture_footer">'),i.b("\n"+n),i.b('    <a href="javascript:void(0);" class="capture_btn capture_primary">Sign In</a>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <p class="help-description">Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>'),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"janrain.signIn":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="signIn">'),i.b("\n"+n),i.b('  <div class="capture_backgroundColor">'),i.b("\n"+n),i.b('    <div class="capture_signin">'),i.b("\n"+n),i.b("      {* #signInForm *}"),i.b("\n"+n),i.b("        {* signInEmailAddress *}"),i.b("\n"+n),i.b("        {* currentPassword *}"),i.b("\n"+n),i.b('        <div class="capture_rightText">'),i.b("\n"+n),i.b('          <a href="#" onclick="janrain.capture.ui.renderScreen(\'forgotPassword\'); return false;" data-capturescreen="forgotPassword">Forgot your password?</a>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b('        <div class="capture_centerText">'),i.b("\n"+n),i.b('          <button class="capture_secondary capture_btn capture_primary" type="submit">Go</button>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("      {* /signInForm *}"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <p class="other-options-line"><span>OR</span></p>'),i.b("\n"+n),i.b('  <div class="capture_signin">'),i.b("\n"+n),i.b("    {* loginWidget *} <br />"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="roadblock-footer" style="font-size: 12px; color: rgb(102, 102, 102); width: 300px; margin: -1em auto 0px; line-height: 30px; text-align: center; background-color: rgb(243, 245, 245);">'),i.b("\n"+n),i.b('      Trouble signing in? <a href="mailto:plus@slate.com" data-issue-collector-value="11019" class="issue-collector">Report account issues</a>.'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="returnSocial">'),i.b("\n"+n),i.b('  <div class="capture_signin">'),i.b("\n"+n),i.b("    <h3>Welcome back, {* welcomeName *}!</h3>"),i.b("\n"+n),i.b("    {* loginWidget *}"),i.b("\n"+n),i.b('    <div class="capture_centerText switchLink"><a href="#" data-cancelcapturereturnexperience="true">Use another account</a></div>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="returnTraditional">'),i.b("\n"+n),i.b('  <div class="capture_backgroundColor">'),i.b("\n"+n),i.b("    <h3>Welcome back!</h3>"),i.b("\n"+n),i.b("    {* #signInForm *}"),i.b("\n"+n),i.b("      {* signInEmailAddress *}"),i.b("\n"+n),i.b("      {* currentPassword *}"),i.b("\n"+n),i.b('      <div class="capture_rightText">'),i.b("\n"+n),i.b('        <a href="#" onclick="janrain.capture.ui.renderScreen(\'forgotPassword\'); return false;" data-capturescreen="forgotPassword">Forgot your password?</a>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_form_item capture_centerText">'),i.b("\n"+n),i.b('        <button class="capture_secondary capture_btn capture_primary" type="submit">Go</button>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    {* /signInForm *}"),i.b("\n"+n),i.b('    <div class="capture_centerText switchLink">'),i.b("\n"+n),i.b('      <a href="#" data-cancelcapturereturnexperience="true">Use another account</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="accountDeactivated">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h1>Deactivated Account</h1>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="content_wrapper">'),i.b("\n"+n),i.b("    <p>Your account has been deactivated.</p>"),i.b("\n"+n),i.b('    <p>Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="legalAcceptances">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Legal Acceptance</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  {* #legalAcceptancesForm *}"),i.b("\n"+n),i.b('    <p>Please accept our new <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_privacy_policy.html" target="_blank">Privacy Policy</a> and <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_terms_of_service.html" target="_blank">Terms and Conditions</a>.</p>'),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b("      {* submitButton *}"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /legalAcceptancesForm *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"livefyre-tabs":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="comment-tabs-container">'),i.b("\n"+n),i.b('  <div class="comment-tabs comment-tabs-comments active"><span id="tab-comment-count">'),i.b(i.t(i.f("comments",e,t,0))),i.b("</span> Comments</div>"),i.b("\n"+n),i.b('  <div class="comment-tabs comment-tabs-plus-comments">Slate Writer &amp; Member Comments</div>'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b('<div class="comment-tabs-other-container">'),i.b("\n"+n),i.b('  <div class="comment-tabs-checkbox">'),i.b("\n"+n),i.b('    <input type="checkbox" id="comment-tabs-plus-default" class="comment-checkbox" name="comment-tabs-plus-default">'),i.b("\n"+n),i.b('    <label for="comment-tabs-plus-default">Load Writer and Member Comments by Default</label>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="comment-tabs-join">'),i.b("\n"+n),i.b('    <a href="https://secure.slate.com/plus/?sp_commenters_comments_tab">'),i.b("\n"+n),i.b("      <span></span>"),i.b("\n"+n),i.b("      <p>Join Slate Plus</p></a>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("<script>"),i.b("\n"+n),i.b("  requirejs(['jquery', 'myslate'], function($, myslate) {"),i.b("\n"+n),i.b("    if ($.cookie('plus-comments-default') === 'true') {"),i.b("\n"+n),i.b("      $('#comment-tabs-plus-default').prop('checked', true);"),i.b("\n"+n),i.b("      $('.comment-tabs-plus-comments').trigger('click');"),i.b("\n"+n),i.b("    }"),i.b("\n"+n),i.b("    if (!myslate.isSlatePlusUser) {"),i.b("\n"+n),i.b("      $('.comment-tabs-join').addClass('comment-tabs-join-show');"),i.b("\n"+n),i.b("    }"),i.b("\n"+n),i.b("  });"),i.b("\n"+n),i.b("</script>"),i.b("\n"),i.fl()}),overlay:new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="overlay-wrapper">'),i.b("\n"+n),i.b('<div id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" class="overlay overlay-'),i.b(i.v(i.f("type",e,t,0))),i.b('">'),i.b("\n"+n),i.b('  <button type="button" class="overlay-close">Close</button>'),i.b("\n"+n),i.b('  <div class="'),i.b(i.v(i.f("content_class",e,t,0))),i.b(' overlay-content">'),i.b("\n"+n),i.b("    "),i.b(i.t(i.f("content",e,t,0))),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"tp.janrain.registration":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="socialRegistration">'),i.b("\n"+n),i.b("  <h3>Please confirm the information below before signing in.</h3>"),i.b("\n"+n),i.b("  {* #socialRegistrationForm *}"),i.b("\n"+n),i.b("    {* emailAddress *}"),i.b("\n"+n),i.b("    {* displayName *}"),i.b("\n"+n),i.b("    {* globalOpt *}"),i.b("\n"+n),i.b("    {* userTag *}"),i.b("\n"+n),i.b('    By clicking "Sign in," you confirm that you accept our <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_terms_of_service.html" target="_blank">terms of service</a> and have read and understand <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_privacy_policy.html" target="_blank">privacy policy</a>.'),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b('      <div class="capture_left">'),i.b("\n"+n),i.b("        {* backButton *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_center">'),i.b("\n"+n),i.b('        <input value="Create Account" type="submit" class="capture_btn capture_primary">'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /socialRegistrationForm *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="traditionalRegistration">'),
i.b("\n"+n),i.b('  <div class="capture_sign_container">'),i.b("\n"+n),i.b('      <div class="capture_signin">'),i.b("\n"+n),i.b("        {* #registrationForm *}"),i.b("\n"+n),i.b("          <h3>Create a <br>Slate Account</h3>"),i.b("\n"+n),i.b('          <i class="fa fa-at"></i>{* emailAddress *}'),i.b("\n"+n),i.b('          <i class="fa fa-user"></i>{* displayName *}'),i.b("\n"+n),i.b('          <i class="fa fa-lock"></i>{* newPassword *}'),i.b("\n"+n),i.b("          {* newPasswordConfirm *}"),i.b("\n"+n),i.b('          <p class="button-container"><input value="Create My Account" type="submit" class="capture_btn capture_primary"></p>'),i.b("\n"+n),i.b("          {* globalOpt *}"),i.b("\n"+n),i.b("          {* userTag *}"),i.b("\n"+n),i.b("        {* /registrationForm *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="other-options-line"><span>OR</span></div>'),i.b("\n"+n),i.b('      <div class="capture_signin">'),i.b("\n"+n),i.b("        <h3>Use Another <br>Account</h3>"),i.b("\n"+n),i.b("        {* loginWidget *}"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('    <div class="tp-janrain-modal-footer">'),i.b("\n"+n),i.b('      <p>Already have an account? <a href="javascript:void(0);" onclick="janrain.capture.ui.renderScreen(\'signIn\')">Log in</a></p>'),i.b("\n"+n),i.b('      <p><input type="checkbox" '),i.b(i.v(i.f("isChecked",e,t,0))),i.b(' id="global-opt-imposter"> <label for="global-opt-imposter">Get updates from Slate by email</label></p>'),i.b("\n"+n),i.b('      <p>Trouble? Get help: <a href="mailto:subscribe@slate.com" class="issue-collector" data-issue-collector-value="11022">subscribe@slate.com</a></p>'),i.b("\n"+n),i.b('      <p class="tp-tc">By creating a Slate account or linking another account, you agree to our <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_terms_of_service.html" target="_blank">Terms of Use</a> and <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_privacy_policy.html" target="_blank">Privacy Policy</a>.</p>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="emailVerificationNotification">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Thank you for registering!</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  <p>We have sent a confirmation email to {* emailAddressData *}. Please check your email and click on the link to activate your account.</p>"),i.b("\n"+n),i.b('  <div class="capture_footer">'),i.b("\n"+n),i.b('    <a href="#" onclick="janrain.capture.ui.modal.close()" class="capture_btn capture_primary">Close</a>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"tp.janrain.signIn":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("\n"+n),i.b('<div style="display:none;" id="signIn">'),i.b("\n"+n),i.b('  <div class="capture_sign_container">'),i.b("\n"+n),i.b("\n"+n),i.b('    <div class="capture_signin">'),i.b("\n"+n),i.b("      {* #signInForm *}"),i.b("\n"+n),i.b("        <h3>Login to Your <br>Slate Account</h3>"),i.b("\n"+n),i.b("        {* signInEmailAddress *}"),i.b("\n"+n),i.b("        {* currentPassword *}"),i.b("\n"+n),i.b('        <div class="capture_rightText">'),i.b("\n"+n),i.b('          <a href="javascript:void(0);" onclick="janrain.capture.ui.renderScreen(\'forgotPassword\')" data-capturescreen="forgotPassword">Forgot your password?</a>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b('        <div class="capture_centerText">'),i.b("\n"+n),i.b('          <button class="capture_secondary capture_btn capture_primary" type="submit">Go</button>'),i.b("\n"+n),i.b("        </div>"),i.b("\n"+n),i.b("      {* /signInForm *}"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("\n"+n),i.b('  <div class="tp-janrain-modal-footer">'),i.b("\n"+n),i.b('    <p>Need an account? <a href="javascript:void(0);" onclick="janrain.capture.ui.renderScreen(\'traditionalRegistration\')">Create One</a></p>'),i.b("\n"+n),i.b('    <p>Trouble? Get help: <a href="mailto:subscribe@slate.com" class="issue-collector" data-issue-collector-value="11018">subscribe@slate.com</a></p>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="returnSocial">'),i.b("\n"+n),i.b('  <div class="capture_signin">'),i.b("\n"+n),i.b("    <h3>Welcome back, {* welcomeName *}!</h3>"),i.b("\n"+n),i.b("    {* loginWidget *}"),i.b("\n"+n),i.b('    <div class="capture_centerText switchLink"><a href="#" data-cancelcapturereturnexperience="true">Use another account</a></div>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="returnTraditional">'),i.b("\n"+n),i.b('  <div class="capture_backgroundColor">'),i.b("\n"+n),i.b("    <h3>Welcome back!</h3>"),i.b("\n"+n),i.b("    {* #signInForm *}"),i.b("\n"+n),i.b("      {* signInEmailAddress *}"),i.b("\n"+n),i.b("      {* currentPassword *}"),i.b("\n"+n),i.b('      <div class="capture_rightText">'),i.b("\n"+n),i.b('        <a href="#" onclick="janrain.capture.ui.renderScreen(\'forgotPassword\'); return false;" data-capturescreen="forgotPassword">Forgot your password?</a>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="capture_form_item capture_centerText">'),i.b("\n"+n),i.b('        <button class="capture_secondary capture_btn capture_primary" type="submit">Go</button>'),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    {* /signInForm *}"),i.b("\n"+n),i.b('    <div class="capture_centerText switchLink">'),i.b("\n"+n),i.b('      <a href="#" data-cancelcapturereturnexperience="true">Use another account</a>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="accountDeactivated">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h1>Deactivated Account</h1>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div class="content_wrapper">'),i.b("\n"+n),i.b("    <p>Your account has been deactivated.</p>"),i.b("\n"+n),i.b('    <p>Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>'),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<div style="display:none;" id="legalAcceptances">'),i.b("\n"+n),i.b('  <div class="capture_header">'),i.b("\n"+n),i.b("    <h3>Legal Acceptance</h3>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("  {* #legalAcceptancesForm *}"),i.b("\n"+n),i.b('    <p>Please accept our new <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_privacy_policy.html" target="_blank">Privacy Policy</a> and <a href="http://www.slate.com/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_terms_of_service.html" target="_blank">Terms and Conditions</a>.</p>'),i.b("\n"+n),i.b('    <div class="capture_footer">'),i.b("\n"+n),i.b("      {* submitButton *}"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  {* /legalAcceptancesForm *}"),i.b("\n"+n),i.b("</div>"),i.b("\n"),i.fl()}),"account.header":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("wapoVisitor",e,t,1),e,t,0,16,160,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="username">Hi '),i.b(i.v(i.d("wapoVisitor.displayName",e,t,0))),i.b("!</span>"),i.b("\n"+n),i.b("  <em>Here's Your Slate Account</em>"),i.b("\n"+n),i.b('  <a href="#" class="sign-out">Sign Out</a>'),i.b("\n")}),e.pop()),i.s(i.f("wapoVisitor",e,t,1),e,t,1,0,0,"")||(i.b("<!-- login -->"),i.b("\n"+n),i.b("	"),i.b(i.v(i.f("message",e,t,0))),i.b("\n"+n),i.s(i.f("sign-in",e,t,1),e,t,0,235,298,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('	<a href="account.settings.html" class="sign-in">Sign In</a>'),n.b("\n")}),e.pop())),i.fl()}),"account.identity":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("<style>"),i.b("\n"+n),i.b("  #myslate-manage-subscriptions {"),i.b("\n"+n),i.b("    width: 100%;"),i.b("\n"+n),i.b("  }"),i.b("\n"+n),i.b("  .subscriber-help {"),i.b("\n"+n),i.b("    text-align: right;"),i.b("\n"+n),i.b("  }"),i.b("\n"+n),i.b("</style>"),i.b("\n"+n),i.b('<iframe src="'),i.b(i.v(i.f("url",e,t,0))),i.b('" id="myslate-manage-subscriptions" frameborder="0"></iframe>'),i.b("\n"+n),i.b('<p class="subscriber-help">'),i.b("\n"+n),i.b('  Need help? Contact us: <a href="mailto:plus@slate.com" data-issue-collector-value="11023" class="issue-collector">plus@slate.com</a>'),i.b("\n"+n),i.b("</p>"),i.b("\n"),i.fl()}),"b.embedded":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("embedded",e,t,1),e,t,0,13,1464,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<section class="sponsored-content col-4" data-vr-contentbox="">'),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("absoluteUrl",e,t,0))),i.b('?wpisrc=hpsponsoredb1" class="primary" data-track=\'{"id":"'),i.b(i.v(i.f("articleId",e,t,0))),i.b('","module":"'),i.b(i.v(i.f("ctrModule",e,t,0))),i.b('","position":'),i.b(i.v(i.f("ctrPosition",e,t,0))),i.b("}'></a>"),i.b("\n"+n),i.b('    <span class="label">SPONSORED CONTENT</span>'),i.b("\n"+n),i.b("    <div>"),i.b("\n"+n),i.s(i.f("backgroundImage",e,t,1),e,t,0,323,395,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <div class="image"><img src="'),n.b(n.v(n.f("backgroundImage",e,t,0))),n.b('" /></div>'),n.b("\n")}),e.pop()),i.b('      <div class="details">'),i.b("\n"+n),i.b('      <h1 class="hed small"><div id="b-sponsored-content" style="visibility: hidden">'),i.b(i.t(i.f("menuline",e,t,0))),i.b("</div></h1>"),i.b("\n"+n),i.b('      <span class="byline"><div id="b-sponsored-content-byline" style="visibility: hidden">'),i.b("\n"+n),i.s(i.f("hasAuthor",e,t,1),e,t,0,668,709,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("            By "),n.b(n.v(n.f("authorsNoHtml",e,t,0))),n.b("\n")}),e.pop()),i.b("       </div></span>"),i.b("\n"+n),i.s(i.f("backgroundImage",e,t,1),e,t,0,771,791,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("      </div>"),n.b("\n")}),e.pop()),i.b('      <img src="" width="1" height="1" alt="" border="0" style="display:none" id="sponsor_b_track_pixel" />'),i.b("\n"+n),i.b('               <script type="text/javascript">'),i.b("\n"+n),i.b('                  var trackPixel = "'),i.b(i.v(i.f("trackingPixel",e,t,0))),i.b('";'),i.b("\n"+n),i.b('                  if(trackPixel!="") {'),i.b("\n"+n),i.b('                      $("#sponsor_b_track_pixel").attr("src", trackPixel + new Date().getTime());'),i.b("\n"+n),i.b("                  }"),i.b("\n"+n),i.b("                  $(\"#b-sponsored-content\").boxfit({multiline: true, align_center: false, height: 80, maximum_font_size: 40}).css('visibility', 'visible');"),i.b("\n"+n),i.b("                  $(\"#b-sponsored-content-byline\").css('visibility', 'visible');"),i.b("\n"+n),i.b("               </script>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</section>"),i.b("\n")}),e.pop()),i.fl()}),"d.embedded":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("embedded",e,t,1),e,t,0,13,923,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<section class="three-up sponsored-content" data-vr-contentbox="">'),i.b("\n"+n),i.b('	<span class="label">SPONSORED CONTENT</span>'),i.b("\n"+n),i.b("    <div>"),i.b("\n"+n),i.b('        <a href="'),i.b(i.v(i.f("absoluteUrl",e,t,0))),i.b('wpisrc=hpsponsoredd2" class="dek" data-track=\'{"id":"'),i.b(i.v(i.f("articleId",e,t,0))),i.b('","module":"'),i.b(i.v(i.f("ctrModule",e,t,0))),i.b('","position":'),i.b(i.v(i.f("ctrPosition",e,t,0))),i.b("}'>"),i.b("\n"+n),i.b('        <div id="d-sponsored-content" style="visibility: hidden">'),i.b("\n"+n),i.b("        "),i.b(i.t(i.f("menuline",e,t,0))),i.b("</div></a>"),i.b("\n"+n),i.b('         <img src="" width="1" height="1" alt="" border="0" style="display:none" id="sponsor_d_track_pixel" />'),i.b("\n"+n),i.b('         <script type="text/javascript">'),i.b("\n"+n),i.b('            var trackPixel = "'),i.b(i.v(i.f("trackingPixel",e,t,0))),i.b('";'),i.b("\n"+n),i.b('            if(trackPixel!="") {'),i.b("\n"+n),i.b('                $("#sponsor_d_track_pixel").attr("src", trackPixel + new Date().getTime());'),i.b("\n"+n),i.b("            }"),i.b("\n"+n),i.b("            $(\"#d-sponsored-content\").boxfit({multiline: true, align_center: false, height: 60, maximum_font_size: 18}).css('visibility', 'visible');"),i.b("\n"+n),i.b("         </script>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</section>"),i.b("\n")}),e.pop()),i.fl()}),"fullslate.embedded":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("embedded",e,t,1),e,t,0,13,795,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="item '),i.b(i.v(i.f("style",e,t,0))),i.b(' sponsored small">'),i.b("\n"+n),i.s(i.f("hasQuery",e,t,1),e,t,0,78,165,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <a href="'),n.b(n.v(n.f("absoluteUrl",e,t,0))),n.b('&wpisrc=homepagefullslate" data-vr-contentbox="">'),n.b("\n")}),e.pop()),i.s(i.f("hasQuery",e,t,1),e,t,1,0,0,"")||(i.b('      <a href="'),i.b(i.v(i.f("absoluteUrl",e,t,0))),i.b('?wpisrc=hpsponsoredmr" data-vr-contentbox="">'),i.b("\n")),i.b('    <small class="detail">Sponsored Content</small>'),i.b("\n"+n),i.b('    <span class="title">'),i.b(i.t(i.f("menuline",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b("  </a>"),i.b("\n"+n),i.b('   <img src="" width="1" height="1" alt="" border="0" style="display:none" id="sponsor_fullslate_track_pixel" />'),i.b("\n"+n),i.b('            <script type="text/javascript">'),i.b("\n"+n),i.b('               var trackPixel = "'),i.b(i.v(i.f("trackingPixel",e,t,0))),i.b('";'),i.b("\n"+n),i.b('               if(trackPixel!="") {'),i.b("\n"+n),i.b('                   $("#sponsor_fullslate_track_pixel").attr("src", trackPixel + new Date().getTime());'),i.b("\n"+n),i.b("               }"),i.b("\n"+n),i.b("            </script>"),i.b("\n"+n),i.b("</div>"),i.b("\n")}),e.pop()),i.fl()}),"video.brightcovesingle":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="bc-outer-container">'),i.b("\n"+n),i.b('  <div class="bc-video" id="brightcovesinglevideoexperience-'),i.b(i.v(i.f("experienceID",e,t,0))),i.b('">'),i.b("\n"+n),i.b('    <object class="BrightcoveExperience" id="tsgp-'),i.b(i.v(i.f("experienceID",e,t,0))),i.b('">'),i.b("\n"+n),i.b('      <param name="adServerURL" value="'),i.b(i.v(i.f("adServerURL",e,t,0))),i.b('" />'),i.b("\n"+n),i.b("\n"+n),i.s(i.f("featuredVideoID",e,t,1),e,t,0,271,351,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <param name="@videoList.featured" value="'),n.b(n.v(n.f("featuredVideoID",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.s(i.f("playlistID",e,t,1),e,t,0,394,460,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <param name="@videoList" value="'),n.b(n.v(n.f("playlistID",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.s(i.f("videoID",e,t,1),e,t,0,495,560,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <param name="@videoPlayer" value="'),n.b(n.v(n.f("videoID",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.b('      <param name="autoStart" value="'),i.b(i.v(i.f("autoplay",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('      <param name="playerID" value="'),i.b(i.v(i.f("playerID",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('      <param name="playerKey" value="'),i.b(i.v(i.f("playerKey",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('      <param name="height" value="'),i.b(i.v(i.f("height",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('      <param name="width" value="'),i.b(i.v(i.f("width",e,t,0))),i.b('" />'),i.b("\n"+n),i.b("\n"+n),i.s(i.f("linkBaseURL",e,t,1),e,t,0,865,931,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <param name="linkBaseURL" value="'),n.b(n.v(n.f("linkBaseURL",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.b('      <param name="bgcolor" value="#FFFFFF" />'),i.b("\n"+n),i.b('      <param name="isVid" value="true" />'),i.b("\n"+n),i.b('      <param name="isUI" value="true" />'),i.b("\n"+n),i.b('      <param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('      <param name="includeAPI" value="true" />'),i.b("\n"+n),i.b('      <param name="templateLoadHandler" value="'),i.b(i.v(i.f("templateLoadHandler",e,t,0))),i.b('" />'),i.b("\n"+n),i.b("\n"+n),i.s(i.f("templateReadyHandler",e,t,1),e,t,0,1286,1370,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <param name="templateReadyHandler" value="'),n.b(n.v(n.f("templateReadyHandler",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.b('      <param name="allowScriptAccess" value="always" />'),i.b("\n"+n),i.b('      <param name="wmode" value="transparent">'),i.b("\n"+n),i.b("    </object>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.s(i.f("playlistID",e,t,1),e,t,0,1545,1633,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div id="playlist-'),n.b(n.v(n.f("experienceID",e,t,0))),n.b('" class="fullbleed-playlist '),n.b(n.v(n.f("playlistSize",e,t,0))),n.b('"></div>'),n.b("\n")}),e.pop()),i.b('<!--<div class="companion" id="tsg-cad-'),i.b(i.v(i.f("experienceID",e,t,0))),i.b('" style="width:300px;height:250px;margin:0 auto;display:none"><div>-->'),i.b("\n"),i.fl()}),"b.embedded":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("embedded",e,t,1),e,t,0,13,1464,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<section class="sponsored-content col-4" data-vr-contentbox="">'),i.b("\n"+n),i.b('    <a href="'),i.b(i.v(i.f("absoluteUrl",e,t,0))),i.b('?wpisrc=hpsponsoredb1" class="primary" data-track=\'{"id":"'),i.b(i.v(i.f("articleId",e,t,0))),i.b('","module":"'),i.b(i.v(i.f("ctrModule",e,t,0))),i.b('","position":'),i.b(i.v(i.f("ctrPosition",e,t,0))),i.b("}'></a>"),i.b("\n"+n),i.b('    <span class="label">SPONSORED CONTENT</span>'),i.b("\n"+n),i.b("    <div>"),i.b("\n"+n),i.s(i.f("backgroundImage",e,t,1),e,t,0,323,395,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <div class="image"><img src="'),n.b(n.v(n.f("backgroundImage",e,t,0))),n.b('" /></div>'),n.b("\n")}),e.pop()),i.b('      <div class="details">'),i.b("\n"+n),i.b('      <h1 class="hed small"><div id="b-sponsored-content" style="visibility: hidden">'),i.b(i.t(i.f("menuline",e,t,0))),i.b("</div></h1>"),i.b("\n"+n),i.b('      <span class="byline"><div id="b-sponsored-content-byline" style="visibility: hidden">'),i.b("\n"+n),i.s(i.f("hasAuthor",e,t,1),e,t,0,668,709,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("            By "),n.b(n.v(n.f("authorsNoHtml",e,t,0))),n.b("\n")}),e.pop()),i.b("       </div></span>"),i.b("\n"+n),i.s(i.f("backgroundImage",e,t,1),e,t,0,771,791,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("      </div>"),n.b("\n")}),e.pop()),i.b('      <img src="" width="1" height="1" alt="" border="0" style="display:none" id="sponsor_b_track_pixel" />'),i.b("\n"+n),i.b('               <script type="text/javascript">'),i.b("\n"+n),i.b('                  var trackPixel = "'),i.b(i.v(i.f("trackingPixel",e,t,0))),i.b('";'),i.b("\n"+n),i.b('                  if(trackPixel!="") {'),i.b("\n"+n),i.b('                      $("#sponsor_b_track_pixel").attr("src", trackPixel + new Date().getTime());'),i.b("\n"+n),i.b("                  }"),i.b("\n"+n),i.b("                  $(\"#b-sponsored-content\").boxfit({multiline: true, align_center: false, height: 80, maximum_font_size: 40}).css('visibility', 'visible');"),i.b("\n"+n),i.b("                  $(\"#b-sponsored-content-byline\").css('visibility', 'visible');"),i.b("\n"+n),i.b("               </script>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</section>"),i.b("\n")}),e.pop()),i.fl()}),"d.embedded":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("embedded",e,t,1),e,t,0,13,923,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<section class="three-up sponsored-content" data-vr-contentbox="">'),i.b("\n"+n),i.b('	<span class="label">SPONSORED CONTENT</span>'),i.b("\n"+n),i.b("    <div>"),i.b("\n"+n),i.b('        <a href="'),i.b(i.v(i.f("absoluteUrl",e,t,0))),i.b('wpisrc=hpsponsoredd2" class="dek" data-track=\'{"id":"'),i.b(i.v(i.f("articleId",e,t,0))),i.b('","module":"'),i.b(i.v(i.f("ctrModule",e,t,0))),i.b('","position":'),i.b(i.v(i.f("ctrPosition",e,t,0))),i.b("}'>"),i.b("\n"+n),i.b('        <div id="d-sponsored-content" style="visibility: hidden">'),i.b("\n"+n),i.b("        "),i.b(i.t(i.f("menuline",e,t,0))),i.b("</div></a>"),i.b("\n"+n),i.b('         <img src="" width="1" height="1" alt="" border="0" style="display:none" id="sponsor_d_track_pixel" />'),i.b("\n"+n),i.b('         <script type="text/javascript">'),i.b("\n"+n),i.b('            var trackPixel = "'),i.b(i.v(i.f("trackingPixel",e,t,0))),i.b('";'),i.b("\n"+n),i.b('            if(trackPixel!="") {'),i.b("\n"+n),i.b('                $("#sponsor_d_track_pixel").attr("src", trackPixel + new Date().getTime());'),i.b("\n"+n),i.b("            }"),i.b("\n"+n),i.b("            $(\"#d-sponsored-content\").boxfit({multiline: true, align_center: false, height: 60, maximum_font_size: 18}).css('visibility', 'visible');"),i.b("\n"+n),i.b("         </script>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("</section>"),i.b("\n")}),e.pop()),i.fl()}),"video.brightcovea1spot":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("<style>"),i.b("\n"+n),i.b("@media (max-width: 640px) {"),i.b("\n"+n),i.b("    .brightcovecontainer {"),i.b("\n"+n),i.b("      position: relative;"),i.b("\n"+n),i.b("      height: 0;"),i.b("\n"+n),i.b("      padding-bottom: 56.25%;"),i.b("\n"+n),i.b("      max-width: 100%;"),i.b("\n"+n),i.b("    }"),i.b("\n"+n),i.b("    .BrightcoveExperience {"),i.b("\n"+n),i.b("      position: absolute;"),i.b("\n"+n),i.b("      top: 0;"),i.b("\n"+n),i.b("      left: 0;"),i.b("\n"+n),i.b("      width: 100%;"),i.b("\n"+n),i.b("      height: 100%;"),i.b("\n"+n),i.b("    }"),i.b("\n"+n),i.b("}"),i.b("\n"+n),i.b("</style>"),i.b("\n"+n),i.b('<div id="brightcovecontainer-'),i.b(i.v(i.f("experienceID",e,t,0))),i.b('" class="brightcovecontainer">'),i.b("\n"+n),i.b('  <object class="BrightcoveExperience" id="tsgp-'),i.b(i.v(i.f("experienceID",e,t,0))),i.b('">'),i.b("\n"+n),i.b('    <param name="adServerURL" value="'),i.b(i.v(i.f("adServerURL",e,t,0))),i.b('" />'),i.b("\n"+n),i.b("\n"+n),i.s(i.f("playlistID",e,t,1),e,t,0,530,592,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('    <param name="@videoList" value="'),n.b(n.v(n.f("playlistID",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.s(i.f("videoID",e,t,1),e,t,0,625,686,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('    <param name="@videoPlayer" value="'),n.b(n.v(n.f("videoID",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.b('    <param name="autoStart" value="'),i.b(i.v(i.f("autoplay",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('    <param name="playerID" value="'),i.b(i.v(i.f("playerID",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('    <param name="playerKey" value="'),i.b(i.v(i.f("playerKey",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('    <param name="height" value="'),i.b(i.v(i.f("height",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('    <param name="width" value="'),i.b(i.v(i.f("width",e,t,0))),i.b('" />'),i.b("\n"+n),i.b("\n"+n),i.s(i.f("linkBaseURL",e,t,1),e,t,0,979,1041,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('    <param name="linkBaseURL" value="'),n.b(n.v(n.f("linkBaseURL",e,t,0))),n.b('" />'),n.b("\n")}),e.pop()),i.b("\n"+n),i.b('    <param name="bgcolor" value="#FFFFFF" />'),i.b("\n"+n),i.b('    <param name="isVid" value="true" />'),i.b("\n"+n),i.b('    <param name="isUI" value="true" />'),i.b("\n"+n),i.b('    <param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('    <param name="includeAPI" value="true" />'),i.b("\n"+n),i.b('    <param name="templateLoadHandler" value="mobileCheckOnLoaded" />'),i.b("\n"+n),i.b('    <param name="allowScriptAccess" value="always" />'),i.b("\n"+n),i.b('    <param name="wmode" value="transparent">'),i.b("\n"+n),i.b("  </object>"),i.b("\n"+n),i.b("</div>"),i.fl()}),"video.homepage":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div style="display:none">'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b('<object id="myExperience_'),i.b(i.v(i.f("rand",e,t,0))),i.b('" class="BrightcoveExperience">'),i.b("\n"+n),i.b('<param name="adServerURL" value="'),i.b(i.v(i.f("adServerURL",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="bgcolor" value="#FFFFFF" />'),i.b("\n"+n),i.b('<param name="width" value="718" />'),i.b("\n"+n),i.b('<param name="height" value="404" />'),i.b("\n"+n),i.b("\n"+n),i.s(i.f("playlistId",e,t,1),e,t,0,280,573,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<param name="@videoList" value="'),i.b(i.v(i.f("playlistId",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="@videoList.featured" value="'),i.b(i.v(i.f("videoId",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="@videoPlayer" value="'),i.b(i.v(i.f("videoId",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="playerID" value="2733779365001" />'),i.b("\n"+n),i.b('<param name="playerKey" value="AQ~~,AAAAAASoY90~,_gW1ZHvKG_37pf9E7EjOJLOqjpfk03Py" />'),i.b("\n")}),e.pop()),i.b("\n"+n),i.s(i.f("playlistId",e,t,1),e,t,1,0,0,"")||(i.b('<param name="playerID" value="2602660224001" />'),i.b("\n"+n),i.b('<param name="playerKey" value="AQ~,AAAAAASoY90,_gW1ZHvKG_2kTeC_BUN_X-T-UXzlc6Nf" />'),i.b("\n"+n),i.b('<param name="@videoPlayer" value="'),i.b(i.v(i.f("videoId",e,t,0))),i.b('" />'),i.b("\n")),i.b("\n"+n),i.b('<param name="isVid" value="true" />'),i.b("\n"+n),i.b('<param name="isUI" value="true" />'),i.b("\n"+n),i.b('<param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('<param name="includeAPI" value="true" />'),i.b("\n"+n),i.b('<param name="templateLoadHandler" value="myTemplateLoaded" />'),i.b("\n"+n),i.b('<param name="allowScriptAccess" value="always" />'),i.b("\n"+n),i.b('<param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('<param name="autoStart" value="true" />'),i.b("\n"+n),i.b("</object>"),i.b("\n"),i.fl()}),"video.lightbox":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div style="display:none">'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b('<object id="myExperience_'),i.b(i.v(i.f("rand",e,t,0))),i.b('" class="BrightcoveExperience">'),i.b("\n"+n),i.b('<param name="adServerURL" value="'),i.b(i.v(i.f("adServerURL",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="bgcolor" value="#FFFFFF" />'),i.b("\n"+n),i.b('<param name="width" value="1065" />'),i.b("\n"+n),i.b('<param name="height" value="599" />'),i.b("\n"+n),i.b('<param name="playerID" value="2602660226001" />'),i.b("\n"+n),i.b('<param name="@videoPlayer" value="'),i.b(i.v(i.f("videoId",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="playerKey" value="AQ~,AAAAAASoY90,_gW1ZHvKG_3WhVd2RiA9GWzoJoEsWqWR" />'),i.b("\n"+n),i.b('<param name="isVid" value="true" />'),i.b("\n"+n),i.b('<param name="isUI" value="true" />'),i.b("\n"+n),i.b('<param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('<param name="includeAPI" value="true" />'),i.b("\n"+n),i.b('<param name="templateLoadHandler" value="myTemplateLoaded" />'),i.b("\n"+n),i.b('<param name="allowScriptAccess" value="always" />'),i.b("\n"+n),i.b('<param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('<param name="autoStart" value="true" />'),i.b("\n"+n),i.b("</object>"),i.fl()}),"video.mobile":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div style="display:none">'),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b('<object id="myExperience_'),i.b(i.v(i.f("rand",e,t,0))),i.b('" class="BrightcoveExperience">'),i.b("\n"+n),i.b('<param name="adServerURL" value="'),i.b(i.v(i.f("adServerURL",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="bgcolor" value="#FFFFFF" />'),i.b("\n"+n),i.b('<param name="width" value="320" />'),i.b("\n"+n),i.b('<param name="height" value="180" />'),i.b("\n"+n),i.b("\n"+n),i.s(i.f("playlistId",e,t,1),e,t,0,280,573,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<param name="@videoList" value="'),i.b(i.v(i.f("playlistId",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="@videoList.featured" value="'),i.b(i.v(i.f("videoId",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="@videoPlayer" value="'),i.b(i.v(i.f("videoId",e,t,0))),i.b('" />'),i.b("\n"+n),i.b('<param name="playerID" value="2733779365001" />'),i.b("\n"+n),i.b('<param name="playerKey" value="AQ~~,AAAAAASoY90~,_gW1ZHvKG_37pf9E7EjOJLOqjpfk03Py" />'),i.b("\n")}),e.pop()),i.b("\n"+n),i.s(i.f("playlistId",e,t,1),e,t,1,0,0,"")||(i.b('<param name="playerID" value="2602660224001" />'),i.b("\n"+n),i.b('<param name="playerKey" value="AQ~,AAAAAASoY90,_gW1ZHvKG_2kTeC_BUN_X-T-UXzlc6Nf" />'),i.b("\n"+n),i.b('<param name="@videoPlayer" value="'),i.b(i.v(i.f("videoId",e,t,0))),i.b('" />'),i.b("\n")),i.b("\n"+n),i.b('<param name="isVid" value="true" />'),i.b("\n"+n),i.b('<param name="isUI" value="true" />'),i.b("\n"+n),i.b('<param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('<param name="includeAPI" value="true" />'),i.b("\n"+n),i.b('<param name="templateLoadHandler" value="myTemplateLoaded" />'),i.b("\n"+n),i.b('<param name="allowScriptAccess" value="always" />'),i.b("\n"+n),i.b('<param name="dynamicStreaming" value="true" />'),i.b("\n"+n),i.b('<param name="autoStart" value="true" />'),i.b("\n"+n),i.b("</object>"),i.b("\n"),i.fl()}),"fullslate.embedded":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("embedded",e,t,1),e,t,0,13,795,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="item '),i.b(i.v(i.f("style",e,t,0))),i.b(' sponsored small">'),i.b("\n"+n),i.s(i.f("hasQuery",e,t,1),e,t,0,78,165,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('      <a href="'),n.b(n.v(n.f("absoluteUrl",e,t,0))),n.b('&wpisrc=homepagefullslate" data-vr-contentbox="">'),n.b("\n")}),e.pop()),i.s(i.f("hasQuery",e,t,1),e,t,1,0,0,"")||(i.b('      <a href="'),i.b(i.v(i.f("absoluteUrl",e,t,0))),i.b('?wpisrc=hpsponsoredmr" data-vr-contentbox="">'),i.b("\n")),i.b('    <small class="detail">Sponsored Content</small>'),i.b("\n"+n),i.b('    <span class="title">'),i.b(i.t(i.f("menuline",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b("  </a>"),i.b("\n"+n),i.b('   <img src="" width="1" height="1" alt="" border="0" style="display:none" id="sponsor_fullslate_track_pixel" />'),i.b("\n"+n),i.b('            <script type="text/javascript">'),i.b("\n"+n),i.b('               var trackPixel = "'),i.b(i.v(i.f("trackingPixel",e,t,0))),i.b('";'),i.b("\n"+n),i.b('               if(trackPixel!="") {'),i.b("\n"+n),i.b('                   $("#sponsor_fullslate_track_pixel").attr("src", trackPixel + new Date().getTime());'),i.b("\n"+n),i.b("               }"),i.b("\n"+n),i.b("            </script>"),i.b("\n"+n),i.b("</div>"),i.b("\n")}),e.pop()),i.fl()}),"rightrail.stories":new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("recommendations",e,t,1),e,t,0,20,1246,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="item'),i.s(i.f("thumbnail",e,t,1),e,t,1,0,0,"")||i.b(" no-image"),i.s(i.f("slateplus",e,t,1),e,t,0,88,98,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(" slateplus")}),e.pop()),i.s(i.f("outbrain",e,t,1),e,t,0,125,134,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(" outbrain")}),e.pop()),i.s(i.f("sponsored",e,t,1),e,t,0,161,171,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b(" sponsored")}),e.pop()),i.b('">'),i.b("\n"+n),i.b("  "),i.s(i.f("outbrain",e,t,1),e,t,0,203,336,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("<a class=\"badge\" onclick=\"OBR.extern.callWhatIs('http://www.outbrain.com/what-is/default/en','',-1,-1,true ,null);return false;\"></a>")}),e.pop()),i.b("\n"+n),i.b('  <a href="'),i.b(i.v(i.f("url",e,t,0))),i.s(i.f("slateplus",e,t,1),e,t,0,382,404,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("?wpsrc=sp_all_rr_story")}),e.pop()),i.b('" '),i.s(i.f("partner",e,t,1),e,t,0,432,447,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('target="_blank"')}),e.pop()),i.b(' class="story-link" data-track=\'{ "id": "'),i.b(i.v(i.f("articleId",e,t,0))),i.b('", "module": "smart-rr", "position": '),i.b(i.v(i.f("position",e,t,0))),i.b(" }'>"),i.b("\n"+n),i.b("    "),i.s(i.f("slateplus",e,t,1),e,t,0,585,612,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<span class="badge"></span>');
}),e.pop()),i.b("\n"+n),i.b("    "),i.s(i.f("sponsored",e,t,1),e,t,0,645,692,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<small class="detail">Sponsored Content</small>')}),e.pop()),i.b("\n"+n),i.b("    "),i.s(i.f("partner",e,t,1),e,t,0,723,768,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<small class="detail">From '),n.b(n.v(n.f("source",e,t,0))),n.b("</small>")}),e.pop()),i.b("\n"+n),i.b("    "),i.s(i.f("slateplus",e,t,1),e,t,0,799,844,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<small class="detail">From Slate Plus</small>')}),e.pop()),i.b("\n"+n),i.b("    "),i.s(i.f("thumbnail",e,t,1),e,t,0,877,914,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<img data-src="'),n.b(n.v(n.f("thumbnail",e,t,0))),n.b('" alt="">')}),e.pop()),i.b("\n"+n),i.b('    <span class="title">'),i.b(i.t(i.f("menuline",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b("  </a>"),i.b("\n"+n),i.s(i.f("outbrain",e,t,1),e,t,0,997,1225,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('  <div class="ob_what">'),i.b("\n"+n),i.b("    <a href=\"#\" onclick=\"OBR.extern.callWhatIs('http://www.outbrain.com/what-is/default/en','',-1,-1,true ,null);return false\">"),i.b("\n"+n),i.b('      <span class="ob_amelia" title="Outbrain"></span>'),i.b("\n"+n),i.b("    </a>"),i.b("\n"+n),i.b("  </div>"),i.b("\n")}),e.pop()),i.b("</div>"),i.b("\n")}),e.pop()),i.fl()}),upnext:new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div id="upnext-results" data-track-module="upnext">'),i.b("\n"+n),i.b('<div class="black-header">UP NEXT</div>'),i.b("\n"+n),i.s(i.f("top1",e,t,1),e,t,0,102,392,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="item upnext-leftalign">'),i.b("\n"+n),i.b('  <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="story-link" data-track=\'{ "id": "'),i.b(i.v(i.f("articleId",e,t,0))),i.b('", "module": "upnext", "position": 1 }\'>'),i.b("\n"+n),i.b("    "),i.s(i.f("thumbnail",e,t,1),e,t,0,271,317,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("thumbnail",e,t,0))),n.b('" alt="'),n.b(n.t(n.f("menuline",e,t,0))),n.b('">')}),e.pop()),i.b("\n"+n),i.b('    <span class="title">'),i.b(i.t(i.f("menuline",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b("  </a>"),i.b("\n"+n),i.b("</div>"),i.b("\n")}),e.pop()),i.b("\n"+n),i.s(i.f("top2",e,t,1),e,t,0,412,697,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<div class="item right-align">'),i.b("\n"+n),i.b('  <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="story-link" data-track=\'{ "id": "'),i.b(i.v(i.f("articleId",e,t,0))),i.b('", "module": "upnext", "position": 2 }\'>'),i.b("\n"+n),i.b('    <span class="title">'),i.b(i.t(i.f("menuline",e,t,0))),i.b("</span>"),i.b("\n"+n),i.b("    "),i.s(i.f("thumbnail",e,t,1),e,t,0,622,668,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<img src="'),n.b(n.v(n.f("thumbnail",e,t,0))),n.b('" alt="'),n.b(n.t(n.f("menuline",e,t,0))),n.b('">')}),e.pop()),i.b("\n"+n),i.b("  </a>"),i.b("\n"+n),i.b("</div>"),i.b("\n")}),e.pop()),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b("    "),i.fl()}),roadBlock:new e.Template(function(e,t,n){var i=this;return i.b(n=n||""),i.b("<script>"),i.b("\n"+n),i.b("  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){"),i.b("\n"+n),i.b("  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),"),i.b("\n"+n),i.b("  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)"),i.b("\n"+n),i.b("  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');"),i.b("\n"+n),i.b("  ga('create', 'UA-53821000-1', 'auto');"),i.b("\n"+n),i.b("  ga('send', 'pageview');"),i.b("\n"+n),i.b("</script>"),i.b("\n"+n),i.b('<img src="http://p.liadm.com/p?c=15165"/>'),i.b("\n"+n),i.b('<div id="roadblock">'),i.b("\n"+n),i.b('  <div id="roadblock_firefox" tabindex="-1"></div>'),i.b("\n"+n),i.b('  <div class="roadblock-whiteout"></div>'),i.b("\n"+n),i.b('  <div class="roadblock-wrapper"></div>'),i.b("\n"+n),i.b('  <div class="roadblock-content">'),i.b("\n"+n),i.b('    <div class="header-purple" id="roadblock_header" tabindex="-1" style="height: 95px;">'),i.b("\n"+n),i.b("      <h1>"),i.b("\n"+n),i.b("        "),i.b(i.t(i.f("headerText",e,t,0))),i.b("\n"+n),i.s(i.f("headerText",e,t,1),e,t,1,0,0,"")||(i.s(i.f("mobileMode",e,t,1),e,t,0,809,864,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("        Join Slate Plus to read this article."),n.b("\n")}),e.pop()),i.s(i.f("mobileMode",e,t,1),e,t,1,0,0,"")||(i.b("        Join Slate Plus to see this bonus content."),i.b("\n"))),i.b("      </h1>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <div class="roadblock-main">'),i.b("\n"+n),i.b('      <div class="roadblock-body" id="roadblock_body">'),i.b("\n"+n),i.b("        "),i.b(i.t(i.f("bodyImage",e,t,0))),i.b("\n"+n),i.b("        "),i.b(i.t(i.f("bodyText",e,t,0))),i.b("\n"+n),i.s(i.f("bodyText",e,t,1),e,t,1,0,0,"")||(i.s(i.f("mobileMode",e,t,1),e,t,0,1206,1565,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("        <p>This page of bonus content was created exclusively for members of <strong>Slate Plus</strong>. Join today and you’ll also get access to more exclusive content, like our Slate Academy on the History of American Slavery, plus podcast bonus segments, fewer ads, event discounts and more. Scroll down to sign up and start your free trial.</p>"),n.b("\n")}),e.pop()),i.s(i.f("mobileMode",e,t,1),e,t,1,0,0,"")||(i.b("        <p>You like Slate. And we like you. That’s why our membership program, <strong>Slate Plus</strong>, brings you more of what you love—like this page of <strong>Slate Plus</strong> bonus content you've clicked to (created exclusively for our members).</p>"),i.b("\n"+n),i.b("        <p>For just $5 a month or $50 a year, you'll get a suite of enhancements and extras, like bonus podcast segments, single-page articles, 30% discounts on live events and exclusive access to ambitious special projects like our new <em><strong>Slate</strong></em> Academies. <strong>Slate Plus</strong> members also get access to S+ content in our apps and removal of the most intrusive ads, like pop-ups and in-article video ads.</p>"),i.b("\n"+n),i.b("        <p>And if you become an annual member today you'll receive a bonus gift, a 1-year subscription to <em>New York</em> magazine.</p>"),i.b("\n"+n),i.b("        <p>Sign up for <strong>Slate Plus</strong> using the form on the right, or click below to learn more about how you can get more out of <strong><em>Slate</em></strong> while supporting our journalism.</p>"),i.b("\n"+n),i.b("        <p>Thanks,<br/>"),i.b("\n"+n),i.b("        Julia Turner<br/>"),i.b("\n"+n),i.b("        Editor</p>"),i.b("\n"))),i.s(i.f("infoLink",e,t,1),e,t,0,2793,2825,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("        "),n.b(n.t(n.f("infoLink",e,t,0))),n.b("\n")}),e.pop()),i.s(i.f("infoLink",e,t,1),e,t,1,0,0,"")||(i.b('        <a href="/plus/" class="plus-button">Learn More</a>'),i.b("\n")),i.b("      </div>"),i.b("\n"+n),i.b('      <div class="roadblock-form" id="roadblock_form">'),i.b("\n"+n),i.b("        <p>Try it out for just $1 the first month, then choose:</p>"),i.b("\n"+n),i.b("      </div>"),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b('<script id="slateplus_showFormInFrame" type="text/javascript">'),i.b("\n"+n),i.b("requirejs(['config', \"slateplus\"], function(config, slateplus) {"),i.b("\n"+n),i.b("  if (config.janrain.siteConfig.enabled) {"),i.b("\n"+n),i.b("    slateplus.showFormInFrame('roadblock_form', janrain.capture.ui.hasActiveSession(), '"),i.b(i.v(i.f("overlayScreen",e,t,0))),i.b("');"),i.b("\n"+n),i.b("  }"),i.b("\n"+n),i.b("});"),i.b("\n"+n),i.b("</script>"),i.b("\n"+n),i.b('<div class="roadblock-success-copy" style="display:none">'),i.b("\n"+n),i.b('  <div class="header-purple" id="roadblock_success_header">'),i.b("\n"+n),i.b('    <div class="header-purple-headergroup">'),i.b("\n"+n),i.b('      <h1>Congratulations<span id="roadblock_success_name"></span>! You&rsquo;re a member of Slate Plus!</h1>'),i.b("\n"+n),i.b('      <div class="roadblock-close">Close and get started</div>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b('  <div id="roadblock_success_body">'),i.b("\n"+n),i.b('    <div class="checklist">'),i.b("\n"+n),i.b('      <p class="mug">Annual gift delivery in 6-8 weeks!<span class="check"></span></p>'),i.b("\n"+n),i.b('      <p>Single page articles activated! <span class="check"></span></p>'),i.b("\n"+n),i.b('      <p>Ad-free podcast link emailed to you! <span class="check"></span></p>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b('    <div class="intro">'),i.b("\n"+n),i.b("      <h2>Now What?</h2>"),i.b("\n"+n),i.b('      <section class="tour full-link">'),i.b("\n"+n),i.b('        <span class="item-number">1</span>'),i.b("\n"+n),i.b('        <a href="#" id="success-tour" class="primary"></a>'),i.b("\n"+n),i.b("        <p>Take a tour!</p>"),i.b("\n"+n),i.b("      </section>"),i.b("\n"+n),i.b('      <section class="free full-link">'),i.b("\n"+n),i.b('        <span class="item-number">2</span>'),i.b("\n"+n),i.b('        <a href="#" id="success-refer" class="primary"></a>'),i.b("\n"+n),i.b("        <p>Get a month of Slate Plus free when you refer a friend!</p>"),i.b("\n"+n),i.b("      </section>"),i.b("\n"+n),i.b('      <section class="favorite full-link">'),i.b("\n"+n),i.b('        <span class="item-number">3</span>'),i.b("\n"+n),i.b('        <form name="favorite-form" id="favorite_form">'),i.b("\n"+n),i.b('          <div class="row">'),i.b("\n"+n),i.b("            <label>Remind us! Who's your favorite Slatester?</label>"),i.b("\n"+n),i.b('            <select id="favorite_author">'),i.b("\n"+n),i.b('              <option value="">Choose an author...</option>'),i.b("\n"+n),i.b('              <option value="emily_bazelon">Emily Bazelon</option>'),i.b("\n"+n),i.b('              <option value="jamelle_bouie">Jamelle Bouie</option>'),i.b("\n"+n),i.b('              <option value="john_dickerson">John Dickerson</option>'),i.b("\n"+n),i.b('              <option value="dahlia_lithwick">Dahlia Lithwick</option>'),i.b("\n"+n),i.b('              <option value="stephen_metcalf">Stephen Metcalf</option>'),i.b("\n"+n),i.b('              <option value="mike_pesca">Mike Pesca</option>'),i.b("\n"+n),i.b('              <option value="phil_plait">Phil Plait</option>'),i.b("\n"+n),i.b('              <option value="david_plotz">David Plotz</option>'),i.b("\n"+n),i.b('              <option value="dana_stevens">Dana Stevens</option>'),i.b("\n"+n),i.b('              <option value="julia_turner">Julia Turner</option>'),i.b("\n"+n),i.b('              <option value="emily_yoffe">Emily Yoffe</option>'),i.b("\n"+n),i.b('              <option value="other">Other</option>'),i.b("\n"+n),i.b("            </select>"),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b('          <div class="row" id="custom_author">'),i.b("\n"+n),i.b('            <input type="text" name="custom-author" id="custom_author_input" placeholder="Enter your favorite Slatester" /><input type="button" value = "Go" id="custom_author_button" />'),i.b("\n"+n),i.b("          </div>"),i.b("\n"+n),i.b('          <div class="row" id="custom_author_list"></div>'),i.b("\n"+n),i.b('          <script type="text/javascript" src="http://admin.brightcove.com/js/api/SmartPlayerAPI.js"></script>'),i.b("\n"+n),i.b('          <script type="text/javascript">'),i.b("\n"+n),i.b("          requirejs(["),i.b("\n"+n),i.b("            'jquery',"),i.b("\n"+n),i.b("            'libs/jquery-plugins/jquery.autoComplete',"),i.b("\n"+n),i.b("            'config',"),i.b("\n"+n),i.b("            'brightcove',"),i.b("\n"+n),i.b("            'brightcovetracking'"),i.b("\n"+n),i.b("          ], function($, unused0, config, brightcove, unused) {"),i.b("\n"+n),i.b('            var authorVideo = "";'),i.b("\n"+n),i.b('            var authorVideoId = "";'),i.b("\n"+n),i.b("            var myslateDomain = config.myslate.myslate_domain,"),i.b("\n"+n),i.b("                myslateProtocol = config.myslate.myslate_https,"),i.b("\n"+n),i.b("                myslateUrl = (myslateProtocol ? 'https:' : 'http:') + myslateDomain;"),i.b("\n"+n),i.b("\n"+n),i.b('            $("#favorite_author").change(function() {'),i.b("\n"+n),i.b("              switch ($(this).val()) {"),i.b("\n"+n),i.b('                case "emily_yoffe":'),i.b("\n"+n),i.b("                  saveAuthor(159);"),i.b("\n"+n),i.b('                  loadVideo("3331690200001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "david_plotz":'),i.b("\n"+n),i.b("                  saveAuthor(102);"),i.b("\n"+n),i.b('                  loadVideo("3521031677001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "john_dickerson":'),i.b("\n"+n),i.b("                  saveAuthor(571);"),i.b("\n"+n),i.b('                  loadVideo("3331690201001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "emily_bazelon":'),i.b("\n"+n),i.b("                  saveAuthor(19);"),i.b("\n"+n),i.b('                  loadVideo("3331690201001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "julia_turner":'),i.b("\n"+n),i.b("                  saveAuthor(61);"),i.b("\n"+n),i.b('                  loadVideo("3691220978001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "stephen_metcalf":'),i.b("\n"+n),i.b("                  saveAuthor(58);"),i.b("\n"+n),i.b('                  loadVideo("3331754899001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "dana_stevens":'),i.b("\n"+n),i.b("                  saveAuthor(56);"),i.b("\n"+n),i.b('                  loadVideo("3331754899001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "dahlia_lithwick":'),i.b("\n"+n),i.b("                  saveAuthor(20);"),i.b("\n"+n),i.b('                  loadVideo("3373455320001");'),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b('                case "other":'),i.b("\n"+n),i.b("                  doOtherSelect();"),i.b("\n"+n),i.b("                  break;"),i.b("\n"+n),i.b("              }"),i.b("\n"+n),i.b("            });"),i.b("\n"+n),i.b("            var doOtherSelect = function() {"),i.b("\n"+n),i.b('              $("#custom_author").show();'),i.b("\n"+n),i.b("              var showAuthors = function(jsonData) {"),i.b("\n"+n),i.b("                var authorNames = [];"),i.b("\n"+n),i.b("                var authorIds = {};"),i.b("\n"+n),i.b("                $(jsonData.authors).each(function() {"),i.b("\n"+n),i.b("                  authorNames.push(this.fields.display_name);"),i.b("\n"+n),i.b("                  authorIds[this.fields.display_name] = this.pk;"),i.b("\n"+n),i.b("                });"),i.b("\n"+n),i.b('                $("#custom_author_input").autoComplete({'),i.b("\n"+n),i.b("                  minChars:2,"),i.b("\n"+n),i.b("                  delimiter: /(,|;)\\s*/,"),i.b("\n"+n),i.b("                  width: 264,"),i.b("\n"+n),i.b("                  zIndex: 999999999,"),i.b("\n"+n),i.b("                  appendTo: '#custom_author_list',"),i.b("\n"+n),i.b("                  lookup: authorNames"),i.b("\n"+n),i.b("                });"),i.b("\n"+n),i.b('                $("#custom_author_button").click(function(e) {'),i.b("\n"+n),i.b("                  e.preventDefault();"),i.b("\n"+n),i.b('                  saveAuthor(authorIds[$("#custom_author_input").val()]);'),i.b("\n"+n),i.b('                  loadVideo("3691220978001");'),i.b("\n"+n),i.b("                });"),i.b("\n"+n),i.b("              };"),i.b("\n"+n),i.b("\n"+n),i.b('              var feedUrl = myslateUrl + "articles/popular_authors";'),i.b("\n"+n),i.b("              $.ajax({"),i.b("\n"+n),i.b('                type: "GET",'),i.b("\n"+n),i.b("                url: feedUrl,"),i.b("\n"+n),i.b("                async: false,"),i.b("\n"+n),i.b('                contentType: "application/json",'),i.b("\n"+n),i.b('                dataType: "jsonp",'),i.b("\n"+n),i.b("                success: function(results) {"),i.b("\n"+n),i.b("                  showAuthors(results);"),i.b("\n"+n),i.b("                },"),i.b("\n"+n),i.b("                error: function(e) {"),i.b("\n"+n),i.b("                  if (console && console.log) {"),i.b("\n"+n),i.b("                    console.log(e.message);"),i.b("\n"+n),i.b("                  }"),i.b("\n"+n),i.b("                }"),i.b("\n"+n),i.b("              });"),i.b("\n"+n),i.b("            }"),i.b("\n"+n),i.b("            var saveAuthor = function(authorId) {"),i.b("\n"+n),i.b("              $.ajax({"),i.b("\n"+n),i.b('                type: "GET",'),i.b("\n"+n),i.b('                url: myslateUrl + "users/update/?favorite_author_id=" + authorId,'),i.b("\n"+n),i.b("                async: false,"),i.b("\n"+n),i.b('                contentType: "application/json",'),i.b("\n"+n),i.b('                dataType: "jsonp"'),i.b("\n"+n),i.b("              });"),i.b("\n"+n),i.b("            }"),i.b("\n"+n),i.b("            var loadVideo = function(videoid) {"),i.b("\n"+n),i.b("              var adServerURL = 'http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/91898098/slate.video';"),i.b("\n"+n),i.b("              authorVideo=\"<object id='tsgp-901' class='BrightcoveExperience'>\" +"),i.b("\n"+n),i.b("                \"<param name='@videoPlayer' value='\" + videoid + \"' />\" +"),i.b("\n"+n),i.b("                \"<param name='adServerURL' value='\" + adServerURL + \"' />\" +"),i.b("\n"+n),i.b("                \"<param name='autoStart' value='true' />\" +"),i.b("\n"+n),i.b("                \"<param name='playerID' value='1519028538001' />\" +"),i.b("\n"+n),i.b("                \"<param name='playerKey' value='AQ~~%2CAAAAAASoY90~%2C_gW1ZHvKG_1U0LqDiRqg6y9siD7-Z_bO' />\" +"),i.b("\n"+n),i.b("                \"<param name='width' value='588' />\" +"),i.b("\n"+n),i.b("                \"<param name='height' value='331' />\" +"),i.b("\n"+n),i.b("                \"<param name='bgcolor' value='#FFFFFF' />\" +"),i.b("\n"+n),i.b("                \"<param name='isVid' value='true' />\" +"),i.b("\n"+n),i.b("                \"<param name='isUI' value='true' />\" +"),i.b("\n"+n),i.b("                \"<param name='dynamicStreaming' value='true' />\" +"),i.b("\n"+n),i.b("                \"<param name='includeAPI' value='true' />\" +"),i.b("\n"+n),i.b("                \"<param name='templateLoadHandler' value='mobileCheckOnLoaded' />\" +"),i.b("\n"+n),i.b("                \"<param name='allowScriptAccess' value='always' />\" +"),i.b("\n"+n),i.b('              "</object>";'),i.b("\n"+n),i.b('              $("#favorite_form").html(authorVideo);'),i.b("\n"+n),i.b("              brightcove.createExperiences();"),i.b("\n"+n),i.b("            }"),i.b("\n"+n),i.b("          });"),i.b("\n"+n),i.b("\n"+n),i.b("          var mobileCheckOnLoaded = function (experienceID) {"),i.b("\n"+n),i.b("            if (mobileMode()) {"),i.b("\n"+n),i.b("              var bp = brightcove.api.getExperience(experienceID);"),i.b("\n"+n),i.b("              var be = bp.getModule(brightcove.api.modules.APIModules.EXPERIENCE);"),i.b("\n"+n),i.b("              if (Modernizr.mq('all and (max-width : 320px)')) {"),i.b("\n"+n),i.b("                be.setSize(300, 169);"),i.b("\n"+n),i.b('                $("#tsgp-901").attr("width", "300").attr("height", "169");'),i.b("\n"+n),i.b("              } else {"),i.b("\n"+n),i.b("                be.setSize(548, 308);"),i.b("\n"+n),i.b('                $("#tsgp-901").attr("width", "548").attr("height", "308");'),i.b("\n"+n),i.b("              }"),i.b("\n"+n),i.b("            }"),i.b("\n"+n),i.b("            return myTemplateLoaded(experienceID);"),i.b("\n"+n),i.b("          }"),i.b("\n"+n),i.b("\n"+n),i.b("          /**"),i.b("\n"+n),i.b("           * Google Analytics"),i.b("\n"+n),i.b("           */"),i.b("\n"+n),i.b("          $(window).on('message', function(e) {"),i.b("\n"+n),i.b("            var event = e.originalEvent;"),i.b("\n"+n),i.b("            var data = event.data;"),i.b("\n"+n),i.b('            if (data.type == "done" && !data.already_member && data.subscription_details !== undefined) {'),i.b("\n"+n),i.b("              ga('require', 'ecommerce');"),i.b("\n"+n),i.b("\n"+n),i.b("              ga('ecommerce:addTransaction', {"),i.b("\n"+n),i.b("                'id': data.subscription_details.subscription_details_id,"),i.b("\n"+n),i.b("                'affiliation': 'Slate Plus',"),i.b("\n"+n),i.b("                'revenue': data.subscription_details.subscription_details_price"),i.b("\n"+n),i.b("              });"),i.b("\n"+n),i.b("\n"+n),i.b("              ga('ecommerce:addItem', {"),i.b("\n"+n),i.b("                'category': 'Slate Plus',"),i.b("\n"+n),i.b("                'id': data.subscription_details.subscription_details_price,"),i.b("\n"+n),i.b("                'name': data.annual ? 'Annual' : 'Monthly',"),i.b("\n"+n),i.b("                'quantity': '1',"),i.b("\n"+n),i.b("                'price': data.subscription_details.subscription_details_price"),i.b("\n"+n),i.b("              });"),i.b("\n"+n),i.b("\n"+n),i.b("              ga('ecommerce:send');"),i.b("\n"+n),i.b("            }"),i.b("\n"+n),i.b("          });"),i.b("\n"+n),i.b("\n"+n),i.b("\n"+n),i.b("          </script>"),i.b("\n"+n),i.b("        </form>"),i.b("\n"+n),i.b("      </section>"),i.b("\n"+n),i.b('      <div class="roadblock-close">Close and get started</div>'),i.b("\n"+n),i.b("    </div>"),i.b("\n"+n),i.b("  </div>"),i.b("\n"+n),i.b("</div>"),i.b("\n"+n),i.b("\n"+n),i.b('<script id="slateplus_roadblock">'),i.b("\n"+n),i.b(' requirejs(["jquery","shared/overlay"],function($,overlay) {'),i.b("\n"+n),i.b("    if (mobileMode()) {"),i.b("\n"+n),i.b("      var $roadblockHeader = $('#roadblock_header'),"),i.b("\n"+n),i.b("      $mobileHeaderHeight = $roadblockHeader.find('h1').height(),"),i.b("\n"+n),i.b("      //30px top and bottom"),i.b("\n"+n),i.b("      mobileHeaderPadding = 30*2;"),i.b("\n"+n),i.b("      $roadblockHeader.height($mobileHeaderHeight + mobileHeaderPadding);"),i.b("\n"+n),i.b("    }"),i.b("\n"+n),i.b("\n"+n),i.b("   $('#roadblock').on('click', '#success-tour', function(e) {"),i.b("\n"+n),i.b("     overlay.overlay({"),i.b("\n"+n),i.b('       id: "overlay-tour",'),i.b("\n"+n),i.b('       content: \'<div class="small progress progress-roadblock"><div>Loading...</div></div><img width="100%" class="tour-image" src="/content/dam/slate/slateplus/dashboard/slatePlusTour.png" />\','),i.b("\n"+n),i.b("       css: {"),i.b("\n"+n),i.b('            background: "transparent",'),i.b("\n"+n),i.b('            marginTop: "0px",'),i.b("\n"+n),i.b('            width: "95%"'),i.b("\n"+n),i.b("       },"),i.b("\n"+n),i.b("       buttonCss: {"),i.b("\n"+n),i.b('        display: "none"'),i.b("\n"+n),i.b("       },"),i.b("\n"+n),i.b("       scrollable: true,"),i.b("\n"+n),i.b("       hideOnWrapperClick: false,"),i.b("\n"+n),i.b("       onComplete: function(overlay) {"),i.b("\n"+n),i.b("       $('#roadblock').hide();"),i.b("\n"+n),i.b('         $("#overlay-tour").click(function(e) {'),i.b("\n"+n),i.b("           overlay.hide();"),i.b("\n"+n),i.b("           $('#roadblock').show();"),i.b("\n"+n),i.b("         });"),i.b("\n"+n),i.b("       }"),i.b("\n"+n),i.b("     });"),i.b("\n"+n),i.b("   });"),i.b("\n"+n),i.b("\n"+n),i.b("  $('#roadblock').on('click', '#success-refer', function(e) {"),i.b("\n"+n),i.b("    overlay.overlay({"),i.b("\n"+n),i.b('        id: "overlay-refer",'),i.b("\n"+n),i.b('        content: \'<div class="wrapper-overlay"><h1 style="text-align:center">Coming soon.</h1></div>\','),i.b("\n"+n),i.b("        onComplete: function(overlay) {"),i.b("\n"+n),i.b("        $('#roadblock').hide();"),i.b("\n"+n),i.b('          $("#overlay-refer").click(function(e) {'),i.b("\n"+n),i.b("            overlay.hide();"),i.b("\n"+n),i.b("            $('#roadblock').show();"),i.b("\n"+n),i.b("          });"),i.b("\n"+n),i.b("        }"),i.b("\n"+n),i.b("    });"),i.b("\n"+n),i.b("  });"),i.b("\n"+n),i.b("});"),i.b("\n"+n),i.b("\n"+n),i.b("</script>"),i.b("\n"),i.fl()})},n=function(e){var n=t[e];return function(e,i,a){return n.render(e,i||t,a)}};return{"janrain.editProfile":n("janrain.editProfile"),"janrain.emailVerification":n("janrain.emailVerification"),"janrain.forgotPassword":n("janrain.forgotPassword"),"janrain.mergeAccount":n("janrain.mergeAccount"),"janrain.registration":n("janrain.registration"),"janrain.resetPassword":n("janrain.resetPassword"),"janrain.signIn":n("janrain.signIn"),"livefyre-tabs":n("livefyre-tabs"),overlay:n("overlay"),"tp.janrain.registration":n("tp.janrain.registration"),"tp.janrain.signIn":n("tp.janrain.signIn"),"account.header":n("account.header"),"account.identity":n("account.identity"),"b.embedded":n("b.embedded"),"d.embedded":n("d.embedded"),"fullslate.embedded":n("fullslate.embedded"),"video.brightcovesingle":n("video.brightcovesingle"),"b.embedded":n("b.embedded"),"d.embedded":n("d.embedded"),"video.brightcovea1spot":n("video.brightcovea1spot"),"video.homepage":n("video.homepage"),"video.lightbox":n("video.lightbox"),"video.mobile":n("video.mobile"),"fullslate.embedded":n("fullslate.embedded"),"rightrail.stories":n("rightrail.stories"),upnext:n("upnext"),roadBlock:n("roadBlock")}}),define("promise",[],function(){"use strict";var e;return e=function(e){return e&&"object"==typeof e?window.Promise&&e instanceof Promise?!0:"function"==typeof e.then:!1},{load:function(t,n,i){n([t],function(t){var n,a,r;n=function(){i.error.apply(null,arguments)},a=function(){i.apply(null,arguments)},e(t)?(r=t.done||t.then,"function"==typeof t.fail?(r.call(t,a),t.fail(n)):r.call(t,a,n)):i(t)})}}}),define("myslateUserData",["jquery","config"],function(e,t){var n=e.cookie("slate_plus"),i=!1;if("undefined"!==e.type(n)){var a=n.split(",");e.each(a,function(e,t){var n=t.split(":");"user"===n[0]&&(i=JSON.parse(n[1]))})}if(i)return i;var r=new e.Deferred,o={};null!==t.page.articleId&&(o.articleId=t.page.articleId);var s="https:",l="//my.slate.com/";return t.janrain.siteConfig.enabled&&(s=t.myslate.myslate_https?"https:":"http:",l=s+t.myslate.myslate_domain),e.ajax({url:l+"users/slate_page_info/",data:o,dataType:"jsonp",timeout:15e3,success:function(e,t,n){r.resolve(e)},error:function(e,t,n){console.log(t,n),r.resolve({})}}),r.promise()}),define("myslate",["jquery","libs/jquery-plugins/jquery.cookie","s_code","templates","config","promise!myslateUserData"],function(e,t,n,i,a,r){function o(){var t=this;a.janrain.siteConfig.enabled&&(this.host=a.myslate.myslate_domain,this.https=a.myslate.myslate_https,this.myslateUrl=this.getMySlateProtocol()+a.myslate.myslate_domain,this.site_base_domain=a.myslate.site_base_domain),this.isActiveUser=!0,this.articleId,this.subscriptionData,this.inManualQueue=!1,this.hasPayWall=!1,this.isInitialized=!1,this.inPopup=!1,this.storyPath="",this.slatePlusReferralUrl="";var n="false",i="na",o=0;if(e.cookie("slate_plus")){var s=e.cookie("slate_plus").split(",");e.each(s,function(e,t){switch(t.split(":")[0]){case"user":n=t.split(":")[1];break;case"type":i=t.split(":")[1];break;case"ref":o=t.split(":")[1]}})}return this.isSlatePlusUser="true"==n?!0:!1,"boolean"===e.type(r)&&(this.isSlatePlusUser=r),this.slatePlusType=i,this.slatePlusReferrals=parseInt(o),this.expiringCard(),t}o.prototype.parseSlatePlusCookie=function(t){var n={};if(e.cookie("slate_plus")){var i=e.cookie("slate_plus").split(",");if(e.each(i,function(e,t){var i=t.split(":");n[i[0]]=i[1]}),t)return n[t]}return n},o.prototype.getMySlateProtocol=function(){var e="https";return a.janrain.siteConfig.enabled&&(e=a.myslate.myslate_https?"https:":"http:"),e},o.prototype.getMySlateUserData=function(t){var n=this,i={};null!==n.articleId&&(i.articleId=n.articleId),e.ajax({url:n.myslateUrl+"users/slate_page_info/",data:i,dataType:"jsonp",timeout:15e3,success:function(e,i,a){n.getAllData(e,t)},error:function(e,i,a){console.log(e,i,a),n.getAllData({},t)}})},o.prototype.ajaxCall=function(){},o.prototype.getMySlateURL=function(e){e=e||"";var t=this.myslateUrl;return/\/$/.test(t)||(t+="/"),t+e},o.prototype.removeAllCookies=function(){for(var t=["myslate_login_inactive","slate_plus","slate_plus_type"],n=t.length,i=0;n>i;i++)e.removeCookie(t[i],{path:"/",domain:this.site_base_domain})},o.prototype.createMySlateDataNoUserCookie=function(){var t=new Date,n=this;t.setTime(t.getTime()+6e5),e.cookie("myslate_login_inactive","true",{expires:t,path:"/",domain:this.site_base_domain}),n.isActiveUser=!1},o.prototype.createSlatePlusCookie=function(t,n){e.cookie("slate_plus","user:true,type:"+t+",ref:"+n,{expires:30,path:"/",domain:this.site_base_domain})},o.prototype.removeSlatePlusCookie=function(){e.removeCookie("slate_plus",{path:"/",domain:this.site_base_domain})},o.prototype.init=function(t,n){var i=this;return i.isActiveUser=null!==e.cookie("wapo_login_id")&&(void 0===e.cookie("myslate_login_inactive")||null===e.cookie("myslate_login_inactive")||"null"===e.cookie("myslate_login_inactive")),i.articleId=t,i.hasPayWall=n,i.hasPayWall&&"object"===e.type(r)?i.getAllData(r):i.isActiveUser&&"object"===e.type(r)&&i.getAllData(r),i},o.prototype.handleNonUser=function(){this.removeSlatePlusCookie(),this.isSlatePlusUser=!1,this.slatePlusType="na",this.slatePlusReferrals=0,e("body").removeClass("slateplus-user")},o.prototype.getAllData=function(t,n){var i=this;if(e.isEmptyObject(t))return console.log("MySlateData","data is empty"),i.queue=null,i.subscriptions=null,i.inManualQueue=!1,void e(window).trigger("MySlateData.Fetch",!1);if(t.success===!1&&(i.queue=null,i.subscriptions=null,i.inManualQueue=!1,i.isActiveUser=!1,e(window).trigger("MySlateData.Fetch",!1)),202==t.status)return i.isInitialized=!0,i.createMySlateDataNoUserCookie(),i.queue=null,i.subscriptions=null,i.inManualQueue=!1,void e(window).trigger("MySlateData.Fetch",!1);if(t.user&&t.user.queue?i.queue=t.user.queue:i.queue=null,t.user&&t.user.subscriptions?i.subscriptions=t.user.subscriptions:i.subscriptions=null,t.user&&t.user.membership?(i.membership=t.user.membership,t.user.membership.slate_plus_share_link&&(i.slatePlusReferralUrl=t.user.membership.slate_plus_share_link)):i.membership=null,i.membership&&i.membership.membership_active){i.isSlatePlusUser=i.membership.membership_active,i.membership.completed_referrals&&(i.slatePlusReferrals=i.membership.completed_referrals);var a="o";if(i.membership.membership_type){switch(i.membership.membership_type.split(" ")[0].toLowerCase()){case"monthly":a="m";break;case"annual":a="a";break;case"staff":a="sf";break;case"external":a="ef"}i.slatePlusType=a}i.createSlatePlusCookie(a,i.slatePlusReferrals),e("body").addClass("slateplus-user")}else i.handleNonUser();i.hasPayWall&&(i.membership&&"declined"===i.membership.membership_status_display?(i.handleNonUser(),e("#roadblock").remove(),i.showOverlay({loggedIn:0,headerText:t.user.display_name+", please update your credit card",bodyImage:"",bodyText:['<p class="membership-update">Your membership in Slate Plus has been temporarily disabled due to a problem with your credit card.',"Don't miss out on your great benefits!","Please visit your",'<a href="/account.plususer.html" style="color: yellow;">Account page</a>',"to update your credit card information and re-activate your Plus membership.</p>"].join(" "),$hedLocation:".page .article-header .hed",delay:0,infoLink:'<p><a href="/account.plususer.html" class="plus-button">Visit Your Account Page</a></p>',success:!0,timing:0}),e("body").addClass("slateplus-user--deactivated")):i.SlatePlusRoadBlock(i.isSlatePlusUser)),t.in_manual_queue&&(i.inManualQueue=t.in_manual_queue),!t.message||-1==t.message.indexOf("wapo_login_id")&&-1==t.message.indexOf("User matching query does not exist.")?e(window).trigger("MySlateData.Fetch",t):(i.createMySlateDataNoUserCookie(),e(window).trigger("MySlateData.Fetch",!1)),i.isInitialized=!0,n&&n.call()},o.prototype.showOverlay=function(t){var a=i.roadBlock,r=a({loggedIn:t.loggedIn,headerText:mobileMode()?t.mobileHeaderText:t.headerText,bodyImage:t.bodyImage,bodyText:mobileMode()?t.mobileBodyText:t.bodyText,
infoLink:void 0!==t.infoLink?t.infoLink:!1,success:void 0!==t.success?t.success:!1,overlayScreen:t.overlayScreen||"traditionalRegistration",mobileMode:mobileMode()}),o=void 0!==t.delay?t.delay:0,s=void 0!==t.timing?t.timing:375;n.trackRoadBlockShown(),e("body").addClass("roadblock"),e("body").append(r),"undefined"!==e.type(t.customClass)&&e("#roadblock").addClass(t.customClass);var l=e(window).height(),c="number"==typeof t.$hedLocation?t.$hedLocation:e(t.$hedLocation).next().offset().top-10;e("#pageContainer1")?(e("#pageContainer1").children().each(function(t){var n=e(e("#pageContainer1").children()[0]).hasClass("pagebreak-anchor")?2:1;t>n&&e(this).remove()}),e(".body").children().each(function(t){t>0&&e(this).remove()})):e(".body").children().each(function(t){t>1&&e(this).remove()}),e("#roadblock .roadblock-whiteout, #roadblock .roadblock-wrapper, #roadblock .roadblock-content").css("top",l+"px"),e("#roadblock").show(),mobileMode()||tabletPortraitMode()?e("#roadblock .roadblock-whiteout, #roadblock .roadblock-content").animate({top:"0px"},750):(e("#roadblock").hide(),setTimeout(function(){e("#roadblock").show(),e("#roadblock .roadblock-whiteout, #roadblock .roadblock-wrapper, #roadblock .roadblock-content").animate({top:c+"px"},s),e("#roadblock_firefox").focus()},o))},o.prototype.hideOverlay=function(){$selectors=["#roadblock",".roadblock-success-copy","#slateplus_showFormInFrame","#slateplus_roadblock"].join(","),mobileMode()||tabletPortraitMode()?e($selectors).remove():e("#roadblock .roadblock-whiteout, #roadblock .roadblock-wrapper, #roadblock .roadblock-content").animate({top:e("body").height()+"px"},375,function(){e($selectors).remove()}),e("#roadblock").trigger("roadblockRemoved")},o.prototype.SlatePlusRoadBlock=function(t){var n=this,i=function(){if(0===e("#roadblock").size()){var t=!1;a.janrain.siteConfig.enabled&&(t=janrain.capture.ui.hasActiveSession());var i,r,o,s=window.location.pathname.split(".html")[0]+"/_jcr_content/roadblock.0.json";e.ajax(s,{success:function(e){e.customRoadblock&&(i=e.headerText,o=e.bodyText,e.bodyImage&&(r='<img src="'+e.bodyImage+'" style="float: left; padding-right: 10px;" />')),n.showOverlay({loggedIn:t,headerText:i,bodyImage:r,bodyText:o,mobileHeaderText:e.headerTextMobile||i,mobileBodyText:e.bodyTextMobile||o,$hedLocation:".page .article-header .hed",delay:1500,customClass:"roadblock-custom-text"})},error:function(e,i,a){n.showOverlay({loggedIn:t,headerText:"Join Slate Plus to see this bonus content.",bodyImage:"",bodyText:["<p>You like Slate. And we like you. So we created our membership program, Slate Plus, to bring you more of what you love—like this page of Slate Plus bonus content you've clicked to (created exclusively for our members).</p>","<p>We'd like to invite you to join.</p>","<p>For just $5 a month or $50 a year, you'll get a suite of enhancements and extras, like bonus podcast segments, single-page articles, access to Slatesters, and VIP seating at live events.</p>","<p>And if you become a founding annual member today you'll receive a Slate mug exclusively designed by Jonathan Adler.</p>","<p>I can honestly say the stuff we're offering Slate Plus members is great, and getting more impressive as we add features all the time. Sign up for Slate Plus right now using the form on the right, or click below to learn more about how you can get more out of Slate while supporting our journalism.</p>","<p>Thanks,<br>","Julia Turner<br>","Editor</p>"].join(""),$hedLocation:".page .article-header .hed",delay:1500})}})}};t||a.janrain.siteConfig.enabled&&e(window).on("janrain.ready",i)},o.prototype.saveSubscription=function(t,n,i){var a=this,r={type:t,display_name:n};e.ajax({url:a.myslateUrl+"users/subscribe/",dataType:"jsonp",timeout:15e3,data:r,success:function(e,t,n){return 202==e.status?(a.createMySlateDataNoUserCookie(),i&&i(!1),!1):(i&&i(!0),!0)},error:function(e,t,n){return i&&i(!0),!1}})},o.prototype.removeSubscription=function(t,n,i){var a=this,r={type:t,display_name:n};e.ajax({url:a.myslateUrl+"users/unsubscribe/",dataType:"jsonp",timeout:15e3,data:r,success:function(e,t,n){return 202==e.status?(a.createMySlateDataNoUserCookie(),i&&i(!1),!1):(i&&i(!0),!0)},error:function(e,t,n){return i&&i(!1),!1}})},o.prototype.saveManualRead=function(){var t=this,n={articleId:t.articleId};e.ajax({url:t.myslateUrl+"users/add_to_queue/",dataType:"jsonp",timeout:15e3,data:n,success:function(e,n,i){return 202==e.status?(t.createMySlateDataNoUserCookie(),!1):!0},error:function(e,t,n){return!1}})},o.prototype.removeManualRead=function(){var t=this,n={articleId:t.articleId};e.ajax({url:t.myslateUrl+"users/remove_from_queue/",dataType:"jsonp",timeout:15e3,data:n,success:function(e,n,i){return 202==e.status?(t.createMySlateDataNoUserCookie(),!1):!0},error:function(e,t,n){return!1}})},o.prototype.paginate=function(){this.isSlatePlusUser&&(e("ul.pages").remove(),e('div[id^="page"]').each(function(t,n){e(this).find(".sl-art-prev-page").remove(),e(this).show()}),e(".pagination-container").hide())},o.prototype.benefits=function(){if(this.isSlatePlusUser){var t='<div class="slateplus-benefits">In-page comments and single-page articles provided as part of your Slate Plus membership.</div>';e(".main > footer").after(t)}},o.clearNotifications=function(){var t=this;t.isActiveUser&&e.ajax({url:t.myslateUrl+"users/update/",dataType:"jsonp",timeout:5e3,success:function(t,n,i){e(window).trigger("MySlateData.Notifications",{count:0})},error:function(e,t,n){console&&console.log&&console.log(n)}})},o.prototype.expiringCard=function(){var t=e.cookie("s_segs");void 0!==t&&t.indexOf("expiring_credit_card")>-1&&!e.cookie("no_cc_notice")&&(e("body").prepend(['<header class="notification notification_cc">',"Your credit card is about to expire.","Please update your card information",'<a href="/account.plususer.html">here</a>.','<a href="#" class="close">X</a>',"</header>"].join(" ")),e(".notification_cc .close").off().on("click",function(t){t.preventDefault(),e.cookie("no_cc_notice",1,{expires:7300});var n=e(this);return n.parent().fadeOut(function(){e(this).remove()}),!1}))},o.prototype.removePlusHomepagePromo=function(){"homepage"===window.commercialNode&&(console.log("HERE",this.isSlatePlusUser),this.isSlatePlusUser&&e(".slateplus-promo").remove())};var s=new o;return e(window).data("MySlateData",s),s.init(a.page.articleId,a.page.roadblocked),s}),define("socialpopups",["jquery","config"],function(e,t){Object.keys=Object.keys||function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var r=[];for(var o in a)e.call(a,o)&&r.push(o);if(t)for(var s=0;i>s;s++)e.call(a,n[s])&&r.push(n[s]);return r}}();var n={twitter:function(t){e(t).click(function(t){var n=""!==selectedText&&e(this).data("share").indexOf("&text=")<0?e(this).data("share")+"&text="+encodeURI(selectedText):e(this).data("share");window.open(n,"twitter","toolbar=0,status=0,width=620,height=280"),t.preventDefault()})},facebookshare:function(t){e(t).click(function(t){var n=e(this).data("share").replace("_tw_","_fb_");window.open(n,"facebookshare","toolbar=0,status=0,width=620,height=280"),t.preventDefault()})},formatCount:function(e){return e>=1e5?e=(e/1e3).toFixed(0).toString()+"k":e>=1e3&&(e=(e/1e3).toFixed(1).toString(),e=e.replace(/[.]0*$/,"")+"k"),e},twitterCountCallback:function(t,i){var a=n.formatCount(parseInt(t.count));e(".social.social-with-popup .twitter .count").each(function(){e(this).data("articleid")==i&&e(this).html(a)})},twitterCountHelper:function(t){var i=t.articleId,a="https://cdn.api.twitter.com/1/urls/count.json?url="+t.storyUrl;e.ajax({type:"GET",url:a,async:!1,contentType:"application/json",dataType:"jsonp",success:function(e){n.twitterCountCallback(e,i)},error:function(e){console&&console.log&&console.log(e.message)}})},getCounts:function(t){e.each(t,function(e,t){n.twitterCountHelper(t),n.facebookCountHelper(t)})},facebookCountCallback:function(t,i){var a=n.formatCount(parseInt(t.data[0].total_count));e(".social.social-with-popup a.facebook").each(function(){e(this).data("articleid")==i&&e(this).find("span.count").html(a)})},facebookCountHelper:function(t){var i=t.articleId,a="https://graph.facebook.com/fql?q=select%20%20total_count%20from%20link_stat%20where%20url=%22"+t.storyUrl+"%22";e.ajax({type:"GET",url:a,async:!1,contentType:"application/json",dataType:"jsonp",success:function(e){n.facebookCountCallback(e,i)},error:function(e){console&&console.log&&console.log(e.message)}})},commentCountCallback:function(i){var a=i.data[t.livefyre.siteId],r={livefyre:"0"};"undefined"!==e.type(a)&&(r=a[Object.keys(a)[0]]);var o=parseInt(r.livefyre),s=n.formatCount(o);e(window).data("SocialCount",{livefyre:o}).trigger("socialCountUpdate"),e(".social.social-with-popup a.comments span.count, .comment-options a.count").each(function(){e(this).hasClass("labeled")&&o>0?e(this).html(s+" Comments"):e(this).html(s)}),e("a.comments").each(function(){if(e(this).hasClass("slateplus")){var t=e(this).find("span.count");o>1?t.html(s):(t.css("margin-top","10px"),e(this).html(e(this).html().replace("Comments","Comment")))}}),setTimeout(function(){n.commentCount(e("#comments").get(0))},1e4)},commentCount:function(i){var a=e(i).data("lf-hash");feedUrl="http://bootstrap."+t.livefyre.network+"/api/v1.1/public/comments/ncomments/"+a+".json",e.ajax({type:"GET",url:feedUrl,async:!1,contentType:"application/json",dataType:"jsonp",success:jQuery.proxy(n.commentCountCallback),error:function(e){console&&console.log&&console.log(e.message)}})},init:function(){if(e(".sharing-buttons a.twitter").length>0){var t=[],i=[];e(".sharing-buttons").each(function(){var n={};if(n.twitterUrl=e(this).find("a.twitter").data("share"),n.facebookUrl=e(this).find("a.facebook").data("share"),void 0!==n.twitterUrl){n.articleId=e(this).find("a.facebook").data("articleid");var a=n.twitterUrl.split("url=")[1].split("&")[0].replace("/content/slate","");if(n.storyUrl="http://www.slate.com"+a.split(a.split("//")[1].split("/")[0])[1],n.facebookUrl=n.facebookUrl.substring(0,n.facebookUrl.indexOf("p[url]="))+"p[url]="+n.storyUrl+"&u="+n.storyUrl,n.twitterUrl=n.twitterUrl.substring(0,n.twitterUrl.indexOf("url="))+"url="+n.storyUrl,mobileMode()?(n.facebookUrl=n.facebookUrl.replace("sh_all_dt_","sh_all_mob_").replace("sh_all_tab_","sh_all_mob_"),n.twitterUrl=n.twitterUrl.replace("sh_all_dt_","sh_all_mob_").replace("sh_all_tab_","sh_all_mob_")):tabletMode()&&(n.facebookUrl=n.facebookUrl.replace("sh_all_dt_","sh_all_tab_").replace("sh_all_mob_","sh_all_tab_"),n.twitterUrl=n.twitterUrl.replace("sh_all_dt_","sh_all_tab_").replace("sh_all_mob_","sh_all_tab_")),e(this).find("a.twitter").data("share",n.twitterUrl),e(this).find("a.facebook").data("share",n.facebookUrl),e(this).find("a.email").length>0){var r=e(this).find("a.email").attr("href");mobileMode()?r=r.replace("sh_all_dt_","sh_all_mob_").replace("sh_all_tab_","sh_all_mob_"):tabletMode()&&(r=r.replace("sh_all_dt_","sh_all_tab_").replace("sh_all_mob_","sh_all_tab_")),e(this).find("a.email").attr("href",r)}n.facebookUrl=n.facebookUrl.split("?wpsrc")[0],n.twitterUrl=n.twitterUrl.split("?wpsrc")[0],n.storyUrl=n.storyUrl.split("?wpsrc")[0],e(this).find(".tw-count").attr("href","http://twitter.com/search?q="+encodeURI(n.storyUrl)),i.indexOf(n.articleId)>-1||(t.push(n),i.push(n.articleId))}}),0===e(".no-counts").length&&n.getCounts(t),e(".sharing-buttons a.twitter").each(function(){n.twitter(this)}),e(".sharing-buttons a.facebook").each(function(){n.facebookshare(this)})}e("#comments").length>0&&n.commentCount(e("#comments")[0]),e(".mobile-comments").on("touchstart click",function(){return e("footer .horiz-counts-mobile").after(e(".comments-container")),e(".comments-container").show(),window.location.href=e(this).attr("href"),!1})}};return e(document).ready(function(){n.init()}),n}),define("search",["jquery","libs/jquery-plugins/jquery.cookie"],function(e,t){var n={queryly_key:"0c8cfe51df9241ae",query:"",previous_query:"",timer:null,queryly_suggestion:"",querylyCallback:function(t,i,a){n.queryly_suggestion=t.metadata.suggest,n.query="#nav_search_results"==i?e("#nav_search_field").val():e("#search_field").val();var r="",o=(n.query.charAt(0).toUpperCase()+n.query.slice(1),new RegExp("("+n.query+")","ig")),s="",l="",c=null;clearTimeout(c);var u=function(){n.query!=n.previous_query&&((new Image).src="http://www.queryly.com/track.aspx?queryly_key="+n.queryly_key+"&visitorid="+(e.cookie("wapo_login_id")?e.cookie("wapo_login_id"):e.cookie("wapo_vis_id"))+"&query="+escape(n.query)+"&suggest="+escape(t.metadata.suggest)+"&target=")};if(c=setTimeout(u,1e3),n.previous_query=n.query,e(".tag-header").html("Search"),e(t.items).each(function(a){if("#nav_search_results"==i)e("#nav_search_field_suggest").val(n.getFullSuggestion(i)),l=void 0!=this.image&&null!=this.image&&""!=this.image?"":" no-image",0==a&&(r+='<div class="resultsTitle">Recent Results for <strong>'+n.query+'</strong><span class="close"></span></div>'),r+='<div class="item'+l+'"><a href="'+this.link+'" class="story-link">',void 0!=this.image&&null!=this.image&&""!=this.image&&(r+='<img src="'+this.image.replace("thumbnail-small","rectangle-xsmall")+'" alt="'+this.menuline+'">'),r+='<span class="title">'+this.menuline.replace(o,"<strong>$1</strong>")+"</span>",r+="</a></div>";else{e("#search_field_suggest").val(n.getFullSuggestion(i)),l=void 0!=this.image&&null!=this.image&&""!=this.image?"":" no-image",s=this.description;var c=s.split(/\s+/);if(c.length<26)s=s;else{for(var u="",d=0;25>d;d++)u+=c[d]+" ";s=u,("."!=s.charAt(s.length-1)||"!"!=s.charAt(s.length-1)||"?"!=s.charAt(s.length-1)||'"'!=s.charAt(s.length-1))&&(s=s.trim()+"...")}if(r+='<div class="full-width left-image'+l+'"><a href="'+this.link+'" class="primary"></a>',void 0!=this.image&&null!=this.image&&""!=this.image&&(r+='<img class="left-image" src="'+this.image.replace("thumbnail-small","promo-small")+'">'),r+='<div class="details">',void 0!=this.rubric&&null!=this.rubric&&""!=this.rubric&&(r+='<span class="rubrik">'+this.rubric+"</span>"),void 0!=this.pubdate&&null!=this.pubdate&&""!=this.pubdate&&(r+='<span class="timestamp">'+this.pubdate+"</span>"),r+=void 0!=this.dek&&null!=this.dek&&""!=this.dek?'<h1 class="hed">'+this.name+'</h1><p class="dek">'+this.dek.replace(o,"<strong>$1</strong>")+"</p>":'<h1 class="hed">'+this.menuline+'</h1><p class="dek">'+s.replace(o,"<strong>$1</strong>")+"</p>",void 0!=this.author&&null!=this.author&&""!=this.author&&"authors"!=this.author&&(r+='<span class="byline">By '+this.author+"</span>"),r+="</div></div>",a==t.items.length-1){var p=t.items[0].index+1;e(".tag-header").html("Search results "+p+"-"+t.metadata.endindex+" of "+t.metadata.total+' for "'+n.query+'"'),t.metadata.total>t.metadata.endindex?e("#search_content .load-more-button").show():e("#search_content .load-more-button").hide()}}}),e(i).html(r).show(),e(i+" a").click(function(i){var a="http://www.queryly.com/track.aspx?queryly_key="+n.queryly_key+"&visitorid="+(e.cookie("wapo_login_id")?e.cookie("wapo_login_id"):e.cookie("wapo_vis_id"))+"&query="+escape(n.query)+"&suggest="+escape(t.metadata.suggest)+"&target="+encodeURIComponent(this.href.replace(/&/g,"&"));(new Image).src=a}),e("#nav_search_results span.close").click(function(){e("#nav_home_content").show(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e(i).html("").hide()}),null!=t.faceted){e(".advanced-search section ul").remove();var d="",p="",f="",h="",m="";null!=t.faceted.pubDate&&(d="<ul>",e(t.faceted.pubDate).each(function(e){var n=t.faceted.pubDate[e],i="";"24"==n.key?i="Past 24 Hours":"168"==n.key?i="Past week":"720"==n.key?i="Past Month":"4320"==n.key?i="Past 6 Months":"8760"==n.key&&(i="Past Year"),"4320"!=n.key&&"26280"!=n.key&&(d+='<li><a href="#" data-search-key="pubDate" data-search-value="'+n.key+'" class="facet">'+i+" ("+n.value+")</a></li>")}),d+="</ul>",t.faceted.pubDate.length>5?e(".pubDate-search .see-all").show():e(".pubDate-search .see-all").hide(),e(".pubDate-search").append(d).show()),null!=t.faceted.author&&(p="<ul>",e(t.faceted.author).each(function(e){var n=t.faceted.author[e];"authors"!=n.key&&(p+="<li"+(e>4?' class="more"':"")+'><a href="#" data-search-key="author" class="facet">'+n.key+" ("+n.value+")</a></li>")}),p+="</ul>",t.faceted.author.length>5?e(".author-search .see-all").show():e(".author-search .see-all").hide(),e(".author-search").append(p).show()),null!=t.faceted.section&&(f="<ul>",e(t.faceted.section).each(function(e){var n=t.faceted.section[e];f+="<li"+(e>4?' class="more"':"")+'><a href="#" data-search-key="section" class="facet">'+n.key+" ("+n.value+")</a></li>"}),f+="</ul>",t.faceted.section.length>5?e(".section-search .see-all").show():e(".section-search .see-all").hide(),e(".section-search").append(f).show()),null!=t.faceted.rubric&&(h="<ul>",e(t.faceted.rubric).each(function(e){var n=t.faceted.rubric[e];h+="<li"+(e>4?' class="more"':"")+'><a href="#" data-search-key="rubric" class="facet">'+n.key+" ("+n.value+")</a></li>"}),h+="</ul>",t.faceted.rubric.length>5?e(".rubric-search .see-all").show():e(".rubric-search .see-all").hide(),e(".rubric-search").append(h).show()),null!=t.faceted.topic&&(m="<ul>",e(t.faceted.topic).each(function(e){var n=t.faceted.topic[e];m+="<li"+(e>4?' class="more"':"")+'><a href="#" data-search-key="topic" class="facet">'+n.key+" ("+n.value+")</a></li>"}),m+="</ul>",t.faceted.topic.length>5?e(".topic-search .see-all").show():e(".topic-search .see-all").hide(),e(".topic-search").append(m).show());var b=null!=a&&""!=a?a:"",g=""!=b?b.split("&")[0].split("=")[1]:"",v=""!=b?b.split("&")[1].split("=")[1]:"";e(".advanced-search a.facet").each(function(){var t=null!=e(this).attr("data-search-value")&&""!=e(this).attr("data-search-value")?e(this).attr("data-search-value"):e(this).html().split(" (")[0];v.indexOf(t)>-1&&e(this).addClass("active")}),e(".advanced-search a.facet").click(function(t){t.preventDefault();var i=e(this).attr("data-search-key"),a=null!=e(this).attr("data-search-value")&&""!=e(this).attr("data-search-value")?e(this).attr("data-search-value"):e(this).html().split(" (")[0];if(g==i&&v==a)var r="";else{if(""!=g&&g.indexOf(i)>-1){var o="",s="";if(g.indexOf("|")>-1){var l=g.split("|"),c=v.split("|");e(l).each(function(e){this==i?c[e]!=a&&(o+=i+"|",s+=a+"|"):(o+=this+"|",s+=c[e]+"|")}),i=o.slice(0,-1),a=s.slice(0,-1)}else i=i,a=a}else i=""!=g?g+"|"+i:i,a=""!=v?v+"|"+a:a;var r="facetedkey="+i+"&facetedvalue="+a}n.searchQueryly(0,20,"#search_results",r)})}},searchQueryly:function(t,i,a,r){var o=null!=i&&i>0?i:10,s=null!=t&&t>0?t:0,l="menuline,dek,author,rubric,section";n.query="#nav_search_results"==a?e("#nav_search_field").val():e("#search_field").val();var c="#nav_search_results"==a?"false":"true";if(null!=r&&""!=r)var u=r.split("&")[0].split("=")[1],d=r.split("&")[1].split("=")[1],p={queryly_key:n.queryly_key,query:n.query,endindex:s,batchsize:o,showfaceted:c,extendedDataFields:l,facetedkey:u,facetedvalue:d};else var p={queryly_key:n.queryly_key,query:n.query,endindex:s,batchsize:o,showfaceted:c,extendedDataFields:l};feedUrl="http://api.queryly.com/json.aspx",e.ajax({type:"GET",url:feedUrl,data:p,async:!1,contentType:"application/json",dataType:"jsonp",success:function(e){n.querylyCallback(e,a,r)},error:function(e){console&&console.log&&console.log(e.message)}})},getFullSuggestion:function(t){var i="",a="#nav_search_results"==t?e("#nav_search_field").val():e("#search_field").val(),r=new Boolean(!1);if(r="#nav_search_results"==t?e("#nav_search_field_suggest").length:e("#search_field_suggest").length,r&&""!=n.queryly_suggestion&&a.length>0){var o=a.charAt(a.length-1),s=n.getLastWord(a),l=n.queryly_suggestion.substring(s.length);" "!=o&&n.queryly_suggestion.substring(0,s.length)==s.toLowerCase()&&(i=a+l)}return i},getLastWord:function(e){return(""+e).replace(/[\s]+$/,"").split(/[\s]/).pop()},pageSearch:function(t){var i=0,a=20;e("#search_form").submit(function(t){t.preventDefault(),""==e("#search_field").val()?(e(".tag-header").html("Search"),e("#search_results").html("").hide(),e("#search_content .load-more-button").hide()):n.searchQueryly(i,a,"#search_results")}),e("#search_field").keyup(function(t){switch(t.keyCode){case 37:return;case 38:return;case 39:return;case 40:return}if(clearTimeout(n.timer),""==e("#search_field").val())e(".tag-header").html("Search"),e("#search_results").html("").hide(),e("#search_content .load-more-button").hide(),n.queryly_suggestion="",e("#search_field_suggest").val("");else if(""==n.getFullSuggestion("#search_results")||0!=n.getFullSuggestion("#search_results").indexOf(e("#search_field").val().toLowerCase())){var r=function(){n.searchQueryly(i,a,"#search_results")};n.timer=setTimeout(r,300)}}),e("#search_field").keydown(function(t){var i=t.keyCode||t.which;9==i?(t.preventDefault(),""!=n.getFullSuggestion("#search_results")&&e("#search_field").val(n.getFullSuggestion("#search_results"))):32==i&&(n.queryly_suggestion="")}),e(".load-more-button").click(function(t){t.preventDefault(),i+=a,e("#search_results").html(""),n.searchQueryly(i,a,"#search_results"),window.scrollTo(0,0)}),e(".advanced-search a.see-all").click(function(t){t.preventDefault(),"See All"==e(this).html()?(e(this).html("See Less"),e(this).parent().parent().find("li.more").show()):"See Less"==e(this).html()&&(e(this).html("See All"),e(this).parent().parent().find("li.more").hide())}),e(document).ready(function(){null!=location.hash&&""!=location.hash&&location.hash.indexOf("search=")&&(e("#search_field").val(unescape(location.hash.split("search=")[1])),n.searchQueryly(i,a,"#search_results"))})},navSearch:function(t){var i=0,a=10;e("#nav_search_form").submit(function(t){if(t.preventDefault(),location.href.indexOf("/search.html")>-1)e("#search_field").val(e("#nav_search_field").val()).submit();else{var n=window.location.href.split("/"),i="content"!=n[3]||"slate"!=n[4]&&"theroot"!=n[4]?"/search.html":"/"+n[3]+"/"+n[4]+"/search.html";window.location=n[0]+"//"+n[2]+i+location.search+"#search="+escape(e("#nav_search_field").val())}}),e("#nav_search_field").keyup(function(t){switch(t.keyCode){case 37:return;case 38:return;case 39:return;case 40:return}if(clearTimeout(n.timer),""==e("#nav_search_field").val())e("#nav_search_results").html("").hide(),n.queryly_suggestion="",e("#nav_search_field_suggest").val("");else if(""==n.getFullSuggestion("#nav_search_results")||0!=n.getFullSuggestion("#nav_search_results").indexOf(e("#nav_search_field").val().toLowerCase())){var r=function(){n.searchQueryly(i,a,"#nav_search_results")};n.timer=setTimeout(r,300)}}),e("#nav_search_field").keydown(function(t){var i=t.keyCode||t.which;9==i?(t.preventDefault(),""!=n.getFullSuggestion("#nav_search_results")&&e("#nav_search_field").val(n.getFullSuggestion("#nav_search_results"))):32==i&&(n.queryly_suggestion="")})},mobileNavSearch:function(t){e("#mobile_search_form").submit(function(t){t.preventDefault(),window.location=location.protocol+"//"+location.host+"/search.html"+location.search+"#search="+escape(e("#mobile_search_field").val())})},init:function(e){"#search_results"==e?n.pageSearch(e):"#nav_search_results"==e?n.navSearch(e):"#mobile_search_results"==e&&n.mobileNavSearch(e)}};return n}),window.Modernizr=function(e,t,n){function i(e){y.cssText=e}function a(e,t){return i(x.join(e+";")+(t||""))}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var a=e[i];if(!o(a,"-")&&y[a]!==n)return"pfx"==t?a:!0}return!1}function l(e,t,i){for(var a in e){var o=t[e[a]];if(o!==n)return i===!1?e[a]:r(o,"function")?o.bind(i||t):o}return!1}function c(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+C.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?s(a,t):(a=(e+" "+T.join(i+" ")+i).split(" "),l(a,t,n))}function u(){h.input=function(n){for(var i=0,a=n.length;a>i;i++)I[n[i]]=n[i]in _;return I.list&&(I.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var i,a,r,o=0,s=e.length;s>o;o++)_.setAttribute("type",a=e[o]),i="text"!==_.type,i&&(_.value=w,_.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&_.style.WebkitAppearance!==n?(b.appendChild(_),r=t.defaultView,i=r.getComputedStyle&&"textfield"!==r.getComputedStyle(_,null).WebkitAppearance&&0!==_.offsetHeight,b.removeChild(_)):/^(search|tel)$/.test(a)||(i=/^(url|email)$/.test(a)?_.checkValidity&&_.checkValidity()===!1:_.value!=w)),E[e[o]]=!!i;return E}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,p,f="2.6.1",h={},m=!0,b=t.documentElement,g="modernizr",v=t.createElement(g),y=v.style,_=t.createElement("input"),w=":)",k={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),S="Webkit Moz O ms",C=S.split(" "),T=S.toLowerCase().split(" "),j={svg:"http://www.w3.org/2000/svg"},A={},E={},I={},P=[],O=P.slice,D=function(e,n,i,a){var r,o,s,l=t.createElement("div"),c=t.body,u=c?c:t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=a?a[i]:g+(i+1),l.appendChild(s);return r=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),l.id=g,(c?l:u).innerHTML+=r,u.appendChild(l),c||(u.style.background="",b.appendChild(u)),o=n(l,e),c?l.parentNode.removeChild(l):u.parentNode.removeChild(u),!!o},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var i;return D("@media "+t+" { #"+g+" { position: absolute; } }",function(t){i="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),i},M=function(){function e(e,a){a=a||t.createElement(i[e]||"div"),e="on"+e;var o=e in a;return o||(a.setAttribute||(a=t.createElement("div")),a.setAttribute&&a.removeAttribute&&(a.setAttribute(e,""),o=r(a[e],"function"),r(a[e],"undefined")||(a[e]=n),a.removeAttribute(e))),a=null,o}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),q={}.hasOwnProperty;p=r(q,"undefined")||r(q.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return q.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=O.call(arguments,1),i=function(){if(this instanceof i){var a=function(){};a.prototype=t.prototype;var r=new a,o=t.apply(r,n.concat(O.call(arguments)));return Object(o)===o?o:r}return t.apply(e,n.concat(O.call(arguments)))};return i}),A.flexbox=function(){return c("flexWrap")},A.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},A.canvastext=function(){return!!h.canvas&&!!r(t.createElement("canvas").getContext("2d").fillText,"function")},A.webgl=function(){return!!e.WebGLRenderingContext},A.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:D(["@media (",x.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},A.geolocation=function(){return"geolocation"in navigator},A.postmessage=function(){return!!e.postMessage},A.websqldatabase=function(){return!!e.openDatabase},A.indexedDB=function(){return!!c("indexedDB",e)},A.hashchange=function(){return M("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},A.history=function(){return!!e.history&&!!history.pushState},A.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},A.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},A.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),o(y.backgroundColor,"rgba")},A.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),o(y.backgroundColor,"rgba")||o(y.backgroundColor,"hsla")},A.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(y.background)},A.backgroundsize=function(){return c("backgroundSize")},A.borderimage=function(){return c("borderImage")},A.borderradius=function(){return c("borderRadius")},A.boxshadow=function(){return c("boxShadow")},A.textshadow=function(){return""===t.createElement("div").style.textShadow},A.opacity=function(){return a("opacity:.55"),/^0.55$/.test(y.opacity)},A.cssanimations=function(){return c("animationName")},A.csscolumns=function(){return c("columnCount")},A.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+x.join(n+e)).slice(0,-e.length)),o(y.backgroundImage,"gradient")},A.cssreflections=function(){return c("boxReflect")},A.csstransforms=function(){return!!c("transform")},A.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in b.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},A.csstransitions=function(){return c("transition")},A.fontface=function(){var e;return D('@font-face {font-family:"font";src:url("https://")}',function(n,i){var a=t.getElementById("smodernizr"),r=a.sheet||a.styleSheet,o=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";e=/src/i.test(o)&&0===o.indexOf(i.split(" ")[0])}),e},A.generatedcontent=function(){var e;return D(['#modernizr:after{content:"',w,'";visibility:hidden}'].join(""),function(t){e=t.offsetHeight>=1}),e},A.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},A.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},A.localstorage=function(){try{return localStorage.setItem(g,g),localStorage.removeItem(g),!0}catch(e){return!1}},A.sessionstorage=function(){try{return sessionStorage.setItem(g,g),sessionStorage.removeItem(g),!0}catch(e){return!1}},A.webworkers=function(){return!!e.Worker},A.applicationcache=function(){return!!e.applicationCache},A.svg=function(){return!!t.createElementNS&&!!t.createElementNS(j.svg,"svg").createSVGRect},A.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==j.svg},A.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(k.call(t.createElementNS(j.svg,"animate")))},A.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(k.call(t.createElementNS(j.svg,"clipPath")))};for(var L in A)p(A,L)&&(d=L.toLowerCase(),h[d]=A[L](),P.push((h[d]?"":"no-")+d));return h.input||u(),h.addTest=function(e,t){if("object"==typeof e)for(var i in e)p(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,m&&(b.className+=" "+(t?"":"no-")+e),h[e]=t}return h},i(""),v=_=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=b[e[h]];return t||(t={},m++,e[h]=m,b[m]=t),t}function r(e,n,i){if(n||(n=t),u)return n.createElement(e);i||(i=a(n));var r;return r=i.cache[e]?i.cache[e].cloneNode():f.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),
r.canHaveChildren&&!p.test(e)?i.frag.appendChild(r):r}function o(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||a(e);for(var r=n.frag.cloneNode(),o=0,s=i(),l=s.length;l>o;o++)r.createElement(s[o]);return r}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?r(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function l(e){e||(e=t);var i=a(e);return g.shivCSS&&!c&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||s(e,i),e}var c,u,d=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,h="_html5shiv",m=0,b={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,u=!0}}();var g={elements:d.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:d.shivCSS!==!1,supportsUnknownElements:u,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:l,createElement:r,createDocumentFragment:o};e.html5=g,l(t)}(this,t),h._version=f,h._prefixes=x,h._domPrefixes=T,h._cssomPrefixes=C,h.mq=N,h.hasEvent=M,h.testProp=function(e){return s([e])},h.testAllProps=c,h.testStyles=D,h.prefixed=function(e,t,n){return t?c(e,t,n):c(e,"pfx")},b.className=b.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+P.join(" "):""),h}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==b.call(e)}function a(e){return"string"==typeof e}function r(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=g.shift();v=1,e?e.t?h(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):v=0}function l(e,n,i,a,r,l,c){function u(t){if(!f&&o(d.readyState)&&(y.r=f=1,!v&&s(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&h(function(){w.removeChild(d)},50);for(var i in T[n])T[n].hasOwnProperty(i)&&T[n][i].onload()}}var c=c||p.errorTimeout,d={},f=0,b=0,y={t:i,s:n,e:r,a:l,x:c};1===T[n]&&(b=1,T[n]=[],d=t.createElement(e)),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,b)},g.splice(a,0,y),"img"!=e&&(b||2===T[n]?(w.insertBefore(d,_?null:m),h(u,c)):T[n].push(d))}function c(e,t,n,i,r){return v=0,t=t||"j",a(e)?l("c"==t?x:k,e,t,this.i++,n,i,r):(g.splice(this.i++,0,e),1==g.length&&s()),this}function u(){var e=p;return e.loader={load:c,i:0},e}var d,p,f=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],b={}.toString,g=[],v=0,y="MozAppearance"in f.style,_=y&&!!t.createRange().compareNode,w=_?f:m.parentNode,f=e.opera&&"[object Opera]"==b.call(e.opera),f=!!t.attachEvent&&!f,k=y?"object":f?"script":"img",x=f?"script":k,S=Array.isArray||function(e){return"[object Array]"==b.call(e)},C=[],T={},j={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,i,e=e.split("!"),a=C.length,r=e.pop(),o=e.length,r={url:r,origUrl:r,prefixes:e};for(n=0;o>n;n++)i=e[n].split("="),(t=j[i.shift()])&&(r=t(r,i));for(n=0;a>n;n++)r=C[n](r);return r}function o(e,a,r,o,l){var c=t(e),d=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(a&&(a=i(a)?a:a[e]||a[o]||a[e.split("/").pop().split("?")[0]]||s),c.instead?c.instead(e,a,r,o,l):(T[c.url]?c.noexec=!0:T[c.url]=1,r.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(i(a)||i(d))&&r.load(function(){u(),a&&a(c.origUrl,l,o),d&&d(c.origUrl,l,o),T[c.url]=2})))}function l(e,t){function n(e,n){if(e){if(a(e))n||(d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}),o(e,d,t,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(i(d)?d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(p[l])),o(e[l],d,t,l,c))}else!n&&f()}var s,l,c=!!e.test,u=e.load||e.both,d=e.callback||r,p=d,f=e.complete||r;n(c?e.yep:e.nope,!!u),u&&n(u)}var c,d,f=this.yepnope.loader;if(a(e))o(e,0,f,0);else if(S(e))for(c=0;c<e.length;c++)d=e[c],a(d)?o(d,0,f,0):S(d)?p(d):Object(d)===d&&l(d,f);else Object(e)===e&&l(e,f)},p.addPrefix=function(e,t){j[e]=t},p.addFilter=function(e){C.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,a,l,c){var u,d,f=t.createElement("script"),a=a||p.errorTimeout;f.src=e;for(d in i)f.setAttribute(d,i[d]);n=c?s:n||r,f.onreadystatechange=f.onload=function(){!u&&o(f.readyState)&&(u=1,n(),f.onload=f.onreadystatechange=null)},h(function(){u||(u=1,n(1))},a),l?f.onload():m.parentNode.insertBefore(f,m)},e.yepnope.injectCss=function(e,n,i,a,o,l){var c,a=t.createElement("link"),n=l?s:n||r;a.href=e,a.rel="stylesheet",a.type="text/css";for(c in i)a.setAttribute(c,i[c]);o||(m.parentNode.insertBefore(a,m),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},define("modernizr",function(){}),define("shared/overlay",["config","modernizr","templates","jquery"],function(e,t,n,i){var a={},r=n.overlay,o=0,s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},l=s[Modernizr.prefixed("transition")],c={transitions:Modernizr.csstransitions},u=!1,d=!1;Modernizr.mq("all and (max-width: 1024px)")&&(u=!0),Modernizr.mq("all and (max-width: 360px)")&&(d=!0,u=!1);var p=function(t){var n=this;"undefined"==typeof t.id&&(t.id="overlay_"+o,o++),"undefined"!=typeof t&&(e.log("passed"),i.each(t,function(e,t){n[e]=t})),this.autoAttach&&this.attach()},f=[];return p.prototype.target="body",p.prototype.type="scale",p.prototype.id="overlay",p.prototype.autoAttach=!0,p.prototype.content="",p.prototype.css={},p.prototype.buttonCss={},p.prototype.onOpen=function(){},p.prototype.onComplete=function(){},p.prototype.onCleanup=function(){},p.prototype.onClosed=function(){},p.prototype.attached=!1,p.prototype.scrollable=!1,p.prototype.detachOnHide=!0,p.prototype.hideOnWrapperClick=!0,p.prototype.attach=function(){var e=this;if(!this.attached){var t=i(this.target);t.prepend(r({id:this.id,type:this.type,content:this.content})),this.$overlay=i("#"+this.id),this.$closeBttn=this.$overlay.find("button.overlay-close");try{this.$closeBttn.get(0).addEventListener("click",this.hide.bind(this),!1)}catch(n){this.$closeBttn.get(0).attachEvent("click",this.hide.bind(this))}this.$content=this.$overlay.find(".overlay-content"),this.$content.css(this.css),this.$closeBttn.css(this.buttonCss),this.$topChild=i(this.$content.children()[0]),this.hideOnWrapperClick&&(this.$overlay.css("cursor","pointer"),this.$topChild.css("cursor","default"),this.$overlay.click(function(t){e.hide()}),this.$topChild.click(function(e){e.stopPropagation()})),(u||d)&&this.$topChild.prepend(this.$closeBttn.detach()),this.scrollable&&this.$overlay.addClass("overlay-scrollable");try{window.getComputedStyle(this.$overlay.get(0))}catch(n){}this.attached=!0}},p.prototype.detach=function(){this.attached&&this.$overlay.parent().detach(),this.attached=!1},p.prototype.show=function(){this.onOpen(this);var e=this,t=function(n){t.called||c.transitions&&e.$overlay.get(0).removeEventListener(l,t),e.onComplete(e),t.called=!0,i(window).one("keyup",function(t){27===t.keyCode&&e.hide()})};if(c.transitions)try{this.$overlay.get(0).addEventListener(l,t)}catch(n){this.$overlay.get(0).attachEvent(l,t)}else t();this.$overlay.addClass("open").removeClass("close"),this.$overlay.parent().addClass("wrapper-open").removeClass("wrapper-close")},p.prototype.hide=function(){this.onCleanup(this),this.$overlay.removeClass("open").addClass("close"),this.$overlay.parent().removeClass("wrapper-open").addClass("wrapper-close");var e=this,t=function(n){if(c.transitions){if("visibility"!==n.propertyName)return;e.$overlay.get(0).removeEventListener(l,t)}e.$overlay.removeClass("close"),e.$overlay.parent().removeClass("wrapper-close"),e.detachOnHide&&e.detach(),e.onClosed(e)};if(c.transitions)try{this.$overlay.get(0).addEventListener(l,t)}catch(n){this.$overlay.get(0).attachEvent(l,t)}else t()},a.getOverlay=function(e){var t=new p(e);return f.push(t),t},a.overlay=function(e){tmp=new p(e),f.push(tmp),tmp.attach(),setTimeout(function(){tmp.show()},100)},a.hideAll=function(){i.each(f,function(e,t){t.hide()})},a}),!function(e){"function"==typeof define&&define.amd?define("libs/jquery-plugins/jquery.storageapi",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(t){var n,i,a,r=arguments.length,o=window[t],s=arguments,l=s[1];if(2>r)throw new Error("Minimum 2 arguments must be given");if(e.isArray(l)){i={};for(var c in l){n=l[c];try{i[n]=JSON.parse(o.getItem(n))}catch(u){i[n]=o.getItem(n)}}return i}if(2!=r){try{i=JSON.parse(o.getItem(l))}catch(u){throw new ReferenceError(l+" is not defined in this storage")}for(var c=2;r-1>c;c++)if(i=i[s[c]],void 0===i)throw new ReferenceError([].slice.call(s,1,c+1).join(".")+" is not defined in this storage");if(e.isArray(s[c])){a=i,i={};for(var d in s[c])i[s[c][d]]=a[s[c][d]];return i}return i[s[c]]}try{return JSON.parse(o.getItem(l))}catch(u){return o.getItem(l)}}function n(t){var n,i,a=arguments.length,r=window[t],o=arguments,s=o[1],l=o[2],c={};if(2>a||!e.isPlainObject(s)&&3>a)throw new Error("Minimum 3 arguments must be given or second parameter must be an object");if(e.isPlainObject(s)){for(var u in s)n=s[u],e.isPlainObject(n)?r.setItem(u,JSON.stringify(n)):r.setItem(u,n);return s}if(3==a)return"object"==typeof l?r.setItem(s,JSON.stringify(l)):r.setItem(s,l),l;try{i=r.getItem(s),null!=i&&(c=JSON.parse(i))}catch(d){}i=c;for(var u=2;a-2>u;u++)n=o[u],i[n]&&e.isPlainObject(i[n])||(i[n]={}),i=i[n];return i[o[u]]=o[u+1],r.setItem(s,JSON.stringify(c)),c}function i(t){var n,i,a=arguments.length,r=window[t],o=arguments,s=o[1];if(2>a)throw new Error("Minimum 2 arguments must be given");if(e.isArray(s)){for(var l in s)r.removeItem(s[l]);return!0}if(2==a)return r.removeItem(s),!0;try{n=i=JSON.parse(r.getItem(s))}catch(c){throw new ReferenceError(s+" is not defined in this storage")}for(var l=2;a-1>l;l++)if(i=i[o[l]],void 0===i)throw new ReferenceError([].slice.call(o,1,l).join(".")+" is not defined in this storage");if(e.isArray(o[l]))for(var u in o[l])delete i[o[l][u]];else delete i[o[l]];return r.setItem(s,JSON.stringify(n)),!0}function a(t,n){var a=s(t);for(var r in a)i(t,a[r]);if(n)for(var r in e.namespaceStorages)l(r)}function r(n){var i=arguments.length,a=arguments,o=(window[n],a[1]);if(1==i)return 0==s(n).length;if(e.isArray(o)){for(var l=0;l<o.length;l++)if(!r(n,o[l]))return!1;return!0}try{var c=t.apply(this,arguments);e.isArray(a[i-1])||(c={totest:c});for(var l in c)if(!(e.isPlainObject(c[l])&&e.isEmptyObject(c[l])||e.isArray(c[l])&&!c[l].length)&&c[l])return!1;return!0}catch(u){return!0}}function o(n){var i=arguments.length,a=arguments,r=(window[n],a[1]);if(2>i)throw new Error("Minimum 2 arguments must be given");if(e.isArray(r)){for(var s=0;s<r.length;s++)if(!o(n,r[s]))return!1;return!0}try{var l=t.apply(this,arguments);e.isArray(a[i-1])||(l={totest:l});for(var s in l)if(void 0===l[s]||null===l[s])return!1;return!0}catch(c){return!1}}function s(n){var i=arguments.length,a=window[n],r=arguments,o=(r[1],[]),s={};if(s=i>1?t.apply(this,r):a,s._cookie)for(var l in e.cookie())""!=l&&o.push(l.replace(s._prefix,""));else for(var c in s)o.push(c);return o}function l(t){if(!t||"string"!=typeof t)throw new Error("First parameter must be a string");p?(window.localStorage.getItem(t)||window.localStorage.setItem(t,"{}"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,"{}")):(window.localCookieStorage.getItem(t)||window.localCookieStorage.setItem(t,"{}"),window.sessionCookieStorage.getItem(t)||window.sessionCookieStorage.setItem(t,"{}"));var n={localStorage:e.extend({},e.localStorage,{_ns:t}),sessionStorage:e.extend({},e.sessionStorage,{_ns:t})};return e.cookie&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,"{}"),n.cookieStorage=e.extend({},e.cookieStorage,{_ns:t})),e.namespaceStorages[t]=n,n}function c(e){if(!window[e])return!1;var t="jsapi";try{return window[e].setItem(t,t),window[e].removeItem(t),!0}catch(n){return!1}}var u="ls_",d="ss_",p=c("localStorage"),f={_type:"",_ns:"",_callMethod:function(e,t){var n=[this._type],t=Array.prototype.slice.call(t),i=t[0];return this._ns&&n.push(this._ns),"string"==typeof i&&-1!==i.indexOf(".")&&(t.shift(),[].unshift.apply(t,i.split("."))),[].push.apply(n,t),e.apply(this,n)},get:function(){return this._callMethod(t,arguments)},set:function(){var t=arguments.length,i=arguments,a=i[0];if(1>t||!e.isPlainObject(a)&&2>t)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(e.isPlainObject(a)&&this._ns){for(var r in a)n(this._type,this._ns,r,a[r]);return a}var o=this._callMethod(n,i);return this._ns?o[a.split(".")[0]]:o},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(i,arguments)},removeAll:function(e){return this._ns?(n(this._type,this._ns,{}),!0):a(this._type,e)},isEmpty:function(){return this._callMethod(r,arguments)},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return this._callMethod(o,arguments)},keys:function(){return this._callMethod(s,arguments)}};if(e.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var h={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(t,n){e.cookie(this._prefix+t,n,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return e.cookie(this._prefix+t)},removeItem:function(t){return e.removeCookie(this._prefix+t)},clear:function(){for(var t in e.cookie())""!=t&&(!this._prefix&&-1===t.indexOf(u)&&-1===t.indexOf(d)||this._prefix&&0===t.indexOf(this._prefix))&&e.removeCookie(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};p||(window.localCookieStorage=e.extend({},h,{_prefix:u,_expires:3650}),window.sessionCookieStorage=e.extend({},h,{_prefix:d+window.name+"_"})),window.cookieStorage=e.extend({},h),e.cookieStorage=e.extend({},f,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}e.initNamespaceStorage=function(e){return l(e)},p?(e.localStorage=e.extend({},f,{_type:"localStorage"}),e.sessionStorage=e.extend({},f,{_type:"sessionStorage"})):(e.localStorage=e.extend({},f,{_type:"localCookieStorage"}),e.sessionStorage=e.extend({},f,{_type:"sessionCookieStorage"})),e.namespaceStorages={},e.removeAllStorages=function(t){e.localStorage.removeAll(t),e.sessionStorage.removeAll(t),e.cookieStorage&&e.cookieStorage.removeAll(t),t||(e.namespaceStorages={})}}),define("announcements",["jquery","libs/jquery-plugins/jquery.cookie","libs/jquery-plugins/jquery.storageapi"],function(e,t){var n={namespace:"slateAnnouncements",closeBanner:function(t,n){e.cookie(n,99,{expires:720,domain:"slate.com",path:"/"}),e("#"+t+"_announcement").slideUp()},closeLSBanner:function(t){e("#"+t+"_announcement .close").trigger("click")},getLSBannerItem:function(t){var n=e.initNamespaceStorage(this.namespace).localStorage;return n.get(t)},removeLSBannerItem:function(t){var n=e.initNamespaceStorage(this.namespace).localStorage;n.remove(t)},showNoMore:function(t){var n=e.initNamespaceStorage(this.namespace).localStorage,i=n.get(t);i.show&&(i.show=0),n.set(t,i)},showAgain:function(t){var n=e.initNamespaceStorage(this.namespace).localStorage,i=n.get(t);i.show||(i.show=1),n.set(t,i)},showLSBanner:function(t){var n=e.initNamespaceStorage(this.namespace).localStorage,i=t.bannerName,a=t.bannerHTML,r=n.get(i),o=t.bannerMaxViews,s=t.bannerValue||"",l={},c=0;return""===e.trim(a)?c:"object"!=typeof r||r.show?("undefined"==typeof r?(c=1,l[i]={views:1,value:s,show:c}):"undefined"==typeof o?(c=1,l[i]={views:r.views+1,value:s,show:c}):"object"==typeof r&&r.views<o?(c=1,l[i]={views:r.views+1,value:s,show:c}):"number"==typeof r&&o>r&&(c=1,l[i]={views:r+1,value:s,show:c}),n.set(l),c&&(e(['<header id="'+i+'_announcement" class="notification">',a,'<a href="javascript:void(0)" class="close">X</a>',"</header>"].join("")).hide().prependTo("body").slideDown("slow"),e("#"+i+"_announcement .close").on("click",function(){l[i].views=(o||0)+1,n.set(l),e(this).parent(".notification").slideUp(),"function"==typeof t.closeCallback&&t.closeCallback.call(this,n)})),c):c},showBanner:function(t,i,a,r,o){var s=parseInt(e.cookie(i),10),l=!1;if(o=o||{expires:720,domain:"slate.com",path:"/"},isNaN(s)?(l=!0,e.cookie(i,1,o)):r>s?(l=!0,e.cookie(i,s+1,o)):l=!1,""===e.trim(a)&&(l=!1),l){e(['<header id="'+t+'_announcement" class="notification">',a,'<a href="javascript:void(0)" class="close">X</a>',"</header>"].join("")).hide().prependTo("body").slideDown("slow");var c="close"+t[0].toUpperCase()+t.substr(1)+"Banner";e("#"+t+"_announcement .close").click(n[c])}return l},deleteOldCookies:function(){var t=["betaIntro","overlayShown","redesignIntro","Origin_Type","persistTreatment"];for(var n in t)e.removeCookie(t[n],{domain:"slate.com",path:"/"})},closePolicyBanner:function(){return n.closeBanner("policy","policyChange"),!1},showPolicyBanner:function(){var e;return e='On February 28, 2014, <strong><em>Slate</em></strong> published an updated version of its <a target="_blank" href="/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_privacy_policy.html">Privacy Policy</a> and <a target="_blank" href="/articles/briefing/slate_user_agreement_and_privacy_policy/2012/12/slate_s_terms_of_service.html">Terms of Service</a>.  By continuing to use <strong><em>Slate</em></strong>&rsquo;s online properties, you agree to these revised documents and agree that they may apply to information that has already been collected by <strong><em>Slate</em></strong>.',n.showBanner("policy","policyChange",e,2)},closeReferralBanner:function(){return n.closeBanner("referral",void 0),!1},showReferralBanner:function(){var t="";return"undefined"!=typeof e.cookie("sp_ref_id")&&(t="Since you were invited by a Slate Plus member, you'll get <strong>$5 off</strong> your first payment if you sign up today."),n.isComboReferral()&&(t=["Since you used your special referral link,","you'll get <strong>$5 off</strong>","your first payment if you sign up today."].join(" ")),n.showBanner("referral",void 0,t,0)},isComboReferral:function(){return"undefined"!=typeof e.cookie("sp_ref_link_id")?1:0},openOverlay:function(t){var n,i="overlayShown",a=e.cookie(i),r=!1;if(("undefined"!=typeof t||"true"!=a||-1!=window.location.search.indexOf("showDocent=t"))&&(r=!0),!r||mobileMode())return!1;var o,s,l,c,u=e("body").width();return tabletMode()?(n=Modernizr.mq("(orientation: portrait)")?"http://www.slate.com/features/docent/SlateHP-tablet-portrait.jpg":"http://www.slate.com/features/docent/SlateHP-tablet-landscape.jpg",l="0",c="background-size: 100%;"):(n="http://www.slate.com/features/docent/SlateHP-desktop.jpg",s=1440,s>u?(l=(s-u)/2,l="-"+l+"px"):l="0",c=e("body").width()>1440?"background-size: 100% 100%;":""),o='<style type="text/css">#redesign_overlay {position:absolute;top:0;left:0;width:100%;height:100%;z-index:9999;background-position:'+l+" 0;"+c+'background-image:url("'+n+'")}</style> <div id="redesign_overlay"></div>',e("body").prepend(o),e("#redesign_overlay").click(function(){return e("#redesign_overlay").hide(),!1}),e.cookie(i,"true",{expires:3650,domain:"slate.com",path:"/"}),!0},closeOverlay:function(){console.log("closing overlay")},isHomePage:function(){var e=window.location.pathname,t=!1,n=!1;return-1!=window.location.search.indexOf("showDocent=t")&&(t=!0),(t||"/"==e||"/index.html"==e||"/content/slate/index.html"==e)&&(n=!0),n},showRedesignBanner:function(){var t,i,a=!1,r="/articles/briefing/slate_fare/2013/09/slate_s_redesign_what_we_changed_and_why.html";return a=n.isHomePage()&&!mobileMode(),t=a?'Welcome to <strong><em>Slate</em></strong>\'s redesigned site! <a href="#" class="redesign_tour">Take a quick tour</a>. <a target="_blank" href="'+r+'">Learn more and send your feedback</a>.':'Welcome to <strong><em>Slate</em></strong>\'s redesigned site! <a target="_blank" href="'+r+'">Learn more and send your feedback</a>.',mobileMode()&&(t=t.replace("! ","<br>")),i=n.showBanner("redesign","redesignIntro",t,20),a&&e("#redesign_announcement .redesign_tour").click(function(){return n.openOverlay("t"),!1}),i},closeRedesignBanner:function(){return n.closeBanner("redesign","redesignIntro"),!1},showRedesignIntro:function(){n.showRedesignBanner()}};return n}),define("slateplus",["jquery","myslate","s_code","templates","shared/overlay","announcements","config"],function(e,t,n,i,a,r,o){var s={mySlateHost:t.host,mySlateHttps:t.https,subscriptionUrl:(t.https?"https:":"http:")+t.host+"subscriptions/member-check/"};return s.showFormInFrame=function(e,t,n){if(s.divId=e,s.storyUrl=encodeURIComponent(window.location),t)s.showSubscribe();else{if("signIn"===n)return void s.showSignIn();s.showSignUp()}},s.identityFormSkeleton=function(){var t='<div id="roadblock-form-intro"><h1 class="roadblock-form-title">Try it Free for 2 Weeks!</h1>'+this.showReferralBanner()+'</div><div id="roadblock_links"><span id="roadblock_sign_in">Already a member? <span class="action">Log in</span>. Want to use Slate Plus with an existing Slate account? <span class="action">Sign in before joining</span>. <br/><br/>Otherwise, create a new account below.</span><span id="roadblock_sign_up">Don&rsquo;t have a Slate account? <span class="action">Register now</span></span> </div>';return o.janrain.siteConfig.enabled&&(e("#signIn").remove(),t+='<div class="roadblock-registration roadblock-registration--hidden identity-form" id="identity-form-signup">'+i["janrain.signIn"].call()+i["janrain.registration"].call()+i["janrain.mergeAccount"].call()+i["janrain.forgotPassword"].call()+"</div>",e(document).off().on("click","a[data-capturescreen]",function(t){var n=e(this).data("capturescreen");"signIn"===n?s.showSignIn():"traditionalRegistration"===n&&s.showSignUp()})),t},s.identityFormSkeletonFooter='<div class="roadblock-footer"></div>',s.showSignIn=function(){r.showReferralBanner(),o.janrain.siteConfig.enabled&&(e("#"+s.divId).html(s.identityFormSkeleton()+s.identityFormSkeletonFooter),setTimeout(function(){janrain.capture.ui.renderScreen("signIn"),e(".roadblock-registration").removeClass("roadblock-registration--hidden")},o.janrain.siteConfig.raceConditionTimeout)),e("#roadblock_sign_up").click(s.swapIdentityFrame).show()},s.showSignUp=function(){r.showReferralBanner(),o.janrain.siteConfig.enabled&&(e("#"+s.divId).html(s.identityFormSkeleton()),setTimeout(function(){janrain.capture.ui.renderScreen("traditionalRegistration"),e(".roadblock-registration").removeClass("roadblock-registration--hidden")},o.janrain.siteConfig.raceConditionTimeout)),e("#roadblock_sign_in").click(s.swapIdentityFrame).show()},s.swapIdentityFrame=function(t){"roadblock_sign_in"===e(this).attr("id")?s.showSignIn():s.showSignUp()},s.showReferralBanner=function(){return void 0!==e.cookie("sp_ref_id")?['<p class="roadblock-invite-text">Since you were invited by a Slate Plus member,',"you'll get <strong>$5 off</strong>","your first payment if you sign up today.</p>"].join(" "):r.isComboReferral()?['<p class="roadblock-invite-text">Since you used your special referral link,',"you'll get <strong>$5 off</strong>","your first payment if you sign up today.</p>"].join(" "):""},s.showSubscribe=function(){r.showReferralBanner(),n.paymentFormShown(),e("#roadblock_form").html('<div id="roadblock-form-intro"><h1 class="roadblock-form-title">Try it Free for 2 Weeks!</h1>'+this.showReferralBanner()+'</div><iframe id="roadblock_form_iframe" src="'+s.subscriptionUrl+'?first=t"></iframe>'),o.janrain.siteConfig.enabled&&janrain.capture.ui.hasActiveSession()&&(e("#roadblock-form-intro").after(['<p class="user-info">',"Signed in as "+janrain.capture.ui.getReturnExperienceData("displayName")+".",'<a href="#" class="signout">Log out</a>.</p>'].join(" ")),e("#roadblock_form_iframe").after(['<div style="font-size: 12px; color: rgb(102, 102, 102); width: 300px; margin: -1em auto 0px; line-height: 30px; text-align: center; background-color: rgb(243, 245, 245);">',"Trouble signing up? ",'<a href="mailto:plus@slate.com" data-issue-collector-value="11021" class="issue-collector">',"Report account issues","</a>.</div>"].join("")),e(".signout").on("click",function(e){e.preventDefault(),janrain.capture.ui.endCaptureSession()}))},s.receiveMessage=function(t){var n=t.originalEvent,i=n.data;if("storyUrl"==i.type){var a={type:"location",location:window.location.href};n.source.postMessage(a,n.origin)}else if("done"==i.type)if(i.already_member)location.reload();else if(1==e("body.slateplus.pitch").length){void 0!==i.subscription_details&&void 0!==ga&&e.isFunction(ga)&&(ga("require","ecommerce"),ga("ecommerce:addTransaction",{id:i.subscription_details.subscription_details_id,affiliation:"Slate Plus",revenue:i.subscription_details.subscription_details_price}),ga("ecommerce:addItem",{category:"Slate Plus",id:i.subscription_details.subscription_details_price,name:i.annual?"Annual":"Monthly",quantity:"1",price:i.subscription_details.subscription_details_price}),ga("ecommerce:send"));var r="//www.slate.com/";o.janrain.siteConfig.enabled&&(r=o.myslate.site_url),/\/$/.test(r)||(r+="/"),window.location.replace("http:"+r+"plus/home?new_member=t&name="+escape(i.name)+"&annual="+i.annual)}else s.showSuccessMessage(i.name,i.annual);else"confirm-cancel"==i.type&&(s.cancelMessageEvent=n,s.confirmCancel())},s.confirmCancel=function(){a.overlay({id:"confirm-cancel",content:'<style type="text/css"> #confirm-buttons span { background-color: #FFA500; padding: 8px; border: 1px solid #000; color: #FFF; } </style><p>Please confirm you would like to cancel your Slate Plus account.</p><div id="confirm-buttons"><span id="cancel-confirm">Yes, cancel my account</span> <span id="cancel-cancel">No, don\'t cancel my account</span> </div><script type="text/javascript">requirejs(["jquery", "slateplus"], function($,slateplus) {$("#cancel-confirm").bind("click", slateplus.confirmAccountCancel);});</script>',css:{width:"500px",height:"200px",border:"1px solid black"},onComplete:function(t){e("#cancel-confirm").bind("click",s.confirmAccountCancel)}})},s.confirmAccountCancel=function(e){var t=s.cancelMessageEvent;if(void 0!==t){console.log("cancel confirmed");var n={type:"confirm-cancel",location:window.location.href};t.source.postMessage(n,t.origin),delete s.cancelMessageEvent}},s.hideRoadblock=function(){e("#roadblock").hide(),e("body").removeClass("roadblock")},s.showSuccessMessage=function(t,n){var i=e("#roadblock_header");e("#roadblock").addClass("roadblock-success"),e("#roadblock_form").hide(),i.hide().html(e("#roadblock_success_header").html()),i.show(),e("#roadblock_success_name").text(" "+t),n&&e(".checklist").addClass("mug"),e("#roadblock_body").html(e("#roadblock_success_body").html()),e(document).ready(function(){e(".roadblock-close").on("click",function(){-1!=window.location.search.indexOf("new_member=t")?window.location=location.href.replace(location.search,""):location.reload()}),e("#roadblock").trigger("roadblockSuccess")})},s.showSuccessOverlay=function(t,n){if(0===e("#roadblock").length){var a="",r=i.roadBlock;a+=r({loggedIn:!0,success:!0}),e("body").addClass("roadblock"),e("body").append(a);var o=e(window).height(),l=200;e("#roadblock .roadblock-whiteout, #roadblock .roadblock-wrapper, #roadblock .roadblock-content").css("top",o+"px"),s.showSuccessMessage(t,n),e("#roadblock").show(),mobileMode()||tabletPortraitMode()?e("#roadblock .roadblock-whiteout, #roadblock .roadblock-content").animate({top:"0px"},750):(e("#roadblock").hide(),setTimeout(function(){e("#roadblock").show(),e("#roadblock .roadblock-whiteout, #roadblock .roadblock-wrapper, #roadblock .roadblock-content").animate({top:l+"px"},375)},1500))}},e(window).on("message",s.receiveMessage),s}),define("shared/devicemode",["modernizr"],function(){}),define("shared/sgads",["jquery","modernizr","shared/devicemode"],function(e,t,n){var i={wire:function(t,n){e("*[data-ad-type]").each(function(){var t=e(this).attr("data-ad-mode"),n=getMediaQueryMode();n!=t&&"all"!==t&&""!==t&&("tablet"==n.substring(0,6)&&"tablet"==t||"large"==t&&"mobile"!=n||(e(this).removeAttr("data-ad-type"),e(this).removeAttr("id")))});var i=document.createElement("script");i.src=t,i.async=!0,e(i).attr("data-ad-site","undefined"==typeof n?"slate":n),e(i).attr("data-ad-page-type","responsive"),document.getElementsByTagName("body")[0].appendChild(i)}};return i}),$.fn.setFullWidth=function(){$.each(this,function(e,t){function n(){var e=$("body.fresca").length>0?13:5,n=$("body.fresca").length>0?88:100;console.log(e);var r={width:$("body").outerWidth(),marginLeft:-$(".page").offset().left-e};i.css(r),a.css(r).css({paddingLeft:0,paddingRight:0}),a.find("span").css({width:$(t).width()-n,display:"block",marginLeft:$(".page").offset().left+n+e})}if(!mobileMode()){var t=this,i=$(t).find("img"),a=$(t).find("figcaption");n(),$(window).resize(function(){n()})}})},window.console&&console.log||!function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],n=t.length,i=window.console={};n--;)i[t[n]]=e}(),define("hcs/script",["jquery","modernizr","shared/devicemode"],function(){}),!function(e,t,n){"use strict";var i,a;e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")&&/(rv) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0",platform:n[0]||""}},i=e.uaMatch(t.navigator.userAgent),a={},i.browser&&(a[i.browser]=!0,a.version=i.version),i.platform&&(a[i.platform]=!0),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0),a.rv&&(a.msie=!0),e.browser=a}(jQuery,window),define("libs/jquery-plugins/jquery.browser",["jquery"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,this._defaults=o,this._name=r,
this.init()}var r="SGFootnote",o={};a.prototype.init=function(){var t=this;e(this.element).click(function(i){i.preventDefault();var a=i.target.href.split("#"),r=a[a.length-1];t.footnotePopup=e("#"+r),1==t.footnotePopup.length&&t.footnotePopup.css({top:e(this).position().top-t.footnotePopup.outerHeight()-10,left:e(this).position().left-t.footnotePopup.outerWidth()/2+13}).fadeIn(t._animationSpeed,function(){e(n).bind("keyup.footnote",function(e){27==e.keyCode&&t.close()}),t.footnotePopup.bind("click",function(e){e.stopImmediatePropagation(),e.preventDefault()}),e("body").bind("click.footnote",function(e){t.close(),e.preventDefault()}),t.footnotePopup.find(".close").click(function(e){e.preventDefault(),t.close()})})})},a.prototype.close=function(){this.footnotePopup.fadeOut(this._animationSpeed,function(){e(n).unbind("keyup.footnote"),e("body").unbind("click.footnote")})},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGFootnote.jquery",["jquery"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,this._defaults=o,this._name=r,this.init()}var r="SGSocialIcons",o={};a.prototype.init=function(){var t=this;e(this.element).find(".plus").click(function(n){return n.preventDefault(),e(t.element).find(".facebook").removeClass("open"),e(this).hasClass("open")?void t.close():(t.close(),e(this).addClass("open"),void t.showPlusPopup(e(this)))})},a.prototype.showPlusPopup=function(t){var n=e(this.element).find(".plus-popup"),i=this;if(mobileMode())n.css({top:t.position().top-n.outerHeight()-14,left:0}).fadeIn(i._animationSpeed,function(){i.observeEvents()});else{var a=t.position().top-n.outerHeight()-14,r=t.position().left-n.outerWidth()/2+30;e(this.element).find(".sponsored-popup").length>0&&(a=t.position().top-n.outerHeight()+186,r=t.position().left-n.outerWidth()/1+75),n.css({top:a,left:r}).fadeIn(i._animationSpeed,function(){i.observeEvents()})}},a.prototype.showFacebookPopup=function(t){var n,i,a=e(this.element).find(".facebook-popup"),r=this;a.hasClass("arrow-up")?(n=59,i=t.position().left-a.outerWidth()/2+40):(n=t.position().top-a.outerHeight()-14,i=t.position().left-a.outerWidth()/2+30),a.css({top:n,left:i,visibility:"visible"}).fadeIn(r._animationSpeed,function(){r.observeEvents()}),e(this.element).find(".facebook-popup iframe").addClass("show")},a.prototype.observeEvents=function(){var t=this;e(n).bind("keyup.social",function(e){27==e.keyCode&&t.close()}),e(t.element).bind("click",function(t){(!e(t.target).closest("a").attr("href")||e(t.target).closest("a").attr("href").length<2)&&(t.stopImmediatePropagation(),t.preventDefault())}),e("body").bind("click.social",function(n){(!e(n.target).closest("a").attr("href")||e(n.target).closest("a").attr("href").length<2)&&(n.preventDefault(),t.close())})},a.prototype.close=function(){e(".facebook-popup").css({visibility:"hidden"}),e(".facebook-popup iframe").removeClass("show"),e(".plus-popup").fadeOut(this._animationSpeed),e(n).unbind("keyup.social"),e("body").unbind("click.social"),e(".plus").removeClass("open"),e(".facebook").removeClass("open")},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGSocialIcons.jquery",["jquery","hcs/script"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,this._defaults=o,this._name=r,this._touchEvent="click",this._iScroll=!1,n.extraSpecificHandle?this._handle=e(this.element).find(n.extraSpecificHandle):this._handle=e(this.element),this._handle.css("cursor","pointer"),this._closestPassedHeader=!1,this._closestPassedHeaderDistance=1e6,this._navCloseTimer,this._navCloseTimerCount=0,this.init()}var r="SGNavDropdown",o={};a.prototype.init=function(){var n=this;if(this._handle.data("isDropdownHandle",!0),this._handle.bind(n._touchEvent,function(t){e(n._handle).hasClass("open-toggle")?n.close():(n.show(),e(n._handle).addClass("open-toggle")),t.preventDefault()}),n.options.watchScroll){var i=e(n.options.watchScroll[0]);n.setSectionInfo(i.attr("data-section-header"),i.find(".title").html());var a=0,r=function(){for(var i=e(t).scrollTop(),r=0,o=0;o<n.options.watchScroll.length;o++)i>=e(n.options.watchScroll[o]).offset().top&&(r=o);if(a!=r){a=r;var s=e(n.options.watchScroll[r]);n.setSectionInfo(s.attr("data-section-header"),s.find(".title").html())}};e(t).bind("scroll.navScroll",r),e(t).bind("touchmove.navScroll",r)}},a.prototype.setSectionInfo=function(t,n){e(this.element).find(".primary").text(n),e(this.element).find(".handle").text(t)},a.prototype.observeEvents=function(){var i=this;e(n).bind("keyup."+i._name+i.options.extraId,function(e){27==e.keyCode&&i.close()}),e(t).bind("hashchange.dropdown",function(){i.close(),e(t).unbind("hashchange.dropdown")}),e("body").bind("touchmove.dropdown",function(){t.clearInterval(i._navCloseTimer)}),e("html").bind(i._touchEvent+".closeupcheck",function(n){e(n.target).data("isDropdownHandle")||(t.clearInterval(i._navCloseTimer),i._navCloseTimerCount=0,i._navCloseTimer=t.setInterval(function(){i._navCloseTimerCount++,i._navCloseTimerCount>20&&(i.close(),t.clearInterval(i._navCloseTimer))},2))}),e("html").bind(i._touchEvent+".closeupcheck",function(t){e(t.target).data("isDropdownHandle")})},a.prototype.show=function(){var t=this;t.displayElement=e(t.options.targetId);var n=e(".social-with-popup").data("plugin_SGSocialIcons");if("undefined"!=typeof n&&n.close(),mobileMode()&&!t._handle.hasClass("sub-hed")&&e("html").css("overflow","hidden"),t.options.onShow&&t.options.onShow.call(),e("html").hasClass("touch")&&!t._handle.hasClass("sub-hed")&&!mobileMode()){var i="<div id='navdropdown_mask' style='position:fixed;top:0;left:0;right:0;bottom:0;background:transparent;z-index:100;'></div>";e("body").append(i),e("#navdropdown_mask").bind("touchstart",function(n){n.preventDefault(),e("#navdropdown_mask").remove(),t.close()})}t.displayElement.css({top:t.options.topOffset.call(),left:t.options.leftOffset.call()}).fadeIn(t._animationSpeed,function(){t.observeEvents(),e("html").hasClass("touch")&&!t._handle.hasClass("sub-hed")&&(t._iScroll=new iScroll(t.displayElement.attr("id"),{hScroll:!1,hScrollbar:!1,bounce:!1}),e("window").bind("resize.navdropdown",function(){t._iScroll.refresh()}))})},a.prototype.isTargetVisible=function(){return"undefined"!=typeof this.displayElement?"block"==this.displayElement.css("display"):!1},a.prototype.close=function(){mobileMode()&&e("html").css("overflow","auto"),e("#navdropdown_mask").remove(),e("#sub_hed").removeClass("open-toggle"),e(".handle").removeClass("open-toggle");var i=this;this.options.onHide&&this.options.onHide.call(),this.displayElement.stop().fadeOut(this._animationSpeed,function(){e(n).unbind("keyup."+i._name+i.options.extraId),e(t).unbind("resize.navdropdown"),e("body").unbind("click."+i._name+i.options.extraId),i.displayElement.unbind(i._touchEvent+".nav"),e("body").unbind("touchmove.dropdown"),e("html").unbind(i._touchEvent+".closeupcheck")}),this._iScroll&&this._iScroll.destroy()},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGNavDropdown.jquery",["jquery"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,this._defaults=o,this._name=r,this._touchEvent=e("html").hasClass("touch")?"touchstart":"click",this.init()}var r="SGComments",o={leftOffset:0};a.prototype.init=function(){var n=this,i=e(n.element);n.options.mobile&&this.options.mobile.handle.bind(this._touchEvent,function(e){e.preventDefault(),e.stopImmediatePropagation(),n._showForMobile?n.close():(n._showForMobile=!0,n.showForMobile(),n.observeEvents())}),t.location.hash.indexOf("lf_comment")>-1&&n.open(),this.options.handles.bind(this._touchEvent,function(e){e.stopImmediatePropagation(),e.preventDefault(),n.open()}),e(".top-comment-link a.primary").bind("click",function(e){mobileMode()||(e.stopImmediatePropagation(),n.open())}),e(".comment-options").bind("click",function(e){mobileMode()||(e.stopImmediatePropagation(),e.preventDefault(),n.open())}),e(".comment-options").find("a").click(function(e){mobileMode()&&(n._showForMobile=!0,n.showForMobile(),n.observeEvents(),t.location.href="#comments")}),e("#load_more_comments").bind(n._touchEvent,function(e){alert("Load more comments and append them here..."),e.preventDefault()}),n.watchReplies(i.find(".post")),n.watchLikes(i.find(".post")),n.watchFlags(i.find(".post")),n.watchTextarea(i.find(".post")),n.watchTextarea(i.find(".primary-comment-post-form")),n.watchSubmits(i.find(".post")),n.watchSubmits(i.find(".primary-comment-post-form")),i.find(".edit").bind(n._touchEvent,function(t){var n=e(this).closest(".comment");n.find(".comment-post-form.edit-form").toggle(),n.find(".rendered-text").toggle(),t.preventDefault()})},a.prototype.watchReplies=function(t){t.find(".reply").bind(this._touchEvent,function(t){e(this).parent().find(".comment-post-form").toggle(),t.preventDefault()})},a.prototype.watchLikes=function(e){e.find(".like").bind(this._touchEvent,function(e){alert("comment liked"),e.preventDefault()})},a.prototype.watchFlags=function(e){e.find(".flag").bind(this._touchEvent,function(e){alert("comment flagged"),e.preventDefault()})},a.prototype.watchTextarea=function(t){t.find("textarea").focus(function(t){e(this).closest(".comment-post-form").addClass("opened")})},a.prototype.watchSubmits=function(e){e.find("form").submit(function(e){alert("comment submitted."),e.preventDefault()})},a.prototype.showForMobile=function(){var t=this,n=e(t.element);t.options.mobile.handle.after(n),n.show().addClass("visible")},a.prototype.getHeight=function(){return e(t).height()-this.options.topOffset.call()-45-45},a.prototype.observeEvents=function(){var i=this,a=e(i.element);e(n).bind("keyup.comments",function(e){27==e.keyCode&&i.close()}),e(t).bind("resize.comments",function(){i._showForMobile||i.close()}),e("body").bind(i._touchEvent+".comments",function(e){i._showForMobile||(i.close(),e.preventDefault())}),e("body").on(i._touchEvent+".commentsModal",".fyre-modal",function(e){i._showForMobile||e.stopPropagation()}),a.find(".close-comments").bind("click",function(e){i.close(),e.stopImmediatePropagation(),e.preventDefault()}),this.options.mobile&&this.options.mobile.handle.bind(i._touchEvent,function(e){e.stopImmediatePropagation()}),a.bind(i._touchEvent,function(e){e.stopImmediatePropagation()})},a.prototype.open=function(){var t=this,n=e(t.element),i=e("#comments-ads"),a=e("#comments-bigbox");if(n.hasClass("visible"))return void t.close();if(i.hasClass("visible"))return void t.close();if(a.hasClass("visible"))return void t.close();"undefined"!=typeof placeAd2&&placeAd2(commercialNode,"bigbox","AJAX","");var r=e(".social-with-popup").data("plugin_SGSocialIcons");"undefined"!=typeof r&&r.close(),t.options.rollUp&&t.options.rollUp.preventScrollingHide(),t.options.onShow&&t.options.onShow.call();var o="<div id='comments_mask' style='position:fixed;top:0;left:0;right:0;bottom:0;background:black;opacity:0;'></div>";e("body").append(o),t._showForMobile||e("#comments_mask").transition({opacity:.65},100),t.options.rollUp.show(function(){n.css({position:"fixed",top:-n.outerHeight(),left:t.options.leftOffset.call(),overflow:"auto",height:t.getHeight()}).show().addClass("visible"),n.animate({top:t.options.topOffset.call()},300),t.observeEvents();var r="/content/slate/modules/slate-plus-text-ads/jcr:content/component.infinity.json";e.ajax(r,{success:function(t){var n=[];e.each(t,function(e,t){t.text&&(console.log(t.text),n.push(t.text))});var i=Math.floor(Math.random()*n.length),a=n[i];e("#comments-ads").html(a)},error:function(n,i,a){e("#comments-ads").remove(),console.log(t)}}),i.css({position:"fixed",top:-i.outerHeight(),left:t.options.leftOffset.call()+737}).show().addClass("visible"),a.css({position:"fixed",bottom:"20px",left:t.options.leftOffset.call()+737}).show().addClass("visible"),i.animate({top:t.options.topOffset.call()},300)})},a.prototype.close=function(){if(e(this.element).hasClass("visible")){var i=200;this._showForMobile&&(i=0),e("#comments_mask").transition({opacity:0},i,function(){e(this).remove()});var a=this;this.options.rollUp&&(this.options.rollUp.enableScrollingHide(),this.options.rollUp.shouldShow()||this.options.rollUp.hide()),e(this.element).removeClass("visible").fadeOut(a._showForMobile?0:this._animationSpeed,function(){e(n).unbind("keyup.comments"),e(t).unbind("resize.comments"),e("body").unbind(a._touchEvent+".comments"),a._showForMobile=!1}),e("#comments-ads").removeClass("visible").fadeOut(a._showForMobile?0:this._animationSpeed),e("#comments-bigbox").removeClass("visible").hide()}},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGComments.jquery",["jquery","hcs/script"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,e("html").hasClass("touch")&&(this._animationSpeed=200),this._defaults=o,this._name=r,this._preventScrollingHide=!1,this.init()}var r="SGRollup",o={topOffset:0,leftOffset:0,onHide:!1};a.prototype.init=function(){var n=this,i=(e(n.options.rollupEl),function(){if(n.shouldShow())n.show();else{if(n._preventScrollingHide)return;n.options.onHide&&n.options.onHide.call(),n.hide();var t=e(".social-with-popup").data("plugin_SGSocialIcons");null!==t&&t.close()}});e(t).bind("scroll",i)},a.prototype.preventScrollingHide=function(){this._preventScrollingHide=!0},a.prototype.enableScrollingHide=function(){this._preventScrollingHide=!1},a.prototype.show=function(n){var i=e(this.options.rollupEl);mobileMode()&&e("#nav_sections:visible").length>0||(i.hasClass("dropped")||i.show().addClass("dropped").transition({top:0},this._animationSpeed,function(){e(t).trigger("rollupDropped")}),n&&n.call())},a.prototype.hide=function(){var n=this,i=e(this.options.rollupEl);i.hasClass("dropped")&&(e(t).trigger("SG_rollupGoingToClose"),i.removeClass("dropped").animate({top:-60},n._animationSpeed,function(){i.css({top:"-60px",display:"none"})}))},a.prototype.shouldShow=function(){return mobileMode()?this.options.mobile.el.offset().top+this.options.mobile.topOffset<=e(t).scrollTop():tabletMode()?this.options.tablet.el.offset().top+this.options.tablet.topOffset<=e(t).scrollTop():e(this.element).offset().top+this.options.topOffset<=e(t).scrollTop()},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGRollup.jquery",["jquery","hcs/script"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,e("html").hasClass("lt-ie8")&&(this._animationSpeed=0),this._iPadAnimationSpeed=0,this._defaults=o,this._name=r,this.init()}var r="SGGlobalNav",o={};a.prototype.init=function(){var t=this;e("body").data("nav-open",!1),e(this.element).find(".global-nav-handle, .search-link, .user-link, .sign-in-link, .sign-up-link").on("touchstart click",function(n){return n.stopPropagation(),n.preventDefault(),n.handled===!0?!1:(t.navHandleClick(e(this)),void(n.handled=!0))}),this.options.noRollup&&this.bindDesktopScrollDownCheck(e("#main_sidebar").find(".global-nav-handle"))},a.prototype.open=function(n){var i=this;requirejs(["config"],function(a){function r(){if(i.showHome(),e("#magic_nav_header").removeClass("opened-from-rollup opened-from-tablet-header"),!_isNavMoving){mobileMode()?i.openForMobile(n):tabletMode()?i.openForTablet(n):i.openForDesktop(n);var a=0,r=e(t).height(),o=e(".nav-header").height(),s=e(".nav-panel.open .follow-slate").height(),l=40;e(".stories-for-nav").each(function(e){var t=r-o-s-l;t>a&&(a=t)}),a>0&&e(".stories-for-nav").height(a+"px"),i.options.isSlatePlusUser&&(e("#slateplus_stories_for_nav .most-recent").addClass("wide"),e("#slateplus_stories_for_nav .slateplus-ad").remove()),n.addClass("nav-shown"),e("#nav_search_form").submit(function(e){e.preventDefault(),t.tabletScroller&&t.tabletScroller.refresh()}),Modernizr.touch?tabletMode()&&mobileMode()||e("#nav_home_sections").find("a").bind("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),e("#nav_home_sections").find("li").removeClass("active"),e(this).parent().addClass("active"),i.showPreviewStories(e(this))}):e("#nav_home_sections").find("a").mouseenter(function(t){e("#nav_home_sections").find("li").removeClass("active"),e(this).parent().addClass("active"),i.showPreviewStories(e(this))}),e("body").data("nav-opening",0).data("nav-open",!0),e("#nav_sections").scrollTop(0),t.tabletScroller&&t.tabletScroller.scrollTo(0,0),n.hasClass("search-link")?i.showSearch():n.hasClass("user-link")&&i.showSignin(),e(t).trigger("SGGlobalNav.open",{})}}(!a.page.roadblocked||i.options.isSlatePlusUser)&&(0!==e("#nav_sections_wrapper").length||e("body").data("nav-opening")?r():(e("body").data("nav-opening",1),e.ajax({type:"GET",url:"/content/slate/modules/slate-nav/jcr:content/component/nav.html",async:!0,dataType:"html",success:function(t){e("#nav_sections").append(t),requirejs(["config","templates"],function(t,n){t.janrain.siteConfig.enabled&&(e("#signIn").remove(),e("#nav_registration_content").append(n["janrain.signIn"].call()+n["janrain.registration"].call()+n["janrain.mergeAccount"].call()+n["janrain.forgotPassword"].call()))}),r()},error:function(e){console&&console.log&&console.log(e.message)}})))})},a.prototype.isOpen=function(){return e("body").data("nav-open")},a.prototype.openForMobile=function(t){var n=this,i=e("#magic_nav_header");i.hide();var a=e("#nav_sections"),r=e("#tablet_header").height();e("#popular_stories_preview_link").parent().remove(),e("#mobile_close").bind("click",function(e){e.preventDefault(),n.close()}),_isNavMoving=!0,a.show().css({position:"absolute",left:0,right:0,opacity:0,top:r,overflow:"visible"}),a.transition({opacity:1},200,function(){a.css({bottom:0}),_isNavMoving=!1;var t="<div id='nav_mask' style='position:fixed;top:0;left:0;right:0;bottom:-500px;background:black;opacity:0;z-index:200;'></div>";e("body").append(t),e("#nav_mask").css("opacity",.75).show()}),n.observeEvents()},a.prototype.showPreviewStories=function(t){var n=t.attr("id").split("_preview_link"),i="#"+n[0]+"_for_nav";e(".active-stories-for-nav").hide(),e(i).show().addClass("active-stories-for-nav");var a=e(i+" .photo-story").height()+parseInt(e(i+" .photo-story").css("marginBottom"));a=a>0?a:0;var r=e(i+" .most-recent header").height()+parseInt(e(i+" .most-recent header").css("marginBottom"));r=r>0?r:0;var o=e(i+" .wide").length>0?e(i+" .load-more-button").height()+5:0,s=e(i).height()-a-r-o,l=0;e(i+" .most-recent .story").each(function(){l=e(this).height(),s>l?s-=l:e(this).remove()})},a.prototype.openForTablet=function(n){var i="<div id='nav_mask' style='position:fixed;top:0;left:0;right:0;bottom:0;background:black;opacity:0;z-index:1200;'></div>";e("#nav_mask").css({opacity:.65}),e("body").append(i),_isNavMoving=!0;var a=this,r=e("#magic_nav_header"),o=e("#nav_sections"),s=0,l=1500,c=1500;e("#article_rollup").hasClass("dropped")?(s=e("#article_rollup").height(),r.show().css({left:"auto",top:-o.height()-r.height(),right:0,zIndex:c,width:""}).transition({top:s},a._iPadAnimationSpeed).addClass("open exposed opened-from-rollup")):r.show().css({top:0,right:0,zIndex:1600}).addClass("open exposed opened-from-tablet-header"),o.show().css({right:0,left:"auto",top:-o.height(),bottom:"auto",height:"auto",opacity:1,zIndex:l}).addClass("exposed").transition({top:s+r.height()},a._iPadAnimationSpeed,function(){a.observeEvents(),o.css({bottom:0,"overflow-y":"scroll","overflow-x":"hidden"}),_isNavMoving=!1,tabletMode()&&e("html").hasClass("touch")&&t.tabletScroller&&t.tabletScroller.refresh()})},a.prototype.openForDesktop=function(t){var n=this,i=e("#magic_nav_header");e("#nav_sections"),i.hide();var a=t.closest(".nav-header"),r=a.closest(".nav-panel");if(n.options.noRollup){var o=e("#main_sidebar").find(".nav-header"),s=e("#main_sidebar").find(".nav-panel");n.expandNavHeader(s,o,function(){o.addClass("buttons-visible")})}if(n.expandNavHeader(r,a,function(){n.rolldownNavForDesktop(t),a.addClass("buttons-visible")}),t.hasClass("sidebar-handle")){var l=e(".with-dropdown").find(".nav-header"),c=e(".with-dropdown").find(".nav-panel");n.expandNavHeader(c,l,function(){l.addClass("buttons-visible")})}else{var u=e("#main_sidebar").find(".nav-header"),d=e("#main_sidebar").find(".nav-panel");n.expandNavHeader(d,u,function(){u.addClass("buttons-visible")}),e("body").hasClass("fresca")&&u.css({position:"absolute",top:0,right:0})}var p=e("#nav_header_for_rollup_magic").find(".nav-header"),f=e("#nav_header_for_rollup_magic");n.expandNavHeader(f,p,function(){p.addClass("buttons-visible")})},a.prototype.expandNavHeader=function(t,n,i){var a=this,r=(e("#magic_nav_header"),e("#nav_sections"));n.css({width:n.width()}),t.addClass("nav-opened-for-desktop");var o=0;e(".username-display").each(function(){e(this).width()>0&&(o=e(this).width())}),o>0?e(".nav-panel .user-link").css({right:o+114+"px"}):e(".nav-panel .user-link").css({right:""}),n.transition({width:r.width()},0,i),a.options.noRollup&&e("#nav_header_for_rollup_magic").css({left:r.css("left")})},a.prototype.rolldownNavForDesktop=function(n){var i=this,a=e("#magic_nav_header"),r=e("#nav_sections");_isNavMoving=!0,n.hasClass("homepage-sidebar-handle")&&a.addClass("nav-opened-for-desktop-homepage");var o,s,l,c="";n.hasClass("sidebar-handle")?(o=n.offset().top+a.height(),s="visible",l="visible"):(l="scroll",s="hidden",o=a.height(),c="exposed"),r.css("position","").removeClass("exposed").css({top:n.hasClass("homepage-sidebar-handle")?n.offset().top+a.height():n.offset().top,left:e("#main_sidebar").offset().left+e("#main_sidebar").width()-r.width()+1,height:e(t).height(),bottom:0,opacity:1,top:o,"overflow-y":l,"overflow-x":s,zIndex:6e3}).show().addClass(c),i.observeEvents(),n.hasClass("homepage-sidebar-handle")&&a.css({top:0,left:e("#main_sidebar").offset().left+e("#main_sidebar").width()-r.width()+1,zIndex:1e3}).addClass("buttons-visible"),i.bindDesktopScrollDownCheck(n),_isNavMoving=!1},a.prototype.bindDesktopScrollDownCheck=function(n){e(t).unbind("scroll.navBarDropoffStart");var i=this,a=e("#magic_nav_header"),r=e("#nav_sections");e(t).bind("scroll.navBarDropoffStart",function(){if(e(t).scrollTop()>=e("#main_sidebar").offset().top-1){if(mobileMode()||tabletMode()||i.options.noBurgerScroll)return void e(t).unbind("scroll.navBarDropoffStart");e(t).unbind("scroll.navBarDropoffStart"),e("#nav_header_for_rollup_magic").css({top:0,zIndex:5e3,paddingBottom:0,left:e("#nav_sections").offset().left}).show().addClass("exposed").find(".nav-header").css("position","relative"),i.options.noRollup&&!e("#nav_header_for_rollup_magic").hasClass("nav-opened-for-desktop")&&e("#nav_header_for_rollup_magic").css({left:e("#main_sidebar").offset().left+1,width:e("#main_sidebar").width()}),r.css({left:e("#main_sidebar").offset().left+e("#main_sidebar").width()-r.width()+1,top:a.height(),"overflow-x":"hidden","overflow-y":"scroll",position:"",bottom:"auto"}).addClass("exposed"),e("#nav_sections").scrollTop(0),e("#main_sidebar").length>0&&e("#main_sidebar").find(".nav-header").css("visibility","hidden"),e(t).unbind("scroll.navBarDropoffStart"),e(t).bind("scroll.navBarDropoffStop",function(){e("#main_sidebar").offset().top-1>=e(t).scrollTop()&&(e("#nav_header_for_rollup_magic").hide(),e("#main_sidebar").length>0&&e("#main_sidebar").find(".nav-header").css("visibility","visible"),r.removeClass("exposed").css({position:"absolute",top:e("#main_sidebar").offset().top+a.height()}),i.bindDesktopScrollDownCheck(n),e(t).unbind("scroll.navBarDropoffStop"))})}})},a.prototype.navHandleClick=function(t){if(e("body").data("nav-open")){var n=e("#nav_sections").attr("data-active-section");if("search"==n){if(t.hasClass("global-nav-handle"))return void this.showHome();if(t.hasClass("user-link")||t.hasClass("sign-in-link"))return void this.showSignin();if(t.hasClass("sign-up-link"))return void this.showSignup()}else if("home"==n){if(t.hasClass("search-link"))return void this.showSearch();if(t.hasClass("user-link")||t.hasClass("sign-in-link"))return void this.showSignin();if(t.hasClass("sign-up-link"))return void this.showSignup()}else if("sign_in"==n){if(t.hasClass("global-nav-handle"))return void this.showHome();if(t.hasClass("search-link"))return void this.showSearch();if(t.hasClass("sign-up-link"))return void this.showSignup()}else if("sign_up"==n){if(t.hasClass("global-nav-handle"))return void this.showHome();if(t.hasClass("search-link"))return void this.showSearch();if(t.hasClass("sign-in-link"))return void this.showSignin()}this.close()}else this.open(t)},a.prototype.observeEvents=function(){var i=this;e(n).bind("keyup.nav",function(e){27==e.keyCode&&i.close()}),e("#magic_nav_header,#nav_sections"),e("#nav_sections"),e(".page"),e(t).bind("resize.nav",function(){mobileMode()&&tabletMode()&&e("html").hasClass("touch")||(i.close(),e(t).unbind("resize.nav"))}),e("body").bind("click.nav",function(t){jQuery.contains(e(t.target),e("#nav_sections"))||(i.close(),t.preventDefault())}),e("body").bind("touchstart.nav",function(t){mobileMode()&&e("html").hasClass("touch")||jQuery.contains(e(t.target),e("#nav_sections"))||(i.close(),t.preventDefault())}),e("#nav_sections").bind("click",function(e){e.stopImmediatePropagation()}),e("#nav_sections").bind("touchstart.nav",function(e){e.stopPropagation()}),e(".nav-header").bind("touchstart",function(e){e.stopImmediatePropagation()}),e(".nav-header").bind("click",function(n){var i=e(n.target);i.hasClass("sign-in-link")?(n.preventDefault(),this.showSignin()):i.hasClass("sign-up-link")&&(n.preventDefault(),this.showSignup()),tabletMode()&&e("html").hasClass("touch")&&t.tabletScroller&&(t.tabletScroller.scrollTo(0,0),t.tabletScroller.refresh()),n.stopImmediatePropagation()}),e("#mobile_sign_in").bind("click",function(t){e("#nav_home_content").hide(),e("#nav_sign_up_content").hide(),requirejs(["jquery","config"],function(e,t){t.janrain.siteConfig.enabled&&(janrain.capture.ui.renderScreen("signIn"),e("#nav_registration_content").removeClass("nav-hidden"))}),t.preventDefault()}),e("#mobile_sign_up").bind("click",function(t){e("#nav_home_content").hide(),e("#nav_sign_in_content").hide(),requirejs(["jquery","config"],function(e,t){t.janrain.siteConfig.enabled&&(janrain.capture.ui.renderScreen("traditionalRegistration"),e("#nav_registration_content").removeClass("nav-hidden"))}),t.preventDefault()})},a.prototype.showHome=function(){e(".nav-shown").removeClass("nav-shown"),e(".nav-user-shown").removeClass("nav-user-shown"),e(".global-nav-handle").addClass("nav-shown"),e("#nav_home_content").show(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e("#nav_registration_content").addClass("nav-hidden"),e("#nav_sign_in_content").hide(),e("#nav_sign_up_content").hide(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e("#nav_sections").attr("data-active-section","home"),tabletMode()&&e("html").hasClass("touch")&&t.tabletScroller&&(t.tabletScroller.scrollTo(0,0),t.tabletScroller.refresh())},a.prototype.showSearch=function(){e(".nav-shown").removeClass("nav-shown"),e(".nav-user-shown").removeClass("nav-user-shown"),e(".search-link").addClass("nav-shown"),e("#nav_home_content").hide(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e("#nav_search_results").html("").hide(),e("#nav_sign_in_content").hide(),e("#nav_sign_up_content").hide(),e("#nav_search_content").show(),e("#nav_sections").attr("data-active-section","search"),e("#nav_registration_content").addClass("nav-hidden")},a.prototype.showSignin=function(){e(".nav-shown").removeClass("nav-shown"),e(".nav-user-shown").removeClass("nav-user-shown"),e(".user-link").addClass("nav-shown"),e(".sign-up-link").addClass("nav-shown"),e(".sign-in-link").addClass("nav-shown nav-user-shown"),e("#nav_sections").attr("data-active-section","sign_in"),requirejs(["jquery","config"],function(e,t){t.janrain.siteConfig.enabled&&(janrain.capture.ui.renderScreen("signIn"),e("#nav_registration_content").removeClass("nav-hidden"))}),e("#nav_home_content").hide(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e("#nav_search_results").html("").hide(),e("#nav_sign_in_content").show(),e("#nav_sign_up_content").hide(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e("#nav_search_results").html("").hide()},a.prototype.showSignup=function(){e(".nav-shown").removeClass("nav-shown"),e(".nav-user-shown").removeClass("nav-user-shown"),e(".user-link").addClass("nav-shown"),e(".sign-up-link").addClass("nav-shown nav-user-shown"),e(".sign-in-link").addClass("nav-shown"),e("#nav_sections").attr("data-active-section","sign_up"),requirejs(["jquery","config"],function(e,t){t.janrain.siteConfig.enabled&&(janrain.capture.ui.renderScreen("traditionalRegistration"),e("#nav_registration_content").removeClass("nav-hidden"))}),e("#nav_home_content").hide(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e("#nav_search_results").html("").hide(),e("#nav_sign_in_content").hide(),e("#nav_sign_up_content").show(),e("#nav_search_content").hide(),e("#nav_search_field").val(""),e("#nav_search_results").html("").hide()},a.prototype.closeForMobile=function(){e("#nav_mask").remove();var t=this,n=e("#nav_sections");e("#magic_nav_header"),_isNavMoving=!0,n.transition({opacity:0},200,function(){e(this).removeClass("exposed"),_isNavMoving=!1,t.afterClose()})},a.prototype.closeForDesktop=function(){_isNavMoving=!0,e(t).unbind("scroll.navBarDropoffStart"),e(t).unbind("scroll.navBarDropoffStop"),e("#main_sidebar").find(".nav-header").css("visibility","visible");var n=this,i=e("#nav_sections"),a=e("#magic_nav_header");i.css({bottom:"auto",height:i.height(),position:"",overflow:"hidden","overflow-y":"hidden"}).transition({height:0},this._animationSpeed,function(){a.removeClass("nav-opened-for-desktop-homepage"),i.removeClass("exposed"),a.removeClass("exposed"),n.options.noRollup?(e("#nav_header_for_rollup_magic").css({left:e("#main_sidebar").offset().left+1}),n.bindDesktopScrollDownCheck(e("#main_sidebar").find(".global-nav-handle"))):e("#nav_header_for_rollup_magic").hide();var t=e(".nav-opened-for-desktop"),r=e(".nav-header");r.removeClass("buttons-visible");var o=n._animationSpeed;n.options.noRollup&&(o=0),r.transition({width:e(".sidebar").width()},o,function(){_isNavMoving=!1,t.removeClass("nav-opened-for-desktop"),n.options.noRollup&&e("#magic_nav_header").css({left:"auto",width:"auto"}),n.afterClose()})})},a.prototype.closeForTablet=function(){e("#nav_mask").remove();var t=this;_isNavMoving=!0;var n=e("#nav_sections"),i=e("#magic_nav_header");n.css({bottom:"auto"}).transition({top:-n.height()},t._iPadAnimationSpeed,function(){e(this).removeClass("open exposed opened-from-rollup"),e(this).css("height","auto"),_isNavMoving=!1,t.afterClose()}),e("#article_rollup").hasClass("dropped")?i.transition({top:-(n.height()+i.height())},t._iPadAnimationSpeed):i.css({top:-(n.height()+i.height())}),e("#nav_header_for_rollup_magic").hide()},a.prototype.close=function(){_isNavMoving||(e("#nav_sections").css({opacity:1,zIndex:""}),mobileMode()?this.closeForMobile():tabletMode()?this.closeForTablet():this.closeForDesktop(),e(".nav-shown").removeClass("nav-shown"),e(".nav-panel .user-link").css({right:""}),e(t).unbind("resize.nav"),e(n).unbind("keyup.nav"),e("body").unbind("click.nav"),e("body").unbind("touchstart.nav"),e("#nav_sections").unbind("touchstart.nav"),e("body").data("nav-open",!1))},a.prototype.afterClose=function(){(!this.options.noRollup||tabletMode()||mobileMode()||"block"!=e("#nav_header_for_rollup_magic").css("display"))&&(e("#main_sidebar").removeAttr("style"),
e("#nav_sections").removeAttr("style"),e("#magic_nav_header").removeAttr("style"),e(".nav-header").removeAttr("style"),e(".nav-panel").removeAttr("style"),e("#nav_header_for_rollup_magic").removeAttr("style"))},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGGlobalNav.jquery",["jquery","hcs/script"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,this._defaults=o,this._name=r,this.init()}var r="SGLightbox",o={};a.prototype.init=function(){var t=this;e(this.element).click(function(e){switch(t.options.type){case"image":t.showImage();break;case"video":t.showVideo();break;case"slideshow":t.showSlideshow()}e.preventDefault()})},a.prototype.showSlideshow=function(){if("undefined"==typeof this.options.items)e(this.options.slideshowElement).data("slideshow-initialized")||(e(this.options.slideshowElement).find("a").swipebox({hideBarsDelay:0}),e(this.options.slideshowElement).data("slideshow-initialized",!0)),e(this.options.slideshowElement).find("a").first().trigger("click");else{var t=e("#slideshow_"+this.options.slideshowId);if(0==t.length){for(var n='<div style="display:none;" id="slideshow_'+this.options.slideshowId+'">',i=0;i<this.options.items.length;i++)n+='<a class="slide-image" href="'+this.options.items[i].src+'" title="'+this.options.items[i].title+'" data-credit="'+this.options.items[i].credit+'">';n=e(n+"</div>"),e("body").append(n),n.find(".slide-image").swipebox({hideBarsDelay:0})}e("#slideshow_"+this.options.slideshowId).find(".slide-image").first().trigger("click")}},a.prototype.showVideo=function(){var t='<div class="video-lightbox"><div style="color:white;text-align:center;height:300px;">video here</div><div class="details"><div class="mfp-social"><a href="#" class="email">email</a><a href="#" class="facebook">facebook</a><a href="#" class="twitter">twitter</a></div><span class="hed">'+this.options.hed+'</span><span class="dek">'+this.options.dek+"</span></div></div>";e.magnificPopup.open({items:{src:t,type:"inline"}})},a.prototype.showImage=function(){e("body").removeClass("slideshow-lightbox"),e("body").addClass("image-lightbox");var t=this;e.magnificPopup.open({items:{src:this.options.url,title:this.options.title},type:"image",callbacks:{open:function(){e(".mfp-content").find(".photo-credit").text(t.options.credit),e(".mfp-content").find(".photo-title").text(t.options.title),e(".mfp-social").find("a").click(function(t){switch(t.preventDefault(),e(this).attr("class")){case"twitter":alert("twitter share");break;case"facebook":alert("facebook share");break;case"mail":alert("mail")}})}}})},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGLightbox.jquery",["jquery"],function(){}),!function(e){function t(e){var t,n=e;try{for(t=e.previousSibling;t&&1!=t.nodeType;)n=t,t=t.previousSibling}catch(i){return topOffset=-15,n}return t?t:n}e.event.special.tripleclick={setup:function(e,t){var n=this,i=jQuery(n);i.bind("click",jQuery.event.special.tripleclick.handler)},teardown:function(e){var t=this,n=jQuery(t);n.unbind("click",jQuery.event.special.tripleclick.handler)},handler:function(e){var t=this,n=jQuery(t),i=n.data("clicks")||0;i+=1,3===i&&(i=0,e.type="tripleclick",jQuery.event.dispatch.apply(this,arguments)),n.data("clicks",i)}};var n={init:function(n){var i,a=e.extend({selector:".highlighter-container",minWords:0,complete:function(){}},n),r=0,o=0,s=0,l=!1;return this.each(function(){function n(n){var l="<span class='dummy'><span>";if(o=-80,s=-60,r===n){var c,u,d,p,f="Microsoft Internet Explorer"===navigator.appName;if(window.getSelection){if(c=window.getSelection(),i=c.toString(),a.noHighlightIds.length>0)return;if(""===e.trim(i)||i.split(" ").length<a.minWords)return;if(c.getRangeAt&&c.rangeCount){u=window.getSelection().getRangeAt(0),d=u.cloneRange(),d.collapse(!1);var h=document.createElement("div");h.innerHTML=l;var m=document.createElement("span");if(0===u.startOffset&&0===u.endOffset){var b=d.startContainer,g=t(b);try{d.selectNode(g.lastChild)}catch(v){s=40,o=-15,d.selectNode(g)}d.collapse(!1)}else 0===u.endOffset&&(o=-25,s=40);if(r!==n)return;e(a.selector).hide(),f||e.trim(i)!==e.trim(d.startContainer.innerText)?f||e.trim(i)!==e.trim(d.endContainer.innerText)?(d.insertNode(m),p=e(m).offset(),m.parentNode.removeChild(m)):(d.endContainer.innerHTML+="<span class='dummy'>&nbsp;</span>",p=e(".dummy").offset(),e(".dummy").remove()):(d.startContainer.innerHTML+="<span class='dummy'>&nbsp;</span>",p=e(".dummy").offset(),e(".dummy").remove())}}else if(document.selection&&document.selection.createRange){if(u=document.selection.createRange(),d=u.duplicate(),i=d.text,""===e.trim(i)||i.split(" ").length<a.minWords)return;u.collapse(!1),u.pasteHTML(l),d.setEndPoint("EndToEnd",u),d.select(),p=e(".dummy").offset(),e(".dummy").remove()}e(a.selector).css("top",p.top+o+"px"),e(a.selector).css("left",p.left+s+"px"),e(a.selector).show(),a.complete(i)}}e(a.selector).hide(),e(a.selector).css("position","absolute"),e("body").bind("click.higlighter",function(t){e(t.target).closest(e(a.selector)).length>0||e(a.selector).hide()}),e(document).bind("mouseup.highlighter",function(e){l&&(r=1,clicks=0,setTimeout(function(){n(1)},300),l=!1)}),e(this).bind("mouseup.highlighter",function(e){r=1,clicks=0,setTimeout(function(){n(1)},300)}),e(this).bind("tripleclick.highlighter",function(e){r=3,setTimeout(function(){n(3)},200)}),e(this).bind("dblclick.highlighter",function(e){r=2,setTimeout(function(){n(2)},300)}),e(this).bind("mousedown.highlighter",function(t){e(a.selector).hide(),l=!0})})},destroy:function(t){return this.each(function(){e(document).unbind("mouseup.highlighter"),e(this).unbind("mouseup.highlighter"),e(this).unbind("tripleclick.highlighter"),e(this).unbind("dblclick.highlighter"),e(this).unbind("mousedown.highlighter"),e("body").unbind("click.higlighter")})}};e.fn.highlighter=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.highlighter"):n.init.apply(this,arguments)}}(jQuery),define("hcs/plugins/jQuery.highlighter",["jquery"],function(){}),(window.jQuery||window.Zepto)&&!function(e){e.fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}}(window.jQuery||window.Zepto),define("hcs/libs/swipe",["jquery"],function(){});var CLOSE_EVENT="Close",AFTER_CLOSE_EVENT="AfterClose",BEFORE_APPEND_EVENT="BeforeAppend",MARKUP_PARSE_EVENT="MarkupParse",OPEN_EVENT="Open",CHANGE_EVENT="Change",NS="mfp",EVENT_NS="."+NS,READY_CLASS="mfp-ready",REMOVING_CLASS="mfp-removing",PREVENT_CLOSE_CLASS="mfp-prevent-close",mfp,MagnificPopup=function(){},_isJQ=!!window.jQuery,_prevStatus,_window=$(window),_body,_document,_prevContentType,_wrapClasses,_currPopupType,_mfpOn=function(e,t){mfp.ev.on(NS+e+EVENT_NS,t)},_getEl=function(e,t,n,i){var a=document.createElement("div");return a.className="mfp-"+e,n&&(a.innerHTML=n),i?t&&t.appendChild(a):(a=$(a),t&&a.appendTo(t)),a},_mfpTrigger=function(e,t){mfp.ev.triggerHandler(NS+e,t),mfp.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),mfp.st.callbacks[e]&&mfp.st.callbacks[e].apply(mfp,$.isArray(t)?t:[t]))},_setFocus=function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus()},_getCloseBtn=function(e){return e===_currPopupType&&mfp.currTemplate.closeBtn||(mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace("%title%",mfp.st.tClose)),_currPopupType=e),mfp.currTemplate.closeBtn},_checkInstance=function(){$.magnificPopup.instance||(mfp=new MagnificPopup,mfp.init(),$.magnificPopup.instance=mfp)},_checkIfClose=function(e){if(!$(e).hasClass(PREVENT_CLOSE_CLASS)){var t=mfp.st.closeOnContentClick,n=mfp.st.closeOnBgClick;if(t&&n)return!0;if(!mfp.content||$(e).hasClass("mfp-close")||mfp.preloader&&e===mfp.preloader[0])return!0;if(e===mfp.content[0]||$.contains(mfp.content[0],e)){if(t)return!0}else if(n)return!0;return!1}};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var e=navigator.appVersion;mfp.isIE7=-1!==e.indexOf("MSIE 7."),mfp.isIE8=-1!==e.indexOf("MSIE 8."),mfp.isLowIE=mfp.isIE7||mfp.isIE8,mfp.isAndroid=/android/gi.test(e),mfp.isIOS=/iphone|ipad|ipod/gi.test(e),mfp.probablyMobile=mfp.isAndroid||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),_body=$(document.body),_document=$(document),mfp.popupsCache={}},open:function(e){var t;if(e.isObj===!1){mfp.items=e.items.toArray(),mfp.index=0;var n,i=e.items;for(t=0;t<i.length;t++)if(n=i[t],n.parsed&&(n=n.el[0]),n===e.el[0]){mfp.index=t;break}}else mfp.items=$.isArray(e.items)?e.items:[e.items],mfp.index=e.index||0;if(mfp.isOpen)return void mfp.updateItemHTML();if(mfp.types=[],_wrapClasses="",mfp.ev=e.mainEl||_document,e.key?(mfp.popupsCache[e.key]||(mfp.popupsCache[e.key]={}),mfp.currTemplate=mfp.popupsCache[e.key]):mfp.currTemplate={},mfp.st=$.extend(!0,{},$.magnificPopup.defaults,e),mfp.fixedContentPos="auto"===mfp.st.fixedContentPos?!mfp.probablyMobile:mfp.st.fixedContentPos,!mfp.bgOverlay){mfp.bgOverlay=_getEl("bg").on("click"+EVENT_NS,function(){mfp.close()});var a=$("html").hasClass("touch")?"touchstart":"click";mfp.wrap=_getEl("wrap").attr("tabindex",-1).on(a+EVENT_NS,function(e){_checkIfClose(e.target)&&mfp.close()}),mfp.container=_getEl("container",mfp.wrap)}mfp.contentContainer=_getEl("content"),mfp.st.preloader&&(mfp.preloader=_getEl("preloader",mfp.container,mfp.st.tLoading));var r=$.magnificPopup.modules;for(t=0;t<r.length;t++){var o=r[t];o=o.charAt(0).toUpperCase()+o.slice(1),mfp["init"+o].call(mfp)}_mfpTrigger("BeforeOpen"),mfp.st.closeBtnInside?(_mfpOn(MARKUP_PARSE_EVENT,function(e,t,n,i){n.close_replaceWith=_getCloseBtn(i.type)}),_wrapClasses+=" mfp-close-btn-in"):mfp.wrap.append(_getCloseBtn()),mfp.st.alignTop&&(_wrapClasses+=" mfp-align-top"),mfp.fixedContentPos?mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:"hidden",overflowY:mfp.st.overflowY}):mfp.wrap.css({top:_window.scrollTop(),position:"absolute"}),(mfp.st.fixedBgPos===!1||"auto"===mfp.st.fixedBgPos&&!mfp.fixedContentPos)&&mfp.bgOverlay.css({height:_document.height(),position:"absolute"}),_document.on("keyup"+EVENT_NS,function(e){27===e.keyCode&&mfp.close()}),_window.on("resize"+EVENT_NS,function(){mfp.updateSize()}),mfp.st.closeOnContentClick||(_wrapClasses+=" mfp-auto-cursor"),_wrapClasses&&mfp.wrap.addClass(_wrapClasses);var s=mfp.wH=_window.height(),l={};if(mfp.fixedContentPos&&mfp._hasScrollBar(s)){var c=mfp._getScrollbarSize();c&&(l.paddingRight=c)}mfp.fixedContentPos&&(mfp.isIE7?$("body, html").css("overflow","hidden"):l.overflow="hidden");var u=mfp.st.mainClass;mfp.isIE7&&(u+=" mfp-ie7"),u&&mfp._addClassToMFP(u),mfp.updateItemHTML(),_mfpTrigger("BuildControls"),_body.css(l),mfp.bgOverlay.add(mfp.wrap).prependTo(document.body),mfp._lastFocusedEl=document.activeElement,setTimeout(function(){mfp.content?(mfp._addClassToMFP(READY_CLASS),_setFocus()):mfp.bgOverlay.addClass(READY_CLASS),_document.on("focusin"+EVENT_NS,function(e){return e.target===mfp.wrap[0]||$.contains(mfp.wrap[0],e.target)?void 0:(_setFocus(),!1)})},16),mfp.isOpen=!0,mfp.updateSize(s),_mfpTrigger(OPEN_EVENT)},close:function(){mfp.isOpen&&(mfp.isOpen=!1,mfp.st.removalDelay&&!mfp.isLowIE?(mfp._addClassToMFP(REMOVING_CLASS),setTimeout(function(){mfp._close()},mfp.st.removalDelay)):mfp._close())},_close:function(){_mfpTrigger(CLOSE_EVENT);var e=REMOVING_CLASS+" "+READY_CLASS+" ";if(mfp.bgOverlay.detach(),mfp.wrap.detach(),mfp.container.empty(),mfp.st.mainClass&&(e+=mfp.st.mainClass+" "),mfp._removeClassFromMFP(e),mfp.fixedContentPos){var t={paddingRight:""};mfp.isIE7?$("body, html").css("overflow",""):t.overflow="",_body.css(t)}_document.off("keyup"+EVENT_NS+" focusin"+EVENT_NS),mfp.ev.off(EVENT_NS),mfp.wrap.attr("class","mfp-wrap").removeAttr("style"),mfp.bgOverlay.attr("class","mfp-bg"),mfp.container.attr("class","mfp-container"),mfp.st.closeBtnInside&&mfp.currTemplate[mfp.currItem.type]!==!0||mfp.currTemplate.closeBtn&&mfp.currTemplate.closeBtn.detach(),mfp._lastFocusedEl&&$(mfp._lastFocusedEl).focus(),mfp.currItem=null,mfp.content=null,mfp.currTemplate=null,mfp.prevHeight=0,_mfpTrigger(AFTER_CLOSE_EVENT)},updateSize:function(e){if(mfp.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;mfp.wrap.css("height",n),mfp.wH=n}else mfp.wH=e||_window.height();mfp.fixedContentPos||mfp.wrap.css("height",mfp.wH),_mfpTrigger("Resize")},updateItemHTML:function(){var e=mfp.items[mfp.index];mfp.contentContainer.detach(),mfp.content&&mfp.content.detach(),e.parsed||(e=mfp.parseEl(mfp.index));var t=e.type;if(_mfpTrigger("BeforeChange",[mfp.currItem?mfp.currItem.type:"",t]),mfp.currItem=e,!mfp.currTemplate[t]){var n=mfp.st[t]?mfp.st[t].markup:!1;_mfpTrigger("FirstMarkupParse",n),n?mfp.currTemplate[t]=$(n):mfp.currTemplate[t]=!0}_prevContentType&&_prevContentType!==e.type&&mfp.container.removeClass("mfp-"+_prevContentType+"-holder");var i=mfp["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,mfp.currTemplate[t]);mfp.appendContent(i,t),e.preloaded=!0,_mfpTrigger(CHANGE_EVENT,e),_prevContentType=e.type,mfp.container.prepend(mfp.contentContainer),_mfpTrigger("AfterChange")},appendContent:function(e,t){mfp.content=e,e?mfp.st.closeBtnInside&&mfp.currTemplate[t]===!0?mfp.content.find(".mfp-close").length||mfp.content.append(_getCloseBtn()):mfp.content=e:mfp.content="",_mfpTrigger(BEFORE_APPEND_EVENT),mfp.container.addClass("mfp-"+t+"-holder"),mfp.contentContainer.append(mfp.content)},parseEl:function(e){var t=mfp.items[e],n=t.type;if(t=t.tagName?{el:$(t)}:{data:t,src:t.src},t.el){for(var i=mfp.types,a=0;a<i.length;a++)if(t.el.hasClass("mfp-"+i[a])){n=i[a];break}t.src=t.el.attr("data-mfp-src"),t.src||(t.src=t.el.attr("href"))}return t.type=n||mfp.st.type||"inline",t.index=e,t.parsed=!0,mfp.items[e]=t,_mfpTrigger("ElementParse",t),mfp.items[e]},addGroup:function(e,t){var n=function(n){n.mfpEl=this,mfp._openClick(n,e,t)};t||(t={});var i="click.magnificPopup";t.mainEl=e,t.items?(t.isObj=!0,e.off(i).on(i,n)):(t.isObj=!1,t.delegate?e.off(i).on(i,t.delegate,n):(t.items=e,e.off(i).on(i,n)))},_openClick:function(e,t,n){var i=void 0!==n.midClick?n.midClick:$.magnificPopup.defaults.midClick;if(i||2!==e.which){var a=void 0!==n.disableOn?n.disableOn:$.magnificPopup.defaults.disableOn;if(a)if($.isFunction(a)){if(!a.call(mfp))return!0}else if(_window.width()<a)return!0;e.type&&(e.preventDefault(),mfp.isOpen&&e.stopPropagation()),n.el=$(e.mfpEl),n.delegate&&(n.items=t.find(n.delegate)),mfp.open(n)}},updateStatus:function(e,t){if(mfp.preloader){_prevStatus!==e&&mfp.container.removeClass("mfp-s-"+_prevStatus),t||"loading"!==e||(t=mfp.st.tLoading);var n={status:e,text:t};_mfpTrigger("UpdateStatus",n),e=n.status,t=n.text,mfp.preloader.html(t),mfp.preloader.find("a").click(function(e){e.stopImmediatePropagation()}),mfp.container.addClass("mfp-s-"+e),_prevStatus=e}},_addClassToMFP:function(e){mfp.bgOverlay.addClass(e),mfp.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),mfp.wrap.removeClass(e)},_hasScrollBar:function(e){return(mfp.isIE7?_document.height():document.body.scrollHeight)>(e||_window.height())},_parseMarkup:function(e,t,n){var i;n.data&&(t=$.extend(n.data,t)),_mfpTrigger(MARKUP_PARSE_EVENT,[e,t,n]),$.each(t,function(t,n){if(void 0===n||n===!1)return!0;if(i=t.split("_"),i.length>1){var a=e.find(EVENT_NS+"-"+i[0]);if(a.length>0){var r=i[1];"replaceWith"===r?a[0]!==n[0]&&a.replaceWith(n):"img"===r?a.is("img")?a.attr("src",n):a.replaceWith('<img src="'+n+'" class="'+a.attr("class")+'" />'):a.attr(i[1],n)}}else e.find(EVENT_NS+"-"+t).html(n)})},_getScrollbarSize:function(){if(void 0===mfp.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),mfp.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return mfp.scrollbarSize}},$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(e,t){return _checkInstance(),e||(e={}),e.isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return $.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&($.magnificPopup.defaults[e]=t.options),$.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading"}},$.fn.magnificPopup=function(e){_checkInstance();var t=$(this);if("string"==typeof e)if("open"===e){var n,i=_isJQ?t.data("magnificPopup"):t[0].magnificPopup,a=parseInt(arguments[1],10)||0;i.items?n=i.items[a]:(n=t,i.delegate&&(n=n.find(i.delegate)),n=n.eq(a)),mfp._openClick({mfpEl:n},t,i)}else mfp.isOpen&&mfp[e].apply(mfp,Array.prototype.slice.call(arguments,1));else _isJQ?t.data("magnificPopup",e):t[0].magnificPopup=e,mfp.addGroup(t,e);return t};var INLINE_NS="inline",_hiddenClass,_inlinePlaceholder,_lastInlineElement,_putInlineElementsBack=function(){_lastInlineElement&&(_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach(),_lastInlineElement=null)};$.magnificPopup.registerModule(INLINE_NS,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){mfp.types.push(INLINE_NS),_mfpOn(CLOSE_EVENT+"."+INLINE_NS,function(){_putInlineElementsBack()})},getInline:function(e,t){if(_putInlineElementsBack(),e.src){var n=mfp.st.inline,i=$(e.src);if(i.length){var a=i[0].parentNode;a&&a.tagName&&(_inlinePlaceholder||(_hiddenClass=n.hiddenClass,_inlinePlaceholder=_getEl(_hiddenClass),_hiddenClass="mfp-"+_hiddenClass),_lastInlineElement=i.after(_inlinePlaceholder).detach().removeClass(_hiddenClass)),mfp.updateStatus("ready")}else mfp.updateStatus("error",n.tNotFound),i=$("<div>");return e.inlineElement=i,i}return mfp.updateStatus("ready"),mfp._parseMarkup(t,{},e),t}}});var _imgInterval,_getTitle=function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=mfp.st.image.titleSrc;if(t){if($.isFunction(t))return t.call(mfp,e);if(e.el)return e.el.attr(t)||""}return""};_getCredit=function(e){if(e.data&&void 0!==e.data.credit)return e.data.credit;var t=mfp.st.image.creditSrc;if(t){if($.isFunction(t))return t.call(mfp,e);if(e.el)return e.el.attr(t)||""}return""},$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="photo-title under"></div><div class="photo-credit under"></div><div class="mfp-social mfp-social-for-single-item"><a href="#" class="email">email</a><a href="#" class="facebook">facebook</a><a href="#" class="twitter">twitter</a></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-counter"></div></div></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",creditSrc:"credit",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=mfp.st.image,t=".image";mfp.types.push("image"),_mfpOn(OPEN_EVENT+t,function(){"image"===mfp.currItem.type&&e.cursor&&_body.addClass(e.cursor)}),_mfpOn(CLOSE_EVENT+t,function(){e.cursor&&_body.removeClass(e.cursor),_window.off("resize"+EVENT_NS)}),_mfpOn("Resize"+t,mfp.resizeImage),mfp.isLowIE&&_mfpOn("AfterChange",mfp.resizeImage)},resizeImage:function(){var e=mfp.currItem,t=e.el.parents("figure");if(e.img&&mfp.st.image.verticalFit){var n=0;mfp.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),t.hasClass("infographic")?$(".mfp-social").hide():t.hasClass("inline")?($(".mfp-social").hide(),e.img.css("max-height",mfp.wH-n-50)):e.img.css("max-height",mfp.wH-n-150)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,_imgInterval&&clearInterval(_imgInterval),e.isCheckingImgSize=!1,_mfpTrigger("ImageHasSize",e),e.imgHidden&&(mfp.content&&mfp.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,n=e.img[0],i=function(a){_imgInterval&&clearInterval(_imgInterval),_imgInterval=setInterval(function(){return n.naturalWidth>0?void mfp._onImageHasSize(e):(t>200&&clearInterval(_imgInterval),t++,void(3===t?i(10):40===t?i(50):100===t&&i(500)))},a)};i(1)},getImage:function(e,t){var n=0,i=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===mfp.currItem&&(mfp._onImageHasSize(e),mfp.updateStatus("ready")),e.hasSize=!0,e.loaded=!0):(n++,200>n?setTimeout(i,100):a()))},a=function(){e&&(e.img.off(".mfploader"),e===mfp.currItem&&(mfp._onImageHasSize(e),mfp.updateStatus("error",r.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},r=mfp.st.image,o=t.find(".mfp-img");if(o.length){var s=new Image;s.className="mfp-img",e.img=$(s).on("load.mfploader",i).on("error.mfploader",a),s.src=e.src,o.is("img")&&(e.img=e.img.clone())}return mfp._parseMarkup(t,{title:_getTitle(e),credit:_getCredit(e),img_replaceWith:e.img},e),mfp.resizeImage(),e.hasSize?(_imgInterval&&clearInterval(_imgInterval),e.loadError?(t.addClass("mfp-loading"),mfp.updateStatus("error",r.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),mfp.updateStatus("ready")),t):(mfp.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),mfp.findImageSize(e)),t)}}});var _getLoopedId=function(e){var t=mfp.items.length;return e>t-1?e-t:0>e?t+e:e},_replaceCurrTotal=function(e,t,n){return e.replace("%curr%",t+1).replace("%total%",n)};$.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var e=mfp.st.gallery,t=".mfp-gallery",n=Boolean($.fn.mfpFastClick);return mfp.direction=!0,e&&e.enabled?(_wrapClasses+=" mfp-gallery",_mfpOn(OPEN_EVENT+t,function(){e.navigateByImgClick&&mfp.wrap.on("click"+t,".mfp-img",function(){return mfp.items.length>1?(mfp.next(),!1):void 0}),_document.on("keydown"+t,function(e){37===e.keyCode?mfp.prev():39===e.keyCode&&mfp.next()})}),_mfpOn("UpdateStatus"+t,function(e,t){t.text&&(t.text=_replaceCurrTotal(t.text,mfp.currItem.index,mfp.items.length))}),_mfpOn(MARKUP_PARSE_EVENT+t,function(t,n,i,a){var r=mfp.items.length;i.counter=r>1?_replaceCurrTotal(e.tCounter,a.index,r):""}),_mfpOn("BuildControls"+t,function(){if(mfp.items.length>1&&e.arrows&&!mfp.arrowLeft){var t=e.arrowMarkup,n=mfp.arrowLeft=$(t.replace("%title%",e.tPrev).replace("%dir%","left")).addClass(PREVENT_CLOSE_CLASS),i=mfp.arrowRight=$(t.replace("%title%",e.tNext).replace("%dir%","right")).addClass(PREVENT_CLOSE_CLASS),a=$("html").hasClass("touch")?"touchstart":"click";$(n).bind(a,function(e){mfp.prev(),e.preventDefault()}),$(i).bind(a,function(e){mfp.next(),e.preventDefault()}),mfp.isIE7&&(_getEl("b",n[0],!1,!0),_getEl("a",n[0],!1,!0),_getEl("b",i[0],!1,!0),_getEl("a",i[0],!1,!0)),mfp.container.append(n.add(i))}}),_mfpOn(CHANGE_EVENT+t,function(){mfp._preloadTimeout&&clearTimeout(mfp._preloadTimeout),mfp._preloadTimeout=setTimeout(function(){mfp.preloadNearbyImages(),mfp._preloadTimeout=null},16)}),void _mfpOn(CLOSE_EVENT+t,function(){_document.off(t),mfp.wrap.off("click"+t),mfp.arrowLeft&&n&&mfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick(),mfp.arrowRight=mfp.arrowLeft=null})):!1},next:function(){$(".mfp-img").transition({opacity:0},200,function(){mfp.direction=!0,mfp.index=_getLoopedId(mfp.index+1),mfp.updateItemHTML()})},prev:function(){$(".mfp-img").transition({opacity:0},200,function(){mfp.direction=!1,mfp.index=_getLoopedId(mfp.index-1),mfp.updateItemHTML()})},goTo:function(e){mfp.direction=e>=mfp.index,mfp.index=e,mfp.updateItemHTML()},preloadNearbyImages:function(){var e,t=mfp.st.gallery.preload,n=Math.min(t[0],mfp.items.length),i=Math.min(t[1],mfp.items.length);for(e=1;e<=(mfp.direction?i:n);e++)mfp._preloadItem(mfp.index+e);for(e=1;e<=(mfp.direction?n:i);e++)mfp._preloadItem(mfp.index-e)},_preloadItem:function(e){if(e=_getLoopedId(e),!mfp.items[e].preloaded){var t=mfp.items[e];t.parsed||(t=mfp.parseEl(e)),_mfpTrigger("LazyLoad",t),"image"===t.type&&(t.img=$('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0}).attr("src",t.src)),t.preloaded=!0}}}}),define("hcs/libs/magnific",["jquery"],function(){}),!function(e,t,n,i){n.swipebox=function(a,r){var o={useCSS:!0,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"CCCCCC",beforeOpen:null,afterClose:null},s=this,l=[],a=a,c=a.selector,u=n(c),d=t.createTouch!==i||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,p=(!!e.SVGSVGElement,e.innerWidth?e.innerWidth:n(e).width()),f=e.innerHeight?e.innerHeight:n(e).height(),h='<div id="swipebox-overlay">				<div id="swipebox-slider"></div>				<a id="swipebox-close"></a>				<div id="swipebox-title">        <div class="social mobile-slideshow-yellow">	          <a href="http://facebook.com" class="facebook" target="_blank"><span class="icon">facebook</span></a>        <a href="http://twitter.com" class="twitter" target="_blank"><span class="icon">twitter</span></a>          <a href="mailto:test@example.com" class="email"><span class="icon">email</span></a>          </div>				  <div id="swipebox-caption"></div>				  <div id="swipebox-credit" class="photo-credit"></div>				</div>				<div id="swipebox-action">				  <div id="toggle-container">  				  <a href="#" id="info-toggle" class="swipebox-control">X</a>  				  <span id="swipebox-position"></span>  				</div>					<a id="swipebox-prev"></a>					<a id="swipebox-next"></a>          <div class="mfp-social social mfp-social-for-slideshow">            <a href="mailto:test@example.com" class="email">email</a>            <a href="http://twitter.com" class="twitter" target="_blank">twitter</a>            <a href="http://facebook.com" class="facebook" target="_blank">facebook</a>          </div>				</div>		</div>';s.settings={},s.init=function(){s.settings=n.extend({},o,r),n.isArray(a)?(l=a,m.target=n(e),m.init(0)):u.click(function(e){l=[];var t,i,a;a||(i="rel",a=n(this).attr(i)),a&&""!==a&&"nofollow"!==a?$elem=u.filter("["+i+'="'+a+'"]'):$elem=n(c),$elem.each(function(){var e=null,t=null,i=null;n(this).attr("title")&&(e=n(this).attr("title")),n(this).attr("data-credit")&&(i=n(this).attr("data-credit")),n(this).attr("href")&&(t=n(this).attr("href"),t=t.replace(".CROP.rectangle3-slideshow.jpg","")),l.push({href:t,title:e,credit:i})}),t=$elem.index(n(this)),e.preventDefault(),e.stopPropagation(),m.target=n(e.target),m.init(t)})},s.refresh=function(){n.isArray(a)||(m.destroy(),$elem=n(c),m.actions())};var m={init:function(e){s.settings.beforeOpen&&s.settings.beforeOpen(),this.target.trigger("swipebox-start"),n.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1)},build:function(){var e=this;n("body").append(h),n("#info-toggle, #swipebox-position").bind("click touchend",function(t){e.showInfo(),t.preventDefault()}),e.doCssTrans()&&(n("#swipebox-slider").css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease","-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"}),n("#swipebox-overlay").css({"-webkit-transition":"opacity 1s ease","-moz-transition":"opacity 1s ease","-o-transition":"opacity 1s ease","-khtml-transition":"opacity 1s ease",transition:"opacity 1s ease"})),n.each(l,function(){n("#swipebox-slider").append('<div class="slide"></div>')}),e.setDim(),e.actions(),e.keyboard(),e.gesture(),e.animBars(),e.resize()},setDim:function(){var t,i,a={};"onorientationchange"in e?e.addEventListener("orientationchange",function(){0==e.orientation?(t=p,i=f):(90==e.orientation||-90==e.orientation)&&(t=f,i=p)},!1):(t=e.innerWidth?e.innerWidth:n(e).width(),i=e.innerHeight?e.innerHeight:n(e).height()),a={width:t,height:i},n("#swipebox-overlay").css(a)},resize:function(){var t=this;n(e).resize(function(){t.setDim()}).resize()},supportTransition:function(){for(var e="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" "),n=0;n<e.length;n++)if(t.createElement("div").style[e[n]]!==i)return e[n];return!1},doCssTrans:function(){return s.settings.useCSS&&this.supportTransition()?!0:void 0},gesture:function(){if(d){var e=this,t=null,i=10,a={},r={},o=n("#swipebox-title, #swipebox-action");o.addClass("visible-bars"),e.setTimeout(),n("body").bind("touchstart",function(e){return n(this).addClass("touching"),r=e.originalEvent.targetTouches[0],a.pageX=e.originalEvent.targetTouches[0].pageX,n(".touching").bind("touchmove",function(e){e.preventDefault(),e.stopPropagation(),r=e.originalEvent.targetTouches[0]}),!1}).bind("touchend",function(s){s.preventDefault(),s.stopPropagation(),t=r.pageX-a.pageX,t>=i?e.getPrev():-i>=t?e.getNext():o.hasClass("visible-bars")?e.clearTimeout():(e.showBars(),e.setTimeout()),n(".touching").off("touchmove").removeClass("touching")})}},setTimeout:function(){if(s.settings.hideBarsDelay>0){var t=this;t.clearTimeout(),t.timeout=e.setTimeout(function(){t.hideBars()},s.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=n("#swipebox-title, #swipebox-action");this.doCssTrans()?e.addClass("visible-bars"):(n("#swipebox-title").animate({top:0},500),n("#swipebox-action").animate({bottom:0},500),setTimeout(function(){e.addClass("visible-bars")},1e3))},hideBars:function(){var e=n("#swipebox-title, #swipebox-action");this.doCssTrans()?e.removeClass("visible-bars"):(n("#swipebox-title").animate({top:"-50px"},500),n("#swipebox-action").animate({bottom:"-50px"},500),setTimeout(function(){e.removeClass("visible-bars")},1e3))},animBars:function(){var e=this,t=n("#swipebox-title, #swipebox-action");t.addClass("visible-bars"),e.setTimeout(),n("#swipebox-slider").click(function(n){t.hasClass("visible-bars")||(e.showBars(),e.setTimeout())}),n("#swipebox-action").hover(function(){e.showBars(),t.addClass("force-visible-bars"),e.clearTimeout()},function(){t.removeClass("force-visible-bars"),e.setTimeout()})},keyboard:function(){var t=this;n(e).bind("keyup",function(e){e.preventDefault(),e.stopPropagation(),37==e.keyCode?t.getPrev():39==e.keyCode?t.getNext():27==e.keyCode&&t.closeSlide()})},actions:function(){var e=this;l.length<2?n("#swipebox-prev, #swipebox-next").hide():(n("#swipebox-prev").bind("click touchend",function(t){t.preventDefault(),e.getPrev(),e.setTimeout()}),n("#swipebox-next").bind("click touchend",function(t){t.preventDefault(),e.getNext(),e.setTimeout()})),n("#swipebox-close").bind("click touchend",function(t){e.closeSlide()})},setSlide:function(e,t,i,a){t=t||!1,i=i||!1,a=a||!1;var r=n("#swipebox-slider");i?n("#swipebox-slider").css({left:100*-l.length+"%"}).delay(500).queue(function(e){n(this).css({"-webkit-transition":"left 0s ease","-moz-transition":"left 0s ease","-o-transition":"left 0s ease","-khtml-transition":"left 0s ease",transition:"left 0s ease",left:""}),e()}).delay(600).queue(function(e){n(this).css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease","-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"}),e()}):a?n("#swipebox-slider").css({left:"100%"}).delay(500).queue(function(e){n(this).css({"-webkit-transition":"left 0s ease","-moz-transition":"left 0s ease","-o-transition":"left 0s ease","-khtml-transition":"left 0s ease",transition:"left 0s ease",left:100*-(l.length-1)+"%"}),e()}).delay(600).queue(function(e){n(this).css({"-webkit-transition":"left 0.4s ease","-moz-transition":"left 0.4s ease",
"-o-transition":"left 0.4s ease","-khtml-transition":"left 0.4s ease",transition:"left 0.4s ease"}),e()}):this.doCssTrans()?r.css({left:100*-e+"%"}):r.animate({left:100*-e+"%"}),n("#swipebox-slider .slide").removeClass("current"),n("#swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),this.setCredit(e),this.setPosition(e),t&&r.fadeIn(),n("#swipebox-prev, #swipebox-next").removeClass("disabled")},openSlide:function(t){n("html").addClass("swipebox"),n(e).trigger("resize"),this.setSlide(t,!0)},preloadMedia:function(e){var t=this,n=null;l[e]!==i&&(n=l[e].href),t.isVideo(n)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var t=this,a=null;return l[e]!==i&&(a=l[e].href),0>e||e>=l.length?!1:void(t.isVideo(a)?n("#swipebox-slider .slide").eq(e).html(t.getVideo(a)):t.loadMedia(a,function(){n("#swipebox-slider .slide").eq(e).html(this)}))},setCredit:function(e,t){var a=null;n("#swipebox-credit").empty(),l[e]!==i&&(a=l[e].credit),a&&n("#swipebox-credit").append(a)},setPosition:function(e){n("#swipebox-position").empty();var t=e+1+"/"+$elem.length;n("#swipebox-position").append(t)},setTitle:function(e,t){var a=null;n("#swipebox-caption").empty(),l[e]!==i&&(a=l[e].title),a&&n("#swipebox-caption").append(a)},isVideo:function(e){return e&&(e.match(/youtube\.com\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/))?!0:void 0},getVideo:function(e){var t="",n=e.match(/watch\?v=([a-zA-Z0-9\-_]+)/),i=e.match(/vimeo\.com\/([0-9]*)/);return n?t='<iframe width="560" height="315" src="//www.youtube.com/embed/'+n[1]+'" frameborder="0" allowfullscreen></iframe>':i&&(t='<iframe width="560" height="315"  src="http://player.vimeo.com/video/'+i[1]+"?byline=0&amp;portrait=0&amp;color="+s.settings.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),'<div class="swipebox-video-container" style="max-width:'+s.settings.videomaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(!this.isVideo(e)){var i=n("<img>").on("load",function(){t.call(i)});i.attr("src",e)}},getNext:function(){var e=this;index=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current")),index+1<l.length?(index++,e.setSlide(index),index+1<l.length?e.preloadMedia(index+1):e.preloadMedia(0)):(index=0,e.setSlide(index,!1,!0),e.preloadMedia(index+1))},getPrev:function(){var e=this;index=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current")),index>0?(index--,this.setSlide(index),index-1>0?this.preloadMedia(index-1):this.preloadMedia(l.length-1)):(index=l.length-1,e.preloadMedia(index),this.setSlide(index,!1,!1,!0),e.preloadMedia(index-1))},closeSlide:function(){n("html").removeClass("swipebox"),n(e).trigger("resize"),this.destroy()},destroy:function(){n(e).unbind("keyup"),n("body").unbind("touchstart"),n("body").unbind("touchmove"),n("body").unbind("touchend"),n("#swipebox-slider").unbind(),n("#swipebox-overlay").remove(),n.isArray(a)||a.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),n.swipebox.isOpen=!1,s.settings.afterClose&&s.settings.afterClose()},showInfo:function(){n("#info-toggle").hasClass("exposed")?(n("#info-toggle").removeClass("exposed"),n("#swipebox-title").css("display","block").transition({bottom:-(n("#swipebox-title").height()+100)},"fast",function(){n(this).hide()})):(n("#info-toggle").addClass("exposed"),n("#swipebox-title").css("display","block").transition({bottom:n("#swipebox-action").height()},"fast"))}};return s.init(),{getNext:function(){m.getNext()},getPrev:function(){m.getPrev()},close:function(){m.closeSlide()}}},n.fn.swipebox=function(e){if(!n.data(this,"_swipebox")){var t=new n.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery),define("hcs/plugins/jquery.swipebox",["jquery"],function(){}),!function(e,t,n,i){function a(t,n){this.element=t,this.options=e.extend({},o,n),this._animationSpeed=100,this._defaults=o,this._name=r,this._items=null,this.init()}var r="SGBigSlider",o={type:"home"};a.prototype.init=function(){var t=e("#big_slider_slides").find("li").first().clone(),i=e("#big_slider_slides").find("li").length;this._items=e("#big_slider_slides").find("li");var a=this;this.bigSwiper=Swipe(n.getElementById("big_slider_wrap"),{stopPropagation:!0,callback:function(t){var n=e(e("#big_slider_slides").find("li").get(t)).clone();"home"==a.options.type?(a.updateInfoForHome(n.find(".hed"),n.find(".byline"),n.find(".rubrik")),e("#big_slider_position_indicators").find("li").removeClass("active"),e(e("#big_slider_position_indicators li").get(a.bigSwiper.getPos()%i)).addClass("active")):a.updateInfoForArticle(n.find(".caption"),n.find(".photo-credit"),n.find("img").attr("src"))}}),"home"==this.options.type?(this.updateInfoForHome(t.find(".hed"),t.find(".byline"),t.find(".rubrik")),a.setPositionDots(i)):(this.updateInfoForArticle(t.find(".caption"),t.find(".photo-credit"),t.find("img").attr("src")),e(".big-slider-img-link img").unwrap());var r=e("html").hasClass("touch")?"touchstart":"click";e(".pagination-link-next").bind(r,function(e){a.bigSwiper.next(),e.preventDefault()}),e(".pagination-link-prev").bind(r,function(e){a.bigSwiper.prev(),e.preventDefault()});var o=new Date,s=o.getTime();e(this.element).find(".full-screen-link").SGLightbox({type:"slideshow",items:a.lightboxSlideshowItems(),startPosition:function(){return a.bigSwiper.getPos()},slideshowId:s})},a.prototype.setPositionDots=function(t){var n=this;e("#big_slider_wrap").after('<div id="big_slider_position_indicators" class="carousel-dots"><ul></ul></div>');for(var i=e("#big_slider_position_indicators ul"),a=0;t>a;a++){var r=e('<li><a href="#" data-position="'+a+'">'+a+"</a></li>");0==a&&r.addClass("active"),i.append(r)}i.find("a").click(function(t){n.bigSwiper.slide(parseInt(e(this).attr("data-position"))),t.preventDefault()})},a.prototype.lightboxSlideshowItems=function(){var t=[];return e(this._items).each(function(){t.push({src:e(this).find(".image").attr("src"),title:e(this).find(".caption").text(),credit:e(this).find(".photo-credit").text()})}),t},a.prototype.updateInfoForArticle=function(t,n,a){var r=e(this.element).find(".article-info");r.find(".caption").replaceWith(t);var o=this.bigSwiper.getPos()+1,s=o+" / "+this.bigSwiper.getNumSlides();r.find(".position").text(s),r.find(".photo-credit").replaceWith(n);var l=e("#ogurl").attr("content"),c=l!==i?"http://www.slate.com"+l.split(l.split("//")[1].split("/")[0])[1]:"http://www.slate.com";c=c.replace("/content/slate","");var u=r.find(".social-with-popup .facebook"),d="http://www.facebook.com/sharer.php?s=100&p[title]="+e("#ogtitle").attr("content")+"&p[summary]="+e("#ogdescription").attr("content")+"&p[ref]=sl_live&p[images][0]="+e("#ogimage").attr("content")+"&p[url]="+encodeURI(c);u.attr("href",d),r.find(".facebook").replaceWith(u);var p=r.find(".social-with-popup .twitter");p.attr("href","http://twitter.com/share?text="+encodeURIComponent(e("#ogtitle").attr("content"))+"&count=none&via=slate&url="+encodeURIComponent(c)),r.find(".twitter").replaceWith(p);var f=r.find(".social-with-popup .email");f.attr("href","mailto:?subject="+encodeURIComponent(e("#ogtitle").attr("content"))+"&body="+encodeURIComponent(c)),r.find(".email").replaceWith(f)},a.prototype.updateInfoForHome=function(t,n,i){var a=e(this.element).find(".article-info");a.find(".hed").replaceWith(t),a.find(".byline").replaceWith(n),a.find(".rubrik").replaceWith(i)},a.prototype.close=function(){this.footnotePopup.fadeOut(this._animationSpeed,function(){e(n).unbind("keyup.footnote"),e("body").unbind("click.footnote")})},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document),define("hcs/plugins/SGBigSlider.jquery",["jquery","hcs/script","hcs/libs/swipe"],function(){}),!function(e){e.extend({placeholder:{settings:{focusClass:"placeholderFocus",activeClass:"placeholder",overrideSupport:!1,preventRefreshIssues:!0}}}),e.support.placeholder="placeholder"in document.createElement("input"),e.fn.plVal=e.fn.val,e.fn.val=function(t){if("undefined"==typeof t)return e.fn.plVal.call(this);var n=e(this[0]),i=n.plVal(),a=e(this).plVal(t);return n.hasClass(e.placeholder.settings.activeClass)&&i===n.attr("placeholder")?(n.removeClass(e.placeholder.settings.activeClass),a):n.hasClass(e.placeholder.settings.activeClass)&&n.plVal()===n.attr("placeholder")?"":e.fn.plVal.call(this,t)},e(window).bind("beforeunload.placeholder",function(){var t=e("input."+e.placeholder.settings.activeClass);t.length>0&&t.val("").attr("autocomplete","off")}),e.fn.placeholder=function(t){return t=e.extend({},e.placeholder.settings,t),!t.overrideSupport&&e.support.placeholder?this:this.each(function(){var n=e(this);n.is("[placeholder]")&&(n.is(":password")||(t.preventRefreshIssues&&n.attr("autocomplete","off"),n.bind("focus.placeholder",function(){var n=e(this);this.value===n.attr("placeholder")&&n.hasClass(t.activeClass)&&n.val("").removeClass(t.activeClass).addClass(t.focusClass)}),n.bind("blur.placeholder",function(){var n=e(this);n.removeClass(t.focusClass),""===this.value&&n.val(n.attr("placeholder")).addClass(t.activeClass)}),n.triggerHandler("blur"),n.parents("form").submit(function(){n.triggerHandler("focus.placeholder")})))})}}(jQuery),define("hcs/plugins/jquery.placeholder.min",["jquery"],function(){}),!function(e){"function"==typeof define&&define.amd?define("libs/jquery-plugins/jquery.timeago",["jquery"],e):e(jQuery)}(function(e){function t(){var t=n(this),o=r.settings;return isNaN(t.datetime)||(0==o.cutoff||a(t.datetime)<o.cutoff)&&e(this).text(i(t.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:r.datetime(t)});var n=e.trim(t.text());r.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||r.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function i(e){return r.inWords(a(e))}function a(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return i(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var r=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"AGO",suffixFromNow:"FROM NOW",seconds:"1M",minute:"1M",minutes:"%dM",hour:"1H",hours:"%dH",day:"1D",days:"%dD",month:"1M",months:"%dM",year:"1Y",years:"%dY",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,a){var r=e.isFunction(n)?n(a,t):n,o=i.numbers&&i.numbers[a]||a;return r.replace(/%d/i,o)}var i=this.settings.strings,a=i.prefixAgo,r=i.suffixAgo;this.settings.allowFuture&&0>t&&(a=i.prefixFromNow,r=i.suffixFromNow);var o=Math.abs(t)/1e3,s=o/60,l=s/60,c=l/24,u=c/365,d=45>o&&n(i.seconds,Math.round(o))||90>o&&n(i.minute,1)||45>s&&n(i.minutes,Math.round(s))||90>s&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>c&&n(i.days,Math.round(c))||45>c&&n(i.month,1)||365>c&&n(i.months,Math.round(c/30))||1.5>u&&n(i.year,1)||n(i.years,Math.round(u)),p=i.wordSeparator||"";return void 0===i.wordSeparator&&(p=" "),e.trim([a,d,r].join(p))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(t){var n=r.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return r.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var o={init:function(){var n=e.proxy(t,this);n();var i=r.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){e(this).data("timeago",{datetime:r.parse(n)}),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:r.parse(r.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?o[e]:o.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),!function(e){"use strict";"function"==typeof define&&define.amd?define("libs/jquery-plugins/jquery.form",["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function n(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var a=i.closest("[type=submit]");if(0===a.length)return;n=a[0]}var r=this;if(r.clk=n,"image"==n.type)if(void 0!==t.offsetX)r.clk_x=t.offsetX,r.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=i.offset();r.clk_x=t.pageX-o.left,r.clk_y=t.pageY-o.top}else r.clk_x=t.pageX-n.offsetLeft,r.clk_y=t.pageY-n.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var a={};a.fileapi=void 0!==e("<input type='file'/>").get(0).files,a.formdata=void 0!==window.FormData;var r=!!e.fn.prop;e.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function n(n){var i,a,r=e.param(n,t.traditional).split("&"),o=r.length,s=[];for(i=0;o>i;i++)r[i]=r[i].replace(/\+/g," "),a=r[i].split("="),s.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return s}function o(i){for(var a=new FormData,r=0;r<i.length;r++)a.append(i[r].name,i[r].value);if(t.extraData){var o=n(t.extraData);for(r=0;r<o.length;r++)o[r]&&a.append(o[r][0],o[r][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(s.xhr=function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,i=e.loaded||e.position,a=e.total;e.lengthComputable&&(n=Math.ceil(i/a*100)),t.uploadProgress(e,i,a,n)},!1),n}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,n){n.data=t.formData?t.formData:a,c&&c.call(this,e,n)},e.ajax(s)}function s(n){function a(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(n){i("cannot get iframe.contentWindow document: "+n)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){i("cannot get iframe.contentDocument: "+n),t=e.document}return t}function o(){function t(){try{var e=a(g).readyState;i("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(n){i("Server abort: ",n," (",n.name,")"),s(T),k&&clearTimeout(k),k=void 0}}var n=d.attr2("target"),r=d.attr2("action"),o="multipart/form-data",c=d.attr("enctype")||d.attr("encoding")||o;x.setAttribute("target",h),(!l||/post/i.test(l))&&x.setAttribute("method","POST"),r!=p.url&&x.setAttribute("action",p.url),p.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(k=setTimeout(function(){w=!0,s(C)},p.timeout));var u=[];try{if(p.extraData)for(var f in p.extraData)p.extraData.hasOwnProperty(f)&&(e.isPlainObject(p.extraData[f])&&p.extraData[f].hasOwnProperty("name")&&p.extraData[f].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+p.extraData[f].name+'">').val(p.extraData[f].value).appendTo(x)[0]):u.push(e('<input type="hidden" name="'+f+'">').val(p.extraData[f]).appendTo(x)[0]));p.iframeTarget||b.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(t,15);try{x.submit()}catch(m){var v=document.createElement("form").submit;v.apply(x)}}finally{x.setAttribute("action",r),x.setAttribute("enctype",c),n?x.setAttribute("target",n):d.removeAttr("target"),e(u).remove()}}function s(t){if(!v.aborted&&!P){if(I=a(g),I||(i("cannot access response document"),t=T),t===C&&v)return v.abort("timeout"),void S.reject(v,"timeout");if(t==T&&v)return v.abort("server abort"),void S.reject(v,"error","server abort");if(I&&I.location.href!=p.iframeSrc||w){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var n,r="success";try{if(w)throw"timeout";var o="xml"==p.dataType||I.XMLDocument||e.isXMLDoc(I);if(i("isXml="+o),!o&&window.opera&&(null===I.body||!I.body.innerHTML)&&--O)return i("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var l=I.body?I.body:I.documentElement;v.responseText=l?l.innerHTML:null,v.responseXML=I.XMLDocument?I.XMLDocument:I,o&&(p.dataType="xml"),v.getResponseHeader=function(e){var t={"content-type":p.dataType};return t[e.toLowerCase()]},l&&(v.status=Number(l.getAttribute("status"))||v.status,v.statusText=l.getAttribute("statusText")||v.statusText);var c=(p.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||p.textarea){var d=I.getElementsByTagName("textarea")[0];if(d)v.responseText=d.value,v.status=Number(d.getAttribute("status"))||v.status,v.statusText=d.getAttribute("statusText")||v.statusText;else if(u){var h=I.getElementsByTagName("pre")[0],m=I.getElementsByTagName("body")[0];h?v.responseText=h.textContent?h.textContent:h.innerText:m&&(v.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!v.responseXML&&v.responseText&&(v.responseXML=D(v.responseText));try{E=M(v,c,p)}catch(y){r="parsererror",v.error=n=y||r}}catch(y){i("error caught: ",y),r="error",v.error=n=y||r}v.aborted&&(i("upload aborted"),r=null),v.status&&(r=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===r?(p.success&&p.success.call(p.context,E,"success",v),S.resolve(v.responseText,"success",v),f&&e.event.trigger("ajaxSuccess",[v,p])):r&&(void 0===n&&(n=v.statusText),p.error&&p.error.call(p.context,v,r,n),S.reject(v,"error",n),f&&e.event.trigger("ajaxError",[v,p,n])),f&&e.event.trigger("ajaxComplete",[v,p]),f&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,v,r),P=!0,p.timeout&&clearTimeout(k),setTimeout(function(){p.iframeTarget?b.attr("src",p.iframeSrc):b.remove(),v.responseXML=null},100)}}}var c,u,p,f,h,b,g,v,y,_,w,k,x=d[0],S=e.Deferred();if(S.abort=function(e){v.abort(e)},n)for(u=0;u<m.length;u++)c=e(m[u]),r?c.prop("disabled",!1):c.removeAttr("disabled");if(p=e.extend(!0,{},e.ajaxSettings,t),p.context=p.context||p,h="jqFormIO"+(new Date).getTime(),p.iframeTarget?(b=e(p.iframeTarget),_=b.attr2("name"),_?h=_:b.attr2("name",h)):(b=e('<iframe name="'+h+'" src="'+p.iframeSrc+'" />'),b.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=b[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(a){}b.attr("src",p.iframeSrc),v.error=n,p.error&&p.error.call(p.context,v,n,t),f&&e.event.trigger("ajaxError",[v,p,n]),p.complete&&p.complete.call(p.context,v,n)}},f=p.global,f&&0===e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[v,p]),p.beforeSend&&p.beforeSend.call(p.context,v,p)===!1)return p.global&&e.active--,S.reject(),S;if(v.aborted)return S.reject(),S;y=x.clk,y&&(_=y.name,_&&!y.disabled&&(p.extraData=p.extraData||{},p.extraData[_]=y.value,"image"==y.type&&(p.extraData[_+".x"]=x.clk_x,p.extraData[_+".y"]=x.clk_y)));var C=1,T=2,j=e("meta[name=csrf-token]").attr("content"),A=e("meta[name=csrf-param]").attr("content");A&&j&&(p.extraData=p.extraData||{},p.extraData[A]=j),p.forceSync?o():setTimeout(o,10);var E,I,P,O=50,D=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},N=e.parseJSON||function(e){return window.eval("("+e+")")},M=function(t,n,i){var a=t.getResponseHeader("content-type")||"",r="xml"===n||!n&&a.indexOf("xml")>=0,o=r?t.responseXML:t.responseText;return r&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(o=i.dataFilter(o,n)),"string"==typeof o&&("json"===n||!n&&a.indexOf("json")>=0?o=N(o):("script"===n||!n&&a.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var p={};if(this.trigger("form-pre-serialize",[this,t,p]),p.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var f=t.traditional;void 0===f&&(f=e.ajaxSettings.traditional);var h,m=[],b=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,h=e.param(t.data,f)),t.beforeSubmit&&t.beforeSubmit(b,this,t)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[b,this,t,p]),p.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(b,f);h&&(g=g?g+"&"+h:h),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var v=[];if(t.resetForm&&v.push(function(){d.resetForm()}),t.clearForm&&v.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};v.push(function(n){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](n).each(y,arguments)})}else t.success&&v.push(t.success);if(t.success=function(e,n,i){for(var a=t.context||this,r=0,o=v.length;o>r;r++)v[r].apply(a,[e,n,i||d,d])},t.error){var _=t.error;t.error=function(e,n,i){var a=t.context||this;_.apply(a,[e,n,i,d])}}if(t.complete){var w=t.complete;t.complete=function(e,n){var i=t.context||this;w.apply(i,[e,n,d])}}var k=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),x=k.length>0,S="multipart/form-data",C=d.attr("enctype")==S||d.attr("encoding")==S,T=a.fileapi&&a.formdata;i("fileAPI :"+T);var j,A=(x||C)&&!T;t.iframe!==!1&&(t.iframe||A)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){j=s(b)}):j=s(b):j=(x||C)&&T?o(b):e.ajax(t),d.removeData("jqxhr").data("jqxhr",j);for(var E=0;E<m.length;E++)m[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(a){if(a=a||{},a.delegation=a.delegation&&e.isFunction(e.fn.on),!a.delegation&&0===this.length){var r={s:this.selector,c:this.context};return!e.isReady&&r.s?(i("DOM not ready, queuing ajaxForm"),e(function(){e(r.s,r.c).ajaxForm(a)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return a.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,a,t).on("click.form-plugin",this.selector,a,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",a,t).bind("click.form-plugin",a,n)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,n){var i=[];if(0===this.length)return i;var r,o=this[0],s=this.attr("id"),l=t?o.getElementsByTagName("*"):o.elements;if(l&&(l=e(l).get()),s&&(r=e(":input[form="+s+"]").get(),r.length&&(l=(l||[]).concat(r))),!l||!l.length)return i;var c,u,d,p,f,h,m;for(c=0,h=l.length;h>c;c++)if(f=l[c],d=f.name,d&&!f.disabled)if(t&&o.clk&&"image"==f.type)o.clk==f&&(i.push({name:d,value:e(f).val(),type:f.type}),i.push({name:d+".x",value:o.clk_x},{name:d+".y",value:o.clk_y}));else if(p=e.fieldValue(f,!0),p&&p.constructor==Array)for(n&&n.push(f),u=0,m=p.length;m>u;u++)i.push({name:d,value:p[u]});else if(a.fileapi&&"file"==f.type){n&&n.push(f);var b=f.files;if(b.length)for(u=0;u<b.length;u++)i.push({name:d,value:b[u],type:f.type});else i.push({name:d,value:"",type:f.type})}else null!==p&&"undefined"!=typeof p&&(n&&n.push(f),i.push({name:d,value:p,type:f.type,required:f.required}));if(!t&&o.clk){var g=e(o.clk),v=g[0];d=v.name,d&&!v.disabled&&"image"==v.type&&(i.push({name:d,value:g.val()}),i.push({name:d+".x",value:o.clk_x},{name:d+".y",value:o.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var a=e.fieldValue(this,t);if(a&&a.constructor==Array)for(var r=0,o=a.length;o>r;r++)n.push({name:i,value:a[r]});else null!==a&&"undefined"!=typeof a&&n.push({name:this.name,value:a})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,a=this.length;a>i;i++){var r=this[i],o=e.fieldValue(r,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(n,o):n.push(o))}return n},e.fieldValue=function(t,n){var i=t.name,a=t.type,r=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==a||"button"==a||("checkbox"==a||"radio"==a)&&!t.checked||("submit"==a||"image"==a)&&t.form&&t.form.clk!=t||"select"==r&&-1==t.selectedIndex))return null;if("select"==r){var o=t.selectedIndex;if(0>o)return null;for(var s=[],l=t.options,c="select-one"==a,u=c?o+1:l.length,d=c?o:0;u>d;d++){var p=l[d];if(p.selected){var f=p.value;if(f||(f=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),c)return f;s.push(f)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,a=this.tagName.toLowerCase();n.test(i)||"textarea"==a?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==a?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}),!function(e){e.fn.fitText=function(t,n){var i=t||1,a=e.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var t=e(this),n=function(){t.css("font-size",Math.max(Math.min(t.width()/(10*i),parseFloat(a.maxFontSize)),parseFloat(a.minFontSize)))};n(),e(window).on("resize.fittext orientationchange.fittext",n)})}}(jQuery),define("libs/jquery-plugins/jquery.fittext",function(){}),!function(e){var t={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",responsiveWidth:!1},n=e(window),i=e(document),a=[],r=n.height(),o=function(){for(var t=n.scrollTop(),o=i.height(),s=o-r,l=t>s?s-t:0,c=0;c<a.length;c++){var u=a[c],d=u.stickyWrapper.offset().top,p=d-u.topSpacing-l;if(p>=t)null!==u.currentTop&&(u.stickyElement.css("position","").css("top",""),u.stickyElement.trigger("sticky-end",[u]).parent().removeClass(u.className),u.currentTop=null);else{var f=o-u.stickyElement.outerHeight()-u.topSpacing-u.bottomSpacing-t-l;0>f?f+=u.topSpacing:f=u.topSpacing,u.currentTop!=f&&(u.stickyElement.css("position","fixed").css("top",f),"undefined"!=typeof u.getWidthFrom&&u.stickyElement.css("width",e(u.getWidthFrom).width()),u.stickyElement.trigger("sticky-start",[u]).parent().addClass(u.className),u.currentTop=f)}}},s=function(){r=n.height();for(var t=0;t<a.length;t++){var i=a[t];"undefined"!=typeof i.getWidthFrom&&i.responsiveWidth===!0&&i.stickyElement.css("width",e(i.getWidthFrom).width())}},l={init:function(n){var i=e.extend({},t,n);return this.each(function(){var n=e(this),r=n.attr("id"),o=(r?r+"-"+t.wrapperClassName:t.wrapperClassName,e("<div></div>").attr("id",r+"-sticky-wrapper").addClass(i.wrapperClassName));n.wrapAll(o),i.center&&n.parent().css({width:n.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==n.css("float")&&n.css({"float":"none"}).parent().css({"float":"right"});var s=n.parent();s.css("height",n.outerHeight()),a.push({topSpacing:i.topSpacing,bottomSpacing:i.bottomSpacing,stickyElement:n,currentTop:null,stickyWrapper:s,className:i.className,getWidthFrom:i.getWidthFrom,responsiveWidth:i.responsiveWidth})})},update:o,unstick:function(t){return this.each(function(){for(var t=e(this),n=-1,i=0;i<a.length;i++)a[i].stickyElement.get(0)==t.get(0)&&(n=i);-1!=n&&(a.splice(n,1),t.unwrap(),t.removeAttr("style"))})}};window.addEventListener?(window.addEventListener("scroll",o,!1),window.addEventListener("resize",s,!1)):window.attachEvent&&(window.attachEvent("onscroll",o),window.attachEvent("onresize",s)),e.fn.sticky=function(t){return l[t]?l[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.sticky"):l.init.apply(this,arguments)},e.fn.unstick=function(t){return l[t]?l[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.sticky"):l.unstick.apply(this,arguments)},e(function(){setTimeout(o,0)})}(jQuery),define("libs/jquery-plugins/jquery.sticky",function(){}),!function(e){"use strict";"function"==typeof define&&define.amd?define("libs/jquery-plugins/jquery.autoComplete",["jquery"],e):e(jQuery)}(function(e){"use strict";function t(n,i){var a=function(){},r=this,o={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:t.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:a,onSearchComplete:a,onSearchError:a,containerClass:"autoComplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(e,t,n){return-1!==e.value.toLowerCase().indexOf(n)},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t}};r.element=n,r.el=e(n),r.suggestions=[],r.badQueries=[],r.selectedIndex=-1,r.currentValue=r.element.value,r.intervalId=0,r.cachedResponse={},r.onChangeInterval=null,r.onChange=null,r.isLocal=!1,r.suggestionsContainer=null,r.options=e.extend({},o,i),r.classes={selected:"autoComplete-selected",suggestion:"autoComplete-suggestion"},r.hint=null,r.hintValue="",r.selection=null,r.initialize(),r.setOptions(i)}var n=function(){return{escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(e){var t=document.createElement("div");return t.className=e,t.style.position="absolute",t.style.display="none",t}}}(),i={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};t.utils=n,e.AutoComplete=t,t.formatResult=function(e,t){var i="("+n.escapeRegExChars(t)+")";return e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>")},t.prototype={killerFn:null,initialize:function(){var n,i=this,a="."+i.classes.suggestion,r=i.classes.selected,o=i.options;
i.element.setAttribute("autoComplete","off"),i.killerFn=function(t){0===e(t.target).closest("."+i.options.containerClass).length&&(i.killSuggestions(),i.disableKillerFn())},i.suggestionsContainer=t.utils.createNode(o.containerClass),n=e(i.suggestionsContainer),n.appendTo(o.appendTo),"auto"!==o.width&&n.width(o.width),n.on("mouseover.autoComplete",a,function(){i.activate(e(this).data("index"))}),n.on("mouseout.autoComplete",function(){i.selectedIndex=-1,n.children("."+r).removeClass(r)}),n.on("click.autoComplete",a,function(){i.select(e(this).data("index"))}),i.fixPosition(),i.fixPositionCapture=function(){i.visible&&i.fixPosition()},e(window).on("resize.autoComplete",i.fixPositionCapture),i.el.on("keydown.autoComplete",function(e){i.onKeyPress(e)}),i.el.on("keyup.autoComplete",function(e){i.onKeyUp(e)}),i.el.on("blur.autoComplete",function(){i.onBlur()}),i.el.on("focus.autoComplete",function(){i.onFocus()}),i.el.on("change.autoComplete",function(e){i.onKeyUp(e)})},onFocus:function(){var e=this;e.fixPosition(),e.options.minChars<=e.el.val().length&&e.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var n=this,i=n.options;e.extend(i,t),n.isLocal=e.isArray(i.lookup),n.isLocal&&(i.lookup=n.verifySuggestionsFormat(i.lookup)),e(n.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var e=this;e.disabled=!0,e.currentRequest&&e.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var t,n,i=this;"body"===i.options.appendTo&&(t=i.el.offset(),n={top:t.top+i.el.outerHeight()+"px",left:t.left+"px"},"auto"===i.options.width&&(n.width=i.el.outerWidth()-2+"px"),e(i.suggestionsContainer).css(n))},enableKillerFn:function(){var t=this;e(document).on("click.autoComplete",t.killerFn)},disableKillerFn:function(){var t=this;e(document).off("click.autoComplete",t.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var e,t=this,n=t.el.val().length,i=t.element.selectionStart;return"number"==typeof i?i===n:document.selection?(e=document.selection.createRange(),e.moveStart("character",-n),n===e.text.length):!0},onKeyPress:function(e){var t=this;if(!t.disabled&&!t.visible&&e.which===i.DOWN&&t.currentValue)return void t.suggest();if(!t.disabled&&t.visible){switch(e.which){case i.ESC:t.el.val(t.currentValue),t.hide();break;case i.RIGHT:if(t.hint&&t.options.onHint&&t.isCursorAtEnd()){t.selectHint();break}return;case i.TAB:if(t.hint&&t.options.onHint)return void t.selectHint();case i.RETURN:if(-1===t.selectedIndex)return void t.hide();if(t.select(t.selectedIndex),e.which===i.TAB&&t.options.tabDisabled===!1)return;break;case i.UP:t.moveUp();break;case i.DOWN:t.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.which){case i.UP:case i.DOWN:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(t.findBestHint(),t.options.deferRequestBy>0?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var t,n=this,i=n.options,a=n.el.val(),r=n.getQuery(a);return n.selection&&(n.selection=null,(i.onInvalidateSelection||e.noop).call(n.element)),clearInterval(n.onChangeInterval),n.currentValue=a,n.selectedIndex=-1,i.triggerSelectOnValidInput&&(t=n.findSuggestionIndex(r),-1!==t)?void n.select(t):void(r.length<i.minChars?n.hide():n.getSuggestions(r))},findSuggestionIndex:function(t){var n=this,i=-1,a=t.toLowerCase();return e.each(n.suggestions,function(e,t){return t.value.toLowerCase()===a?(i=e,!1):void 0}),i},getQuery:function(t){var n,i=this.options.delimiter;return i?(n=t.split(i),e.trim(n[n.length-1])):t},getSuggestionsLocal:function(t){var n,i=this,a=i.options,r=t.toLowerCase(),o=a.lookupFilter,s=parseInt(a.lookupLimit,10);return n={suggestions:e.grep(a.lookup,function(e){return o(e,t,r)})},s&&n.suggestions.length>s&&(n.suggestions=n.suggestions.slice(0,s)),n},getSuggestions:function(t){var n,i,a,r=this,o=r.options,s=o.serviceUrl;if(o.params[o.paramName]=t,i=o.ignoreParams?null:o.params,r.isLocal?n=r.getSuggestionsLocal(t):(e.isFunction(s)&&(s=s.call(r.element,t)),a=s+"?"+e.param(i||{}),n=r.cachedResponse[a]),n&&e.isArray(n.suggestions))r.suggestions=n.suggestions,r.suggest();else if(!r.isBadQuery(t)){if(o.onSearchStart.call(r.element,o.params)===!1)return;r.currentRequest&&r.currentRequest.abort(),r.currentRequest=e.ajax({url:s,data:i,type:o.type,dataType:o.dataType}).done(function(e){var n;r.currentRequest=null,n=o.transformResult(e),r.processResponse(n,t,a),o.onSearchComplete.call(r.element,t,n.suggestions)}).fail(function(e,n,i){o.onSearchError.call(r.element,t,e,n,i)})}},isBadQuery:function(e){if(!this.options.preventBadQueries)return!1;for(var t=this.badQueries,n=t.length;n--;)if(0===e.indexOf(t[n]))return!0;return!1},hide:function(){var t=this;t.visible=!1,t.selectedIndex=-1,e(t.suggestionsContainer).hide(),t.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return void this.hide();var t,n,i=this,a=i.options,r=a.formatResult,o=i.getQuery(i.currentValue),s=i.classes.suggestion,l=i.classes.selected,c=e(i.suggestionsContainer),u=a.beforeRender,d="";return a.triggerSelectOnValidInput&&(t=i.findSuggestionIndex(o),-1!==t)?void i.select(t):(e.each(i.suggestions,function(e,t){d+='<div class="'+s+'" data-index="'+e+'">'+r(t,o)+"</div>"}),"auto"===a.width&&(n=i.el.outerWidth()-2,c.width(n>0?n:300)),c.html(d),a.autoSelectFirst&&(i.selectedIndex=0,c.children().first().addClass(l)),e.isFunction(u)&&u.call(i.element,c),c.show(),i.visible=!0,void i.findBestHint())},findBestHint:function(){var t=this,n=t.el.val().toLowerCase(),i=null;n&&(e.each(t.suggestions,function(e,t){var a=0===t.value.toLowerCase().indexOf(n);return a&&(i=t),!a}),t.signalHint(i))},signalHint:function(t){var n="",i=this;t&&(n=i.currentValue+t.value.substr(i.currentValue.length)),i.hintValue!==n&&(i.hintValue=n,i.hint=t,(this.options.onHint||e.noop)(n))},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},processResponse:function(e,t,n){var i=this,a=i.options;e.suggestions=i.verifySuggestionsFormat(e.suggestions),a.noCache||(i.cachedResponse[n]=e,a.preventBadQueries&&0===e.suggestions.length&&i.badQueries.push(t)),t===i.getQuery(i.currentValue)&&(i.suggestions=e.suggestions,i.suggest())},activate:function(t){var n,i=this,a=i.classes.selected,r=e(i.suggestionsContainer),o=r.children();return r.children("."+a).removeClass(a),i.selectedIndex=t,-1!==i.selectedIndex&&o.length>i.selectedIndex?(n=o.get(i.selectedIndex),e(n).addClass(a),n):null},selectHint:function(){var t=this,n=e.inArray(t.hint,t.suggestions);t.select(n)},select:function(e){var t=this;t.hide(),t.onSelect(e)},moveUp:function(){var t=this;return-1!==t.selectedIndex?0===t.selectedIndex?(e(t.suggestionsContainer).children().first().removeClass(t.classes.selected),t.selectedIndex=-1,t.el.val(t.currentValue),void t.findBestHint()):void t.adjustScroll(t.selectedIndex-1):void 0},moveDown:function(){var e=this;e.selectedIndex!==e.suggestions.length-1&&e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(t){var n,i,a,r=this,o=r.activate(t),s=25;o&&(n=o.offsetTop,i=e(r.suggestionsContainer).scrollTop(),a=i+r.options.maxHeight-s,i>n?e(r.suggestionsContainer).scrollTop(n):n>a&&e(r.suggestionsContainer).scrollTop(n-r.options.maxHeight+s),r.el.val(r.getValue(r.suggestions[t].value)),r.signalHint(null))},onSelect:function(t){var n=this,i=n.options.onSelect,a=n.suggestions[t];n.currentValue=n.getValue(a.value),n.currentValue!==n.el.val()&&n.el.val(n.currentValue),n.signalHint(null),n.suggestions=[],n.selection=a,e.isFunction(i)&&i.call(n.element,a)},getValue:function(e){var t,n,i=this,a=i.options.delimiter;return a?(t=i.currentValue,n=t.split(a),1===n.length?e:t.substr(0,t.length-n[n.length-1].length)+e):e},dispose:function(){var t=this;t.el.off(".autoComplete").removeData("autoComplete"),t.disableKillerFn(),e(window).off("resize.autoComplete",t.fixPositionCapture),e(t.suggestionsContainer).remove()}},e.fn.autoComplete=function(n,i){var a="autoComplete";return 0===arguments.length?this.first().data(a):this.each(function(){var r=e(this),o=r.data(a);"string"==typeof n?o&&"function"==typeof o[n]&&o[n](i):(o&&o.dispose&&o.dispose(),o=new t(this,n),r.data(a,o))})}}),!function(e){return e.fn.boxfit=function(t){var n,i,a,r,o,s,l,c;if(0===this.length)return e(this);if(l={step_size:1,step_limit:200,align_middle:!0,align_center:!0,multiline:!1,minimum_font_size:5,maximum_font_size:null},e.extend(l,t),l.multiline||e(this).css("white-space","nowrap"),o=e(this).html(),e(this).html(""),l.width?(s=l.width,e(this).width(s+"px")):s=e(this).width(),l.height?(r=l.height,e(this).height(r+"px")):r=e(this).height(),void 0!==l.maxFontSize&&(l.maxFont=!0),s&&r){0===e("<div>"+o+"</div>").find("span.boxfitted").length?(c=e(e("<span></span>").addClass("boxfitted").html(o)),e(this).html(c)):(e(this).html(o),c=e(e(o).find("span.boxfitted")[0])),n=0,i=c,e(this).css("display","table"),i.css("display","table-cell"),l.align_middle&&i.css("vertical-align","middle"),l.align_center&&(e(this).css("text-align","center"),i.css("text-align","center")),i.css("font-size",l.minimum_font_size);for(var a=l.minimum_font_size;e(this).width()<=s&&e(this).height()<=r&&!(n++>l.step_limit)&&!(l.maximum_font_size&&a>l.maximum_font_size);)i.css("font-size",++a);return i.css("font-size",--a),e(this)}return null!=window.console&&console.info("Set static height/width on target DIV before using boxfit! Detected width: '"+s+"'; height:' "+r+"'"),e(this).html(o)}}(jQuery),define("libs/jquery-plugins/jquery.boxfit",function(){}),!function(e,t,n,i,a){var r=e("<div>")[0],o=/url\(["']?(.*?)["']?\)/,s=[],l={top:0,left:0,bottom:1,right:1,center:.5};if(!("backgroundSize"in r.style)||e.debugBGS){e.cssHooks.backgroundSize={set:function(t,n){var i,a,r,o=!e.data(t,"bgsImg");e.data(t,"bgsValue",n),o?(s.push(t),e.refreshBackgroundDimensions(t,!0),a=e("<div>").css({position:"absolute",zIndex:-1,top:0,right:0,left:0,bottom:0,overflow:"hidden"}),r=e("<img>").css({position:"absolute"}).appendTo(a),a.prependTo(t),e.data(t,"bgsImg",r[0]),i=(e.css(t,"backgroundPosition")||e.css(t,"backgroundPositionX")+" "+e.css(t,"backgroundPositionY")).split(" "),e.data(t,"bgsPos",[l[i[0]]||parseFloat(i[0])/100,l[i[1]]||parseFloat(i[1])/100]),"auto"==e.css(t,"zIndex")&&(t.style.zIndex=0),"static"==e.css(t,"position")&&(t.style.position="relative"),e.refreshBackgroundImage(t)):e.refreshBackground(t)},get:function(t){return e.data(t,"bgsValue")||""}},e.cssHooks.backgroundImage={set:function(t,n){return e.data(t,"bgsImg")?e.refreshBackgroundImage(t,n):n}},e.refreshBackgroundDimensions=function(t,n){var i=e(t),a={width:i.innerWidth(),height:i.innerHeight()},r=e.data(t,"bgsDim"),o=!r||a.width!=r.width||a.height!=r.height;e.data(t,"bgsDim",a),o&&!n&&e.refreshBackground(t)},e.refreshBackgroundImage=function(t,n){var i=e.data(t,"bgsImg"),a=(o.exec(n||e.css(t,"backgroundImage"))||[])[1],r=i&&i.src,s=a!=r;s&&(i.style.height=i.style.width="auto",i.onload=function(){var n={width:i.width,height:i.height};(1!=n.width||1!=n.height)&&(e.data(t,"bgsImgDim",n),e.data(t,"bgsConstrain",!1),e.refreshBackground(t),i.style.visibility="visible",i.onload=null)},i.style.visibility="hidden",i.src=a,(i.readyState||i.complete)&&(i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",i.src=a),t.style.backgroundImage="none")},e.refreshBackground=function(t){var n,a,r=e.data(t,"bgsValue"),o=e.data(t,"bgsDim"),s=e.data(t,"bgsImgDim"),l=e(e.data(t,"bgsImg")),c=e.data(t,"bgsPos"),u=e.data(t,"bgsConstrain"),d=o.width/o.height,p=s.width/s.height;"contain"==r?p>d?(e.data(t,"bgsConstrain",n="width"),a=i.floor((o.height-o.width/p)*c[1]),l.css({top:a}),n!=u&&l.css({width:"100%",height:"auto",left:0})):(e.data(t,"bgsConstrain",n="height"),a=i.floor((o.width-o.height*p)*c[0]),l.css({left:a}),n!=u&&l.css({height:"100%",width:"auto",top:0})):"cover"==r&&(p>d?(e.data(t,"bgsConstrain",n="height"),a=i.floor((o.height*p-o.width)*c[0]),l.css({left:-a}),n!=u&&l.css({height:"100%",width:"auto",top:0})):(e.data(t,"bgsConstrain",n="width"),a=i.floor((o.width/p-o.height)*c[1]),l.css({top:-a}),n!=u&&l.css({width:"100%",height:"auto",left:0})))};var c,u,d,p=e.event,f={_:0},h=0;c=p.special.throttledresize={setup:function(){e(this).on("resize",c.handler)},teardown:function(){e(this).off("resize",c.handler)},handler:function(t,n){var i=this,a=arguments;u=!0,d||(e(f).animate(f,{duration:1/0,step:function(){h++,(h>c.threshold&&u||n)&&(t.type="throttledresize",p.dispatch.apply(i,a),u=!1,h=0),h>9&&(e(f).stop(),d=!1,h=0)}}),d=!0)},threshold:1},e(t).on("throttledresize",function(){e(s).each(function(){e.refreshBackgroundDimensions(this)})})}}(jQuery,window,document,Math),define("libs/jquery-plugins/jquery.backgroundSize",["jquery"],function(){});var DateFormat={};!function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],a={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[Z\-+]?(\d{2}:?\d{2})?/;e.format=function(){function e(e){return t[parseInt(e,10)]||e}function o(e){var t=parseInt(e,10)-1;return n[t]||e}function s(e){var t=parseInt(e,10)-1;return i[t]||e}function l(e){return a[e]||e}function c(e){var t,n,i,a,r,o=e,s="";return-1!==o.indexOf(".")&&(a=o.split("."),o=a[0],s=a[1]),r=o.split(":"),3===r.length?(t=r[0],n=r[1],i=r[2].replace(/\s.+/,"").replace(/[a-z]/gi,""),o=o.replace(/\s.+/,"").replace(/[a-z]/gi,""),{time:o,hour:t,minute:n,second:i,millis:s}):{time:"",hour:"",minute:"",second:"",millis:""}}function u(e,t){for(var n=t-String(e).length,i=0;n>i;i++)e="0"+e;return e}return{parseDate:function(e){var t={date:null,year:null,month:null,dayOfMonth:null,dayOfWeek:null,time:null};if("number"==typeof e)return this.parseDate(new Date(e));if("function"==typeof e.getFullYear)t.year=String(e.getFullYear()),t.month=String(e.getMonth()+1),t.dayOfMonth=String(e.getDate()),t.time=c(e.toTimeString());else if(-1!=e.search(r))values=e.split(/[T\+-]/),t.year=values[0],t.month=values[1],t.dayOfMonth=values[2],t.time=c(values[3].split(".")[0]);else switch(values=e.split(" "),values.length){case 6:t.year=values[5],t.month=l(values[1]),t.dayOfMonth=values[2],t.time=c(values[3]);break;case 2:subValues=values[0].split("-"),t.year=subValues[0],t.month=subValues[1],t.dayOfMonth=subValues[2],t.time=c(values[1]);break;case 7:case 9:case 10:t.year=values[3],t.month=l(values[1]),t.dayOfMonth=values[2],t.time=c(values[4]);break;case 1:subValues=values[0].split(""),t.year=subValues[0]+subValues[1]+subValues[2]+subValues[3],t.month=subValues[5]+subValues[6],t.dayOfMonth=subValues[8]+subValues[9],t.time=c(subValues[13]+subValues[14]+subValues[15]+subValues[16]+subValues[17]+subValues[18]+subValues[19]+subValues[20]);break;default:return null}return t.date=new Date(t.year,t.month-1,t.dayOfMonth),t.dayOfWeek=String(t.date.getDay()),t},date:function(t,n){try{var i=this.parseDate(t);if(null===i)return t;for(var a=(i.date,i.year),r=i.month,l=i.dayOfMonth,c=i.dayOfWeek,d=i.time,p="",f="",h="",m=!1,b=0;b<n.length;b++){var g=n.charAt(b),v=n.charAt(b+1);if(m)"'"==g?(f+=""===p?"'":p,p="",m=!1):p+=g;else switch(p+=g,h="",p){case"ddd":f+=e(c),p="";break;case"dd":if("d"===v)break;f+=u(l,2),p="";break;case"d":if("d"===v)break;f+=parseInt(l,10),p="";break;case"D":l=1==l||21==l||31==l?parseInt(l,10)+"st":2==l||22==l?parseInt(l,10)+"nd":3==l||23==l?parseInt(l,10)+"rd":parseInt(l,10)+"th",f+=l,p="";break;case"MMMM":f+=s(r),p="";break;case"MMM":if("M"===v)break;f+=o(r),p="";break;case"MM":if("M"===v)break;f+=u(r,2),p="";break;case"M":if("M"===v)break;f+=parseInt(r,10),p="";break;case"y":case"yyy":if("y"===v)break;f+=p,p="";break;case"yy":if("y"===v)break;f+=String(a).slice(-2),p="";break;case"yyyy":f+=a,p="";break;case"HH":f+=u(d.hour,2),p="";break;case"H":if("H"===v)break;f+=parseInt(d.hour,10),p="";break;case"hh":hour=0===parseInt(d.hour,10)?12:d.hour<13?d.hour:d.hour-12,f+=u(hour,2),p="";break;case"h":if("h"===v)break;hour=0===parseInt(d.hour,10)?12:d.hour<13?d.hour:d.hour-12,f+=parseInt(hour,10),p="";break;case"mm":f+=u(d.minute,2),p="";break;case"m":if("m"===v)break;f+=d.minute,p="";break;case"ss":f+=u(d.second.substring(0,2),2),p="";break;case"s":if("s"===v)break;f+=d.second,p="";break;case"S":case"SS":if("S"===v)break;f+=p,p="";break;case"SSS":f+=d.millis.substring(0,3),p="";break;case"a":f+=d.hour>=12?"PM":"AM",p="";break;case"p":f+=d.hour>=12?"p.m.":"a.m.",p="";break;case"'":p="",m=!0;break;default:f+=g,p=""}}return f+=h}catch(y){return console&&console.log&&console.log(y),t}},prettyDate:function(e){var t,n,i;return("string"==typeof e||"number"==typeof e)&&(t=new Date(e)),"object"==typeof e&&(t=new Date(e.toString())),n=((new Date).getTime()-t.getTime())/1e3,i=Math.floor(n/86400),isNaN(i)||0>i?void 0:60>n?"just now":120>n?"1 minute ago":3600>n?Math.floor(n/60)+" minutes ago":7200>n?"1 hour ago":86400>n?Math.floor(n/3600)+" hours ago":1===i?"Yesterday":7>i?i+" days ago":31>i?Math.ceil(i/7)+" weeks ago":i>=31?"more than 5 weeks ago":void 0},toBrowserTimeZone:function(e,t){return this.date(new Date(e),t||"MM/dd/yyyy HH:mm:ss")}}}()}(DateFormat),function(e){e.format=DateFormat.format}(jQuery),define("libs/jquery-plugins/jquery.dateformat",function(){}),!function(e,t,n,i){function a(e,t){return e[t]===i?y[t]:e[t]}function r(){var e=t.pageYOffset;return e===i?g.scrollTop:e}function o(e,t){var n=y["on"+e];n&&(k(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),u()}function s(t){o(t.type,e(this).off(m,s))}function l(n){if(T.length){n=n||y.forceLoad,j=1/0;var i,a,l=r(),c=t.innerHeight||g.clientHeight,u=t.innerWidth||g.clientWidth;for(i=0,a=T.length;a>i;i++){var d,p=T[i],h=p[0],b=p[f],v=!1,_=n;if(C(g,h)){if(n||!b.visibleOnly||h.offsetWidth||h.offsetHeight){if(!_){var w=h.getBoundingClientRect(),x=b.edgeX,S=b.edgeY;d=w.top+l-S-c,_=l>=d&&w.bottom>-S&&w.left<=u+x&&w.right>-x}if(_){o("show",p);var A=b.srcAttr,E=k(A)?A(p):h.getAttribute(A);E&&(p.on(m,s),h.src=E),v=!0}else j>d&&(j=d)}}else v=!0;v&&(T.splice(i--,1),a--)}a||o("complete",e(g))}}function c(){A>1?(A=1,l(),setTimeout(c,y.throttle)):A=0}function u(e){T.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&j>=r()||(A||setTimeout(c,0),A=2))}function d(){w.lazyLoadXT()}function p(){l(!0)}var f="lazyLoadXT",h="lazied",m="load error",b="lazy-hidden",g=n.documentElement||n.body,v=t.onscroll===i||!!t.operamini||!g.getBoundingClientRect,y={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:v,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:b},onload:{removeClass:b,addClass:"lazy-loaded"},onerror:{removeClass:b},checkDuplicates:!0},_={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},w=e(t),k=e.isFunction,x=e.extend,S=e.data||function(t,n){return e(t).data(n)},C=e.contains||function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},T=[],j=0,A=0;e[f]=x(y,_,e[f]),e.fn[f]=function(n){n=n||{};var i,r=a(n,"blankImage"),s=a(n,"checkDuplicates"),l=a(n,"scrollContainer"),c={};e(l).on("scroll",u);for(i in _)c[i]=a(n,i);return this.each(function(i,a){if(a===t)e(y.selector).lazyLoadXT(n);else{if(s&&S(a,h))return;var l=e(a).data(h,1);r&&"IMG"===a.tagName&&!a.src&&(a.src=r),l[f]=x({},c),o("init",l),T.push(l)}})},e(n).ready(function(){o("start",w),w.on(y.loadEvent,d).on(y.updateEvent,u).on(y.forceEvent,p),e(n).on(y.updateEvent,u),y.autoInit&&d()})}(window.jQuery||window.Zepto||window.$,window,document),define("libs/jquery-plugins/jquery.lazyloadxt",function(){}),!function(e,t,n,i){function a(e,t){return e[t]===i?y[t]:e[t]}function r(){var e=t.pageYOffset;return e===i?g.scrollTop:e}function o(e,t){var n=y["on"+e];n&&(k(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),u()}function s(t){o(t.type,e(this).off(m,s))}function l(n){if(T.length){n=n||y.forceLoad,j=1/0;var i,a,l=r(),c=t.innerHeight||g.clientHeight,u=t.innerWidth||g.clientWidth;for(i=0,a=T.length;a>i;i++){var d,p=T[i],h=p[0],b=p[f],v=!1,_=n;if(C(g,h)){if(n||!b.visibleOnly||h.offsetWidth||h.offsetHeight){if(!_){var w=h.getBoundingClientRect(),x=b.edgeX,S=b.edgeY;d=w.top+l-S-c,_=l>=d&&w.bottom>-S&&w.left<=u+x&&w.right>-x}if(_){o("show",p);var A=b.srcAttr,E=k(A)?A(p):h.getAttribute(A);E&&(p.on(m,s),h.src=E),v=!0}else j>d&&(j=d)}}else v=!0;v&&(T.splice(i--,1),a--)}a||o("complete",e(g))}}function c(){A>1?(A=1,l(),setTimeout(c,y.throttle)):A=0}function u(e){T.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&j>=r()||(A||setTimeout(c,0),A=2))}function d(){w.lazyLoadXT()}function p(){l(!0)}var f="lazyLoadXT",h="lazied",m="load error",b="lazy-hidden",g=n.documentElement||n.body,v=t.onscroll===i||!!t.operamini||!g.getBoundingClientRect,y={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:v,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:b},onload:{removeClass:b,addClass:"lazy-loaded"},onerror:{removeClass:b},checkDuplicates:!0},_={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},w=e(t),k=e.isFunction,x=e.extend,S=e.data||function(t,n){return e(t).data(n)},C=e.contains||function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},T=[],j=0,A=0;e[f]=x(y,_,e[f]),e.fn[f]=function(n){n=n||{};var i,r=a(n,"blankImage"),s=a(n,"checkDuplicates"),l=a(n,"scrollContainer"),c={};e(l).on("scroll",u);for(i in _)c[i]=a(n,i);return this.each(function(i,a){if(a===t)e(y.selector).lazyLoadXT(n);else{if(s&&S(a,h))return;var l=e(a).data(h,1);r&&"IMG"===a.tagName&&!a.src&&(a.src=r),l[f]=x({},c),o("init",l),T.push(l)}})},e(n).ready(function(){o("start",w),w.on(y.loadEvent,d).on(y.updateEvent,u).on(y.forceEvent,p),e(n).on(y.updateEvent,u),y.autoInit&&d()})}(window.jQuery||window.Zepto||window.$,window,document),function(e){var t=e.lazyLoadXT;t.selector+=",video,iframe[data-src]",t.videoPoster="data-poster",e(document).on("lazyshow","video",function(n,i){var a=i.lazyLoadXT.srcAttr,r=e.isFunction(a);i.attr("poster",i.attr(t.videoPoster)).children("source,track").each(function(t,n){var i=e(n);i.attr("src",r?a(i):i.attr(a))}),this.load()})}(window.jQuery||window.Zepto||window.$),define("libs/jquery-plugins/jquery.lazyloadxt.extra",function(){}),!function(e){var t=e.lazyLoadXT,n=t.bgAttr||"data-bg";t.selector+=",["+n+"]",e(document).on("lazyshow",function(t){var i=e(t.target);i.attr(n)&&i.css("background-image","url('"+i.attr(n)+"')").removeAttr(n)})}(window.jQuery||window.Zepto||window.$),define("libs/jquery-plugins/jquery.lazyloadxt.bg",function(){}),!function(e){var t=e.lazyLoadXT,n=t.widgetAttr||"data-lazy-widget",i=/<!--([\s\S]*)-->/;t.selector+=",["+n+"]",e(document).on("lazyshow","["+n+"]",function(){var t,a=e(this),r=a.attr(n);r&&(a=e("#"+r)),a.length&&(t=i.exec(a.html()),t&&a.replaceWith(e.trim(t[1])))})}(window.jQuery||window.Zepto||window.$),define("libs/jquery-plugins/jquery.lazyloadxt.widget",function(){}),!function(e){e.fn.visible=function(t,n,i){"undefined"==typeof i&&(i=1);var a=e(this).eq(0),r=a.get(0),o=e(window),s=o.scrollTop(),l=s+o.height(),c=a.size()?a.offset().top:0,u=c+a.height()*i,d=t===!0?u:c,p=t===!0&&1===i?c:u,f=n===!0?r.offsetWidth*r.offsetHeight:!0;return!!f&&l>=p&&d>=s&&!!a.height()}}(jQuery),define("libs/jquery-plugins/jquery.visible",function(){}),!function(e,t){"$:nomunge";var n,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=n=function(e,n,a,r){function o(){function i(){l=+new Date,a.apply(c,d)}function o(){s=t}var c=this,u=+new Date-l,d=arguments;r&&!s&&i(),s&&clearTimeout(s),r===t&&u>e?i():n!==!0&&(s=setTimeout(r?o:i,r===t?e-u:e))}var s,l=0;return"boolean"!=typeof n&&(r=a,a=n,n=t),i.guid&&(o.guid=a.guid=a.guid||i.guid++),o},i.debounce=function(e,i,a){return a===t?n(e,i,!1):n(e,a,i!==!1)}}(this),define("libs/jquery-plugins/jquery.ba-throttle-debounce",["jquery"],function(){}),requirejs(["jquery","myslate"],function(e,t){var n=function(n,i,a){var r={};r.app=i,r.appdata=JSON.stringify({event:n,module:a.module,id:a.id});var o={type:"GET",dataType:"jsonp",url:t.myslateUrl+"recommendations/events",cache:!1,data:r};return e.ajax(o)};e.fn.track=function(){var t=[],i=e(this);return i.data("track-module"),!i.hasClass("tracked")&&i.is(":visible")&&i.addClass("tracked").find("[data-track]").each(function(a,r){var o,s=e(r);if(!i.data("omit-views"))try{o=e.parseJSON(r.attr("data-track")),t.push(o)}catch(l){return}s.on("click",function(t){var i=s.attr("target");if(1!=t.metaKey&&1!=t.ctrlKey&&"_blank"!=i&&2!=t.which&&3!=t.which&&t.preventDefault(),n("Click","SGCTR",e.parseJSON(s.attr("data-track"))),1!=t.metaKey&&1!=t.ctrlKey&&"_blank"!=i&&2!=t.which&&3!=t.which){var a=s.attr("href");""!=a&&setTimeout('document.location = "'+a+'"',100)}})}),t.length>0&&n("View","SGCTR",t),this}}),define("libs/jquery-plugins/jquery.ctr",function(){}),define("externalservices",["jquery","config","libs/jquery-plugins/jquery.cookie","libs/jquery-plugins/jquery.ctr"],function(e,t,n,i){"https:"!==window.location.protocol&&(window._vrq=window._vrq||[],_vrq.push(["id",119]),_vrq.push(["automate",!0]),_vrq.push(["track",function(){}]),function(e,t){var n=e.createElement(t),i=e.getElementsByTagName(t)[0];n.async=!0,n.src="http://a.visualrevenue.com/vrs.js",i.parentNode.insertBefore(n,i)}(document,"script")),e(document).ready(function(){e("a[href^='http']:not([href*='slate.com'])").each(function(){var t=null!==this.getAttribute("class")&&this.getAttribute("class").indexOf("sl-img-no-new-tab")>-1;-1!=this.href.indexOf("doubleclick.net")||t||($this=e(this),$this.has("target")&&void 0!==$this.attr("target")||$this.attr("target","_blank"))})})}),requirejs(["jquery","s_code","logEvent","libs/jquery-plugins/jquery.ctr"],function(e,t,n,i,a){var r=e(document),o=function(){FB.Event.subscribe("edge.create",function(e){n("Like","SGLOG",{url:e}),t.trackSocialShare("facebook-like","event6")})};window.fbLoaded?o():r.bind("wapoFbAsyncInit",o),r.ready(function(){0===e('link[rel="canonical"]').size()||document.location.pathname.match(/\.[0-9]+\.html$/)||(e('link[rel="canonical"]').attr("href"),document.referrer,e(".facebook").on("click",function(){t.trackSocialShare("facebook-share","event6")}),e("a.twitter").on("click",function(){t.trackSocialShare("twitter-tweet","event6")}),e("#nav_sections").on("click","a.facebook",function(){t.trackSocialShare("facebook-page","event6")}),e("#nav_sections").on("click","a.twitter",function(){t.trackSocialShare("twitter-page","event6")}),e(".sl-email-share").on("click",function(){t.trackSocialShare("email-share","event6")}),e(".comments").on("click",function(){t.trackCommentOpen("comment-open","event4")}),r.bind("cut copy",function(){t.trackCopyShare(t.prop2,"event61")}))})}),define("eventtracking",function(){}),define("util",["jquery"],function(e){var t={getQueryStringParams:function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var a=n[i].split("=");if(a[0]==e)return a[1]}return""}};return t}),define("shared/extend",[],function(){return function(e){return function(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}}}),define("shared/libs/lz-string",[],function(){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(t){if(null==t)return"";var n,i,a,r,o,s,l,c="",u=0;for(t=e.compress(t);u<2*t.length;)u%2==0?(n=t.charCodeAt(u/2)>>8,i=255&t.charCodeAt(u/2),a=u/2+1<t.length?t.charCodeAt(u/2+1)>>8:NaN):(n=255&t.charCodeAt((u-1)/2),(u+1)/2<t.length?(i=t.charCodeAt((u+1)/2)>>8,a=255&t.charCodeAt((u+1)/2)):i=a=NaN),u+=3,r=n>>2,o=(3&n)<<4|i>>4,s=(15&i)<<2|a>>6,l=63&a,isNaN(i)?s=l=64:isNaN(a)&&(l=64),c=c+e._keyStr.charAt(r)+e._keyStr.charAt(o)+e._keyStr.charAt(s)+e._keyStr.charAt(l);return c},decompressFromBase64:function(t){if(null==t)return"";var n,i,a,r,o,s,l,c,u="",d=0,p=0,f=e._f;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<t.length;)o=e._keyStr.indexOf(t.charAt(p++)),s=e._keyStr.indexOf(t.charAt(p++)),l=e._keyStr.indexOf(t.charAt(p++)),c=e._keyStr.indexOf(t.charAt(p++)),i=o<<2|s>>4,a=(15&s)<<4|l>>2,r=(3&l)<<6|c,d%2==0?(n=i<<8,64!=l&&(u+=f(n|a)),64!=c&&(n=r<<8)):(u+=f(n|i),64!=l&&(n=a<<8),64!=c&&(u+=f(n|r))),d+=3;return e.decompress(u)},compressToUTF16:function(t){if(null==t)return"";var n,i,a,r="",o=0,s=e._f;for(t=e.compress(t),n=0;n<t.length;n++)switch(i=t.charCodeAt(n),o++){case 0:r+=s((i>>1)+32),a=(1&i)<<14;break;case 1:r+=s(a+(i>>2)+32),a=(3&i)<<13;break;case 2:r+=s(a+(i>>3)+32),a=(7&i)<<12;break;case 3:r+=s(a+(i>>4)+32),a=(15&i)<<11;break;case 4:r+=s(a+(i>>5)+32),a=(31&i)<<10;break;case 5:r+=s(a+(i>>6)+32),a=(63&i)<<9;break;case 6:r+=s(a+(i>>7)+32),a=(127&i)<<8;break;case 7:r+=s(a+(i>>8)+32),a=(255&i)<<7;break;case 8:r+=s(a+(i>>9)+32),a=(511&i)<<6;break;case 9:r+=s(a+(i>>10)+32),a=(1023&i)<<5;break;case 10:r+=s(a+(i>>11)+32),a=(2047&i)<<4;break;case 11:r+=s(a+(i>>12)+32),a=(4095&i)<<3;break;case 12:r+=s(a+(i>>13)+32),a=(8191&i)<<2;break;case 13:r+=s(a+(i>>14)+32),a=(16383&i)<<1;break;case 14:r+=s(a+(i>>15)+32,(32767&i)+32),o=0}return r+s(a+32)},decompressFromUTF16:function(t){if(null==t)return"";for(var n,i,a="",r=0,o=0,s=e._f;o<t.length;){switch(i=t.charCodeAt(o)-32,r++){case 0:n=i<<1;break;case 1:a+=s(n|i>>14),n=(16383&i)<<2;break;case 2:a+=s(n|i>>13),n=(8191&i)<<3;break;case 3:a+=s(n|i>>12),n=(4095&i)<<4;break;case 4:a+=s(n|i>>11),n=(2047&i)<<5;break;case 5:a+=s(n|i>>10),n=(1023&i)<<6;break;case 6:a+=s(n|i>>9),n=(511&i)<<7;break;case 7:a+=s(n|i>>8),n=(255&i)<<8;break;case 8:a+=s(n|i>>7),n=(127&i)<<9;break;case 9:a+=s(n|i>>6),n=(63&i)<<10;break;case 10:a+=s(n|i>>5),n=(31&i)<<11;break;case 11:a+=s(n|i>>4),n=(15&i)<<12;break;case 12:a+=s(n|i>>3),n=(7&i)<<13;break;case 13:a+=s(n|i>>2),n=(3&i)<<14;break;case 14:a+=s(n|i>>1),n=(1&i)<<15;break;case 15:a+=s(n|i),r=0}o++}return e.decompress(a)},compress:function(t){if(null==t)return"";var n,i,a,r={},o={},s="",l="",c="",u=2,d=3,p=2,f="",h=0,m=0,b=e._f;for(a=0;a<t.length;a+=1)if(s=t.charAt(a),Object.prototype.hasOwnProperty.call(r,s)||(r[s]=d++,o[s]=!0),l=c+s,Object.prototype.hasOwnProperty.call(r,l))c=l;else{if(Object.prototype.hasOwnProperty.call(o,c)){if(c.charCodeAt(0)<256){for(n=0;p>n;n++)h<<=1,15==m?(m=0,f+=b(h),h=0):m++;for(i=c.charCodeAt(0),n=0;8>n;n++)h=h<<1|1&i,15==m?(m=0,f+=b(h),h=0):m++,i>>=1}else{for(i=1,n=0;p>n;n++)h=h<<1|i,15==m?(m=0,f+=b(h),h=0):m++,i=0;for(i=c.charCodeAt(0),n=0;16>n;n++)h=h<<1|1&i,15==m?(m=0,f+=b(h),h=0):m++,i>>=1}u--,0==u&&(u=Math.pow(2,p),p++),delete o[c]}else for(i=r[c],n=0;p>n;n++)h=h<<1|1&i,15==m?(m=0,f+=b(h),h=0):m++,i>>=1;u--,0==u&&(u=Math.pow(2,p),p++),r[l]=d++,c=String(s)}if(""!==c){if(Object.prototype.hasOwnProperty.call(o,c)){if(c.charCodeAt(0)<256){for(n=0;p>n;n++)h<<=1,15==m?(m=0,f+=b(h),h=0):m++;for(i=c.charCodeAt(0),n=0;8>n;n++)h=h<<1|1&i,15==m?(m=0,f+=b(h),h=0):m++,i>>=1}else{for(i=1,n=0;p>n;n++)h=h<<1|i,15==m?(m=0,f+=b(h),h=0):m++,i=0;for(i=c.charCodeAt(0),n=0;16>n;n++)h=h<<1|1&i,15==m?(m=0,f+=b(h),h=0):m++,i>>=1}u--,0==u&&(u=Math.pow(2,p),p++),delete o[c]}else for(i=r[c],n=0;p>n;n++)h=h<<1|1&i,
15==m?(m=0,f+=b(h),h=0):m++,i>>=1;u--,0==u&&(u=Math.pow(2,p),p++)}for(i=2,n=0;p>n;n++)h=h<<1|1&i,15==m?(m=0,f+=b(h),h=0):m++,i>>=1;for(;;){if(h<<=1,15==m){f+=b(h);break}m++}return f},decompress:function(t){if(null==t)return"";if(""==t)return null;var n,i,a,r,o,s,l,c,u=[],d=4,p=4,f=3,h="",m="",b=e._f,g={string:t,val:t.charCodeAt(0),position:32768,index:1};for(i=0;3>i;i+=1)u[i]=i;for(r=0,s=Math.pow(2,2),l=1;l!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*l,l<<=1;switch(n=r){case 0:for(r=0,s=Math.pow(2,8),l=1;l!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*l,l<<=1;c=b(r);break;case 1:for(r=0,s=Math.pow(2,16),l=1;l!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*l,l<<=1;c=b(r);break;case 2:return""}for(u[3]=c,a=m=c;;){if(g.index>g.string.length)return"";for(r=0,s=Math.pow(2,f),l=1;l!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*l,l<<=1;switch(c=r){case 0:for(r=0,s=Math.pow(2,8),l=1;l!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*l,l<<=1;u[p++]=b(r),c=p-1,d--;break;case 1:for(r=0,s=Math.pow(2,16),l=1;l!=s;)o=g.val&g.position,g.position>>=1,0==g.position&&(g.position=32768,g.val=g.string.charCodeAt(g.index++)),r|=(o>0?1:0)*l,l<<=1;u[p++]=b(r),c=p-1,d--;break;case 2:return m}if(0==d&&(d=Math.pow(2,f),f++),u[c])h=u[c];else{if(c!==p)return null;h=a+a.charAt(0)}m+=h,u[p++]=a+h.charAt(0),d--,a=h,0==d&&(d=Math.pow(2,f),f++)}}};return e}),define("shared/campaignManager",["config","modernizr","jquery","libs/jquery-plugins/jquery.cookie","templates","shared/extend","shared/libs/lz-string","optimizely"],function(e,t,n,i,a,r,o,s){var l="campaigns-002",c="interstitial_data",u={},d=!1,p={},f={records:{},count:0},h=null,m=!1,b=!1,g=!1,v=null,y={id:"default",template_id:"default",after:function(){},deps:[],priority:0,data:{},target:n("body"),initialDelay:1,frequency:10,resurrection:0,completeOnClose:!1,dismissOnClose:!0,dismissOnAdCollision:!1,skipOnAdCollision:!0,render:function(e){n(e.target).prepend('<div id="campaign-'+e.template_id+'">'+e.template(e.data)+"</div>")},complete:function(){var e=f.records[this.id];"object"!=typeof e&&(e={}),"undefined"!=typeof e.completed&&e.completed||(e.completed=!0,f.records[this.id]=e,u.record())},dismiss:function(){var e=f.records[this.id];"object"!=typeof e&&(e={}),"undefined"!=typeof e.dismissed&&e.dismissed||(e.dismissed=!0,f.records[this.id]=e,u.record())},uncomplete:function(){var e=f.records[this.id];"undefined"!=typeof e&&"undefined"!=typeof e.completed&&e.completed&&(e.completed=!1,f.records[this.id]=e,u.record())},undismiss:function(){var e=f.records[this.id];"undefined"!=typeof e&&"undefined"!=typeof e.dismissed&&e.dismissed&&(e.dismissed=!1,f.records[this.id]=e,u.record())},fire:function(){d=!0,h=this,this.render(this)}};u.getActiveCampaign=function(){return h},u.getPreviousUserState=function(){return v},u.getUser=function(){return f},u.lastCampaign=function(e){var t={key:null,value:0,completed:!1};return"undefined"==typeof e||null==e?n.each(f.records,function(e,n){(null==t.key||n.value>t.value)&&(t.key=e,t.value=n.value,t.completed="undefined"!=typeof n.completed&&n.completed?!0:!1)}):(t.key=e,"undefined"!=typeof f.records[e]?(t.value=f.records[e].value,t.completed=f.records[e].completed):(t.value=0,t.completed=!1)),t},u.execute=function(){var t=function(){if((m||b)&&("undefined"==typeof e.env.edit||0==e.env.edit)){n.each(p,function(e,t){t.resurrection>0&&(lastRun=u.lastCampaign(e),lastRun.value+t.resurrection<f.count&&t.undismiss())});var t={id:null,value:null};if(n.each(p,function(e,n){if("undefined"!=typeof f.records[n.id]){var i=f.records[n.id];i.completed||i.dismissed||!(null==t.value||i.value<t.value)||(t={id:n.id,value:i.value})}else t={id:n.id,value:0}}),e.log(t),null!=t.id){var i=p[t.id],a=u.lastCampaign(),r=function(){return"undefined"!=typeof a.key&&null!==a.key};(r()&&f.count>=a.value+i.frequency||!r()&&f.count>=i.initialDelay)&&(f.records[i.id]={value:f.count,completed:!1,dismissed:!1},i.fire())}f.count++,u.record()}};"undefined"==typeof optimizely?setTimeout(u.execute,200):t()},u.skip=function(){d?(f.records=v,u.record()):d=!0},u.set=function(t){"object"!=typeof t&&(t={}),"undefined"!=typeof t.mode&&(t=t.mode(t)),n.each(y,function(e,n){"undefined"==typeof t[e]&&(t[e]=n)});var i=t;return"undefined"!=typeof i.template_id&&(i.data._path="//"+e.campaigns.domain+"/campaigns/"+e.site.site+"/"+i.template_id),p[i.id]=i,i},u.record=function(){var t=c+"-version";f.data_version=l,b?(localStorage.setItem(c,o.compressToUTF16(JSON.stringify(f))),localStorage.setItem(t,l)):m&&(n.cookie(c,o.compressToUTF16(JSON.stringify(f)),{domain:e.myslate.site_base_domain,expires:7300,path:"/"}),n.cookie(t,l,{domain:e.myslate.site_base_domain,expires:7300,path:"/"}))},u.init=function(){if(!g){if(g=!0,n.cookie("probe",o.compressToUTF16(JSON.stringify({value:"landed"})),{path:"/"}),null!=n.cookie("probe")){var e=o.decompressFromUTF16(n.cookie("probe")),t=JSON.parse(e);"undefined"!=typeof t.value&&"landed"==t.value&&(m=!0)}if(Modernizr.localstorage&&(localStorage.setItem("probe",o.compressToUTF16(JSON.stringify({value:"landed"}))),""!=localStorage.getItem("probe"))){var e=o.decompressFromUTF16(localStorage.getItem("probe")),t=JSON.parse(e);"undefined"!=typeof t.value&&"landed"==t.value&&(b=!0)}var i=null,a=null,s=null;try{if(b&&(i=localStorage.getItem(c)),null!=i&&""!=i||!m||(i=n.cookie(c)),"undefined"==typeof i||void 0==i||null==i||""==i)throw"No stored data present. Default to blank user.";if(a=o.decompressFromUTF16(i),(""==a||null==a)&&(a=o.decompress(i)),null==a||""==a)throw"Could not decompress local user data: '"+i+"'";s=JSON.parse(a)}catch(l){(null==s||"object"!=typeof s)&&(s={records:{},count:0})}f=s,v=r({})(f.records),u.campaigns=p}};var _={};return _.overlay=r({template_id:"default",frequency:10,render:function(e){var t="default";"undefined"!=typeof e.template_id&&(t=e.template_id),requirejs(["jquery","shared/overlay","campaigns/"+t+"/templates"],function(n,i,a){var r=a[t],o={};"undefined"!=typeof e.options&&(o=n.extend(o,e.options));var s={id:e.id,content:r(e.data)},l="undefined"==typeof o.onClosed?function(){}:o.onClosed;s.onClosed=function(){e.completeOnClose&&e.complete(),e.dismissOnClose&&e.dismiss(),l()},n.extend(o,s),"undefined"!=typeof o.css&&(o.css={});var c={height:"auto",width:"100%","text-align":"center",background:"transparent",padding:"0px"};o.css=n.extend(c,o.css);var d=i.getOverlay(o);0==n("#interstitial_ad").length?(d.attach(),setTimeout(function(){d.show()},100),n(document).on("click",function(t){(-1!=t.target.className.indexOf("close-ad")||-1!=t.target.className.indexOf("ad-close"))&&(d.detach(),e.dismissOnAdCollision&&e.dismiss(),e.skipOnAdCollision&&u.skip())})):(e.dismissOnAdCollision&&e.dismiss(),e.skipOnAdCollision&&u.skip()),e.overlay=d})}}),_.colorbox=r({template_id:"default",completeOnClose:!0,frequency:10,render:function(e){var t="default";"undefined"!=typeof e.template_id&&(t=e.template_id),requirejs(["jquery","shared/libs/jquery-plugins/jquery.colorbox","campaigns/"+t+"/templates"],function(n,i,a){var r=a[t],o={height:"700px",width:"700px",opacity:.6};"undefined"!=typeof e.options&&(o=n.extend(o,e.options));var s={html:r(e.data)},l="undefined"==typeof o.onClosed?function(){}:o.onClosed;s.onClosed=function(){e.completeOnClose&&e.complete(),e.dismissOnClose&&e.dismiss(),l()},n.colorbox(n.extend(o,s))})}}),_.banner=r({frequency:7,render:function(e){var t="default";"undefined"!=typeof e.template_id&&(t=e.template_id),requirejs(["jquery","campaigns/"+t+"/templates"],function(n,i){var a=i[t];n("body").prepend("<div id='campaigns_banner' style='display: none'>"+a(e.data)+"</div>"),n("#foo_bar").css({padding:"20px"}).slideDown()})}}),u.modes=_,u.init(),u}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,a,r,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)o[n]=str(n,l)||"null";return a=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],a=str(i,l),a&&o.push(quote(i)+(gap?": ":":")+a));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(a=str(i,l),a&&o.push(quote(i)+(gap?": ":":")+a));return a=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,a=e[t];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=walk(a,n),void 0!==i?a[n]=i:delete a[n]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var n=e.History=e.History||{},i=e.jQuery;if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(e,t,n){i(e).bind(t,n)},trigger:function(e,t,n){i(e).trigger(t,n)},extractEventData:function(e,n,i){var a=n&&n.originalEvent&&n.originalEvent[e]||i&&i[e]||t;return a},onDomLoad:function(e){i(e)}},"undefined"!=typeof n.init&&n.init()}(window),function(e,t){"use strict";var n=e.document,i=e.setTimeout||i,a=e.clearTimeout||a,r=e.setInterval||r,o=e.History=e.History||{};if("undefined"!=typeof o.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){return"undefined"!=typeof o.initHtml4.initialized?!1:(o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t,n=o.getHashByIndex();return t=e===n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?o.savedHashes[o.savedHashes.length-1]:0>e?o.savedHashes[o.savedHashes.length+e]:o.savedHashes[e]},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var i,a=o.getHashByState(e);return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[a]=i,!0},o.discardHash=function(e,t,n){var i={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=i,!0},o.discardedState=function(e){var t,n=o.getHashByState(e);return t=o.discardedStates[n]||!1},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var t,i,a,s,l="",c=Boolean(o.getHash());return o.isInternetExplorer()?(t="historyjs-iframe",i=n.createElement("iframe"),i.setAttribute("id",t),i.setAttribute("src","#"),i.style.display="none",n.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),a="",s=!1,o.checkerFunction=function(){if(s)return!1;s=!0;var t=o.getHash(),n=o.getHash(i.contentWindow.document);return t!==l?(l=t,n!==t&&(a=n=t,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(t)),o.Adapter.trigger(e,"hashchange")):n!==a&&(a=n,c&&""===n?o.back():o.setHash(n,!1)),s=!1,!0}):o.checkerFunction=function(){var t=o.getHash()||"";return t!==l&&(l=t,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(r(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n,i=t&&t.newURL||o.getLocationHref(),a=o.getHashByUrl(i),r=null,s=null;return o.isLastHash(a)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(a),a&&o.isTraditionalAnchor(a)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(r=o.extractState(o.getFullUrl(a||o.getLocationHref()),!0),o.isLastSavedState(r)?(o.busy(!1),!1):(s=o.getHashByState(r),(n=o.discardedState(r))?(o.getHashByIndex(-2)===o.getHashByState(n.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(r.data,r.title,encodeURI(r.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,i,a){if(i=encodeURI(i).replace(/%25/g,"%"),o.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:a}),!1;o.busy(!0);var r=o.createStateObject(t,n,i),s=o.getHashByState(r),l=o.getState(!1),c=o.getHashByState(l),u=o.getHash(),d=o.expectedStateId==r.id;return o.storeState(r),o.expectedStateId=r.id,o.recycleState(r),o.setTitle(r),s===c?(o.busy(!1),!1):(o.saveState(r),d||o.Adapter.trigger(e,"statechange"),o.isHashEqual(s,u)||o.isHashEqual(s,o.getShortUrl(o.getLocationHref()))||o.setHash(s,!1),o.busy(!1),!0)},o.replaceState=function(t,n,i,a){if(i=encodeURI(i).replace(/%25/g,"%"),o.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(a!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:a}),!1;o.busy(!0);var r=o.createStateObject(t,n,i),s=o.getHashByState(r),l=o.getState(!1),c=o.getHashByState(l),u=o.getStateByIndex(-2);return o.discardState(l,r,u),s===c?(o.storeState(r),o.expectedStateId=r.id,o.recycleState(r),o.setTitle(r),o.saveState(r),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(r.data,r.title,r.url,!1),!0}),void(o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")})))},"undefined"!=typeof o.init&&o.init()}(window),function(e,t){"use strict";var n=e.console||t,i=e.document,a=e.navigator,r=!1,o=e.setTimeout,s=e.clearTimeout,l=e.setInterval,c=e.clearInterval,u=e.JSON,d=e.alert,p=e.History=e.History||{},f=e.history;try{r=e.sessionStorage,r.setItem("TEST","1"),r.removeItem("TEST")}catch(h){r=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(e){return"undefined"==typeof p.Adapter?!1:("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(h){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||i.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)c(t[e]);p.intervalList=null}},p.debug=function(){p.options.debug&&p.log.apply(p,arguments)},p.log=function(){var e,t,a,r,o,s=!("undefined"==typeof n||"undefined"==typeof n.log||"undefined"==typeof n.log.apply),l=i.getElementById("log");for(s?(r=Array.prototype.slice.call(arguments),e=r.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[e,r]):n.log.apply(n,[e,r])):e="\n"+arguments[0]+"\n",t=1,a=arguments.length;a>t;++t){if(o=arguments[t],"object"==typeof o&&"undefined"!=typeof u)try{o=u.stringify(o)}catch(c){}e+="\n"+o+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||d(e),!0},p.getInternetExplorerMajorVersion=function(){var e=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=i.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4?e:!1}();return e},p.isInternetExplorer=function(){var e=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return e},p.options.html4Mode?p.emulated={pushState:!0,hashChange:!0}:p.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(a.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(a.userAgent))),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in i)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===a.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(a.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},p.cloneObject=function(e){var t,n;return e?(t=u.stringify(e),n=u.parse(t)):n={},n},p.getRootUrl=function(){var e=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(e+=":"+i.location.port),e+="/"},p.getBaseHref=function(){var e=i.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},p.getBaseUrl=function(){var e=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return e},p.getPageUrl=function(){var e,t=p.getState(!1,!1),n=(t||{}).url||p.getLocationHref();return e=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){var e=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},p.getFullUrl=function(e,t){var n=e,i=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(n="/"===i?p.getRootUrl()+e.replace(/^\/+/,""):"#"===i?p.getPageUrl().replace(/#.*/,"")+e:"?"===i?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,n=p.getBaseUrl(),i=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(i,"/"),p.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return e=e||i,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var n=p.getLastSavedState();return!n&&t&&(n=p.createStateObject()),e&&(n=p.cloneObject(n),n.url=n.cleanUrl||n.url),n},p.getIdByState=function(e){var t,n=p.extractId(e.url);if(!n)if(t=p.getStateString(e),"undefined"!=typeof p.stateToId[t])n=p.stateToId[t];else if("undefined"!=typeof p.store.stateToId[t])n=p.store.stateToId[t];else{for(;;)if(n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof p.idToState[n]&&"undefined"==typeof p.store.idToState[n])break;p.stateToId[t]=n,p.idToState[n]=e}return n},p.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!p.isEmptyObject(t.data),(t.title||n)&&p.options.disableSuid!==!0&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,n){var i={data:e,title:t,url:n};return i=p.normalizeState(i)},p.getStateById=function(e){e=String(e);var n=p.idToState[e]||p.store.idToState[e]||t;return n},p.getStateString=function(e){var t,n,i;return t=p.normalizeState(e),n={data:t.data,title:e.title,url:e.url},i=u.stringify(n)},p.getStateId=function(e){var t,n;return t=p.normalizeState(e),n=t.id},p.getHashByState=function(e){var t,n;return t=p.normalizeState(e),n=t.hash},p.extractId=function(e){var t,n,i,a;return a=-1!=e.indexOf("#")?e.split("#")[0]:e,n=/(.*)\&_suid=([0-9]+)$/.exec(a),i=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},p.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},p.extractState=function(e,t){var n,i,a=null;return t=t||!1,n=p.extractId(e),n&&(a=p.getStateById(n)),a||(i=p.getFullUrl(e),n=p.getIdByUrl(i)||!1,n&&(a=p.getStateById(n)),a||!t||p.isTraditionalAnchor(e)||(a=p.createStateObject(null,null,i))),a},p.getIdByUrl=function(e){var n=p.urlToId[e]||p.store.urlToId[e]||t;return n},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||t},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||t},p.hasUrlDuplicate=function(e){var t,n=!1;return t=p.extractState(e.url),n=t&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t,n,i,a=!1;return p.savedStates.length&&(t=e.id,n=p.getLastSavedState(),i=n.id,a=t===i),a},p.saveState=function(e){return p.isLastSavedState(e)?!1:(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?p.savedStates[p.savedStates.length-1]:0>e?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){var e=null;return e=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t,n=p.getLocationHref(e);return t=p.getHashByUrl(n)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},p.setHash=function(e,t){var n,a;return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),n=p.extractState(e,!0),n&&!p.emulated.pushState?p.pushState(n.data,n.title,n.url,!1):p.getHash()!==e&&(p.bugs.setHash?(a=p.getPageUrl(),p.pushState(null,null,a+"#"+e,!1)):i.location.hash=e),p)},p.escapeHash=function(t){var n=p.normalizeHash(t);return n=e.encodeURIComponent(n),p.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,n=e.title;n||(t=p.getStateByIndex(0),t&&t.url===e.url&&(n=t.title||p.options.initialTitle));try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(a){}return i.title=n,p},p.queues=[],p.busy=function(e){if("undefined"!=typeof e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){s(p.busy.timeout);var t=function(){var e,n,i;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)n=p.queues[e],0!==n.length&&(i=n.shift(),p.fireQueueItem(i),p.busy.timeout=o(t,p.options.busyDelay))};p.busy.timeout=o(t,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(s(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=o(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var t,n=p.extractState(p.getLocationHref());if(!p.isLastSavedState(n))return t=n,t||(t=p.createStateObject()),p.Adapter.trigger(e,"popstate"),p},p.back=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),f.go(-1),!0)},p.forward=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),f.go(1),!0)},p.go=function(e,t){var n;if(e>0)for(n=1;e>=n;++n)p.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)p.back(t)}return p},p.emulated.pushState){var m=function(){};p.pushState=p.pushState||m,p.replaceState=p.replaceState||m}else p.onPopState=function(t,n){var i,a,r=!1,o=!1;return p.doubleCheckComplete(),(i=p.getHash())?(a=p.extractState(i||p.getLocationHref(),!0),a?p.replaceState(a.data,a.title,a.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(r=p.Adapter.extractEventData("state",t,n)||!1,o=r?p.getStateById(r):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),o||(o=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(o)?(p.busy(!1),!1):(p.storeState(o),p.saveState(o),p.setTitle(o),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(t,n,i,a){if(p.getHashByUrl(i)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:a}),!1;p.busy(!0);var r=p.createStateObject(t,n,i);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,f.pushState(r.id,r.title,r.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(t,n,i,a){if(p.getHashByUrl(i)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:a}),!1;p.busy(!0);var r=p.createStateObject(t,n,i);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,f.replaceState(r.id,r.title,r.url),p.Adapter.trigger(e,"popstate")),!0};if(r){try{p.store=u.parse(r.getItem("History.store"))||{}}catch(b){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),r&&(p.onUnload=function(){var e,t,n;try{e=u.parse(r.getItem("History.store"))||{}}catch(i){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),n=u.stringify(e);try{r.setItem("History.store",n)}catch(a){if(a.code!==DOMException.QUOTA_EXCEEDED_ERR)throw a;r.length&&(r.removeItem("History.store"),r.setItem("History.store",n))}},p.intervalList.push(l(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(l(p.safariStatePoll,p.options.safariPollInterval)),("Apple Computer, Inc."===a.vendor||"Mozilla"===(a.appCodeName||""))&&(p.Adapter.bind(e,"hashchange",function(){p.Adapter.trigger(e,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(e,"hashchange")})))},p.options&&p.options.delayInit||p.init()}(window),define("shared/libs/jquery-plugins/jquery.history",function(){}),function(e){"function"==typeof define&&define.amd?define("shared/libs/jquery-plugins/jquery.scrollTo",["jquery"],e):e(jQuery)}(function(e){function t(t){return e.isFunction(t)||"object"==typeof t?t:{top:t,left:t}}var n=e.scrollTo=function(t,n,i){return e(window).scrollTo(t,n,i)};return n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,a,r){return"object"==typeof a&&(r=a,a=0),"function"==typeof r&&(r={onAfter:r}),"max"==i&&(i=9e9),r=e.extend({},n.defaults,r),a=a||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(a/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function o(e){c.animate(d,a,r.easing,e&&function(){e.call(this,u,r)})}if(null!=i){var s,l=this,c=e(l),u=i,d={},p=c.is("html,body");
switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(s=(u=e(u)).offset())}var f=e.isFunction(r.offset)&&r.offset(l,u)||r.offset;e.each(r.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",a=i.toLowerCase(),h="scroll"+i,m=l[h],b=n.max(l,t);if(s)d[h]=s[a]+(p?0:m-c.offset()[a]),r.margin&&(d[h]-=parseInt(u.css("margin"+i))||0,d[h]-=parseInt(u.css("border"+i+"Width"))||0),d[h]+=f[a]||0,r.over[a]&&(d[h]+=u["x"==t?"width":"height"]()*r.over[a]);else{var g=u[a];d[h]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*b:g}r.limit&&/^\d+$/.test(d[h])&&(d[h]=d[h]<=0?0:Math.min(d[h],b)),!e&&r.queue&&(m!=d[h]&&o(r.onAfterFirst),delete d[h])}),o(r.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",a="scroll"+i;if(!e(t).is("html,body"))return t[a]-e(t)[i.toLowerCase()]();var r="client"+i,o=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(o[a],s[a])-Math.min(o[r],s[r])},n}),define("shared/scroll",["jquery","shared/libs/jquery-plugins/jquery.history","shared/libs/jquery-plugins/jquery.scrollTo","config"],function(e,t,t,n){var i={},a=!1,r=[],o=[],s=null,l=!1,c=!1,u=[],d=1,p=History.pushState;return i.setBeginning=function(e){s=e,l=!1},i.setDivider=function(e){d=e},i.setPushReplace=function(e){e===!0||"push"===e?p=History.pushState:"replace"===e&&(p=History.replaceState)},i.disable=function(){a=!1},i.enable=function(){a=!0},i.status=function(){return a},i.clearTrackingElements=function(){r=[]},i.track=function(e){e.each(function(e,t){r.push(t)}),a=!0},i.registerArrivalCallback=function(e){u.push(e)},i.arrive=function(t){var n=s;s=t.data("id"),p({id:t.data("id")},t.data("name"),t.data("url")),e.each(u,function(e,i){i(t,s,n)}),l=!1},i.goTo=function(t,n){if(i.disable(),"undefined"==typeof n&&(n={}),"function"==typeof n.onAfter){var a=n.onAfter;n.onAfter=function(){a(),i.enable()}}else n.onAfter=i.enable;n.axis="y",e.scrollTo(t,n),i.arrive(t)},i.init=function(){History.replaceState({id:s},document.title,document.URL),e(window).on("scroll",i.checkPosition),e(window).on("statechange",function(t){var n=History.getState();if(n.data.id!==s){var a=e('a[data-id="'+n.data.id+'"][data-pos="top"]');i.goTo(a)}})},i.checkPosition=function(t){if(a){var n=e(this).scrollTop(),l=n+e(window).height()/d,u={};e.each(r,function(t,i){var a=e(i),r=a.offset().top;r>n&&l>r&&(u[a.data("id")]=a)}),e.each(o,function(e,t){if("undefined"==typeof u[t]){var n=o.indexOf(t);n>-1&&o.splice(n,1)}}),e.each(u,function(e,t){return-1===o.indexOf(e)&&s!==e?(i.arrive(t),!1):void 0}),e.each(u,function(e,t){-1===o.indexOf(e)&&o.push(e)}),c=!1}},i.debug=function(){n.log("Enabled: "+a),n.log("Visible Ids: "+o),n.log("Elements: "+e.map(r,function(t){return e(t).data("id")})),n.log("Current: "+s)},History.Adapter.bind(window,"statechange",function(){History.getState()}),i}),define("fresca-scroll",["jquery","config","s_code","shared/scroll","shared/libs/jquery-plugins/jquery.history","socialpopups"],function(e,t,n,i,a,r){var o={};o.init_location=window.location.href+"",o.scroll_element_selector=".finite-scroll-trigger",o.crop_extension=".CROP.fresca2-xlarge.jpg",o.trigger_buffer=500;var s=null,l=null,c=1,u=!1,d=!1,p=null;return o.path_data={},o.init=function(){t.env.edit!==!0&&(s=e(o.scroll_element_selector),o.tpl=o.make_template(),o.retrieve_path_list().done(function(){e(window).scroll(o.scroll)}),e.ajax({url:o.base_path(o.init_location)+".embeddedfresca.json",type:"GET",dataType:"json"}).done(function(t){o.path_data["article-"+t.articleId]=t,t.pos="bottom",e(".page:first .main .content .newbody").append(o.make_marker_element(t)),i.track(e(".fresca-scroll")),i.setDivider(2),i.setBeginning("article-"+t.articleId),i.registerArrivalCallback(o.omniture_element),i.registerArrivalCallback(o.set_header),i.registerArrivalCallback(o.refresh_ads),i.registerArrivalCallback(o.refresh_bigbox_ads),i.init()}))},o.scroll=function(t){if(!d&&!u){null===s&&(i.clearTrackingElements(),i.track(e(".fresca-scroll")),s=e(o.scroll_element_selector));var n=e(document).scrollTop(),a=n+e(window).height(),r=s.offset().top;r>n&&r<a+o.trigger_buffer&&o.show_next()}},o.base_path=function(e){var t=e.indexOf("?"),n=e.indexOf("#"),i=0;n>-1&&t>-1?(i=Math.min(n,t),e=e.substring(0,i)):n>-1?e=e.substring(0,n):t>-1&&(e=e.substring(0,t)),e=e.substring(0,e.indexOf(".",e.lastIndexOf("/")));var a=o.init_location.substring(o.init_location.indexOf("//")+2,o.init_location.indexOf("/",o.init_location.indexOf("//")+2)),r=e.substring(e.indexOf("//")+2,e.indexOf("/",e.indexOf("//")+2));return e=e.replace(r,a)},o.retrieve_path_list=function(t){t=t||{},"page"in t||(t.page=c,c++);var n=o.init_location.substring(0,o.init_location.indexOf(".html"));return n=n.substring(0,n.lastIndexOf("/")),n=n.substring(0,n.lastIndexOf("/")),n=n.substring(0,n.lastIndexOf("/")),n=n+".teaser.all.10."+t.page+".json",e.ajax({url:n,type:"GET",dataType:"json",success:function(e,t,n){l=[];for(var i=o.base_path(o.init_location),a=0;a<e.entries.length;a++){var r=e.entries[a],s=o.base_path(r.link);s!==i&&l.push(s)}},failure:function(e,t,n){}})},o.get_next_path=function(){for(;l.length>0;)return l.shift();return null},o.make_template=function(){var t=e(".page").clone();t.find("nav").detach(),t.find(".ym").detach(),t.find("link").detach(),t.find("style").detach(),t.find("script").detach(),t.find("#header_social").detach(),t.find(".nav-panel").detach();var n=e(".fresca_image").clone(),i=e(".fresca_rawhtml").clone(),a='<div class="appended-page"><div class="fresca_rawhtml">'+i.html()+'</div><div class="fresca_image">'+n.html()+'</div><div class="page page-rubrik-fresca">'+t.html()+"</div></div>",r=function(t){var n=e(a);return n.find(".hed").html(t.headline),n.find(".dek").html(t.subhead),n.find(".contentWellVideoTop").html(t.contentWellVideoTop),n.find(".content .newbody").html(t.bodyHtml+o.make_marker_element(e.extend({pos:"bottom"},t))),n.find(".fresca_rawhtml").html(t.frescaHtml),n.find(".fresca-top-image img").attr("src",t.frescaImage.src+o.crop_extension),o.make_marker_element(e.extend({pos:"top"},t))+'<div class="appended-page">'+n.html()+'</div><div class="finite-scroll-trigger">&nbsp;</div>'};return r},o.make_marker_element=function(e){return'<a class="fresca-scroll" name="article-'+e.articleId+'"  data-url="'+(o.base_path(e.absoluteUrl)+".html")+'" data-name="'+e.menuline+'" data-id="article-'+e.articleId+'" data-hed="'+e.headline+'" data-pos="'+e.pos+'"></a>'},o.show_next=function(){d=!0;var t=o.get_next_path();return null===t?(u=!0,void(d=!1)):(0===l.length&&o.retrieve_path_list(),void e.ajax({url:t+".embeddedfresca.json",type:"GET",dataType:"json"}).done(function(t){d=!1,$old_trigger=s,s=null,o.path_data["article-"+t.articleId]=t;var n=e(o.tpl(t));try{n.replaceAll($old_trigger)}catch(i){}$header=n.find(".article-header"),setTimeout(function(){$header.css({height:"0",display:"block"})},10),r.facebookshare(n.find(".social .facebook")),r.twitter(n.find(".social .twitter"))}).fail(function(e){d=!1}))},o.omniture_element=function(e){o.omniture(e.data("id"))},o.omniture=function(t){var i=o.path_data[t].omniture;e.each(i,function(e,t){n[e]=t}),n.events="",n.t()},o.set_header=function(t){var n=t.data("hed").split(" ").slice(0,6).join(" ")+"&hellip;";e("header.roll-up .sponsored-titles h1.primary").html(n);var i="http://www.facebook.com/sharer.php?s=100&p[title]="+encodeURIComponent(t.data("name"))+"&p[ref]=sl_live&p[images][0]=http://www.slate.com/etc/designs/slate/images/slate_facebook_icon.png&p[url]="+encodeURIComponent(t.data("url"))+"?wpsrc=sh_all_dt_fb_ru";$fb=e("header.roll-up .social .facebook"),$fb.unbind().data("share",i),r.facebookshare($fb),$fb2=e(".page:first .social-with-popup .facebook"),$fb2.unbind().data("share",i),r.facebookshare($fb2);var a="http://twitter.com/share?text="+encodeURIComponent(t.data("name"))+"&count=none&via=slate&url="+encodeURIComponent(t.data("url"))+"?wpsrc=sh_all_dt_tw_ru";$tw=e("header.roll-up .social .twitter"),$tw.unbind().data("share",a),r.twitter($tw),$tw2=e(".page:first .social-with-popup .twitter"),$tw2.unbind().data("share",a),r.twitter($tw2)},o.refresh_ads=function(t){null===p&&(p=e(".page:first .content .body .ad.section").html()),$ads=e(".page .content .ad.section .banner"),$ads.each(function(t,n){e(n).replaceWith('<div class="ad-fill" style="height: '+e(n).height()+'px">&nbsp;</div>')}),$base=t,"top"===t.data("pos")&&($base=e('a[data-name="'+t.data("name")+'"][data-pos="bottom"]')),$base.parent().find(".ad.section:gt(1)").remove(),$base.parent().find(".ad.section").first().html('<div id="slug_leaderboard" class="banner ad " data-ad-type="leaderboard" data-ad-mode="large"></div>'),placeAd2(commercialNode,"leaderboard","AJAX","")},o}),requirejs(["jquery","config","libs/jquery-plugins/jquery.cookie"],function(e,t,n){var i=e(window),a=t.ads.viewability,r=1e3,o=1e3*parseInt(a.refreshInterval.replace(/\D+/,""),10),s=!0,l=a.testPageList.split(",").some(function(e){return!!e&&new RegExp("^"+e).test(window.commercialNode)}),c=a.leaderboardRollupDisabledList.split(",").some(function(e){return!!e&&new RegExp("^"+e).test(window.commercialNode)}),u=function(e){s=!1,"focus"===e.type&&(s=!0),console.log("%cwindow focused: "+s,"color:#281b21;background:orange;")},d=function(t){(e("html").hasClass("modePublish")&&-1===window.location.search.indexOf("hprefresh=false")||window.location.search.indexOf("hprefresh=force")>-1)&&(window.location.search.indexOf("hprefresh=force")>-1&&(t=30),window.homepageTimeout=window.setTimeout(function(){window.location="?reload=true"},1e3*t))};if(i.on("blur focus",u),e(document).ready(function(){s=document.hasFocus(),console.log("%cwindow focused: "+s,"color:#281b21;background:orange;")}),a.refreshPolar&&"homepage"===window.commercialNode){var p,f=function(){if(s&&h){var t=e("#"+p.$element.attr("id"));if("undefined"!=typeof t&&t.visible(!0,!1,.5)){if(p.toBeRefreshed)return p.toBeRefreshed=0,console.log("%crefreshing polar","color:#281b21;background:cyan;"),p.$element.after(p.$next).remove(),void window.NATIVEADS.exec(!0);null!==p.viewableTimeout||p.viewed||(p.viewableTimeout=setTimeout(function(){console.log("%cpolar considered viewable: %s","color:#281b21;background:cyan;","setting "+a.refreshInterval+"sec timeout"),p.viewed=1,p.viewableTimeout=null,p.adTimeout=setTimeout(function(){console.log("%cpolar can be refreshed","color:#281b21;background:cyan;"),p.toBeRefreshed=1,p.adTimeout=null,f()},o)},r))}else null===p.adTimeout||p.viewed||(console.log("%cclearing ad timeout: polar","color:#281b21;background:cyan;"),clearTimeout(p.adTimeout),p.adTimeout=null),null!==p.viewableTimeout&&(console.log("%cclearing viewable timeout: polar","color:#281b21;background:cyan;"),clearTimeout(p.viewableTimeout),p.viewableTimeout=null)}},h=0;i.one("nativeAdsReady",function(e,t){i.on("scroll focus",f)}),i.on("polarRender",function(e,t){h=1,p=t,p.adTimeout=null,p.viewableTimeout=null,p.toBeRefreshed=0,p.viewed=0,f()}),"undefined"!=typeof window.NATIVEADS&&window.NATIVEADS.hasRun&&(console.log("trigger manually"),i.trigger("nativeAdsReady",{}))}i.one("adscriptloaded",function(n){if("undefined"!=typeof placeAd2&&e.cookie("spf","false",{expires:365,path:"/"}),(a.lazyload.homepageBB||a.lazyload.tiffTiles||a.lazyload.leaderboard_2||a.lazyload.rightflex)&&l){var u={},p=i.height(),f=20,h=[],m=function(){var t=i.scrollTop();e.each(u,function(n,i){t>=i.top-(p+f)&&!i.adCalled&&(console.log("%ccalling "+n,"color:#281b21;background:yellow;"),e("."+n).attr("id","slug_"+i.slug),u[n].adCalled=1,placeAd2(commercialNode,e("."+n).attr("data-ad-type"),"AJAX",""))})};"homepage"===window.commercialNode?(h.push("leaderboard"),h.push("rightflex"),d(3600)):h.push("leaderboard"),a.lazyload.homepageBB&&h.push("homepage-bb"),a.lazyload.tiffTiles&&(h.push("tiffanytile"),h.push("tiffanytile-2")),a.lazyload.leaderboard_2&&h.push("leaderboard-2"),a.lazyload.rightflex&&(h.push("rightflex"),h.push("rightflex-2")),e.each(h,function(t,n){0!==e("."+n).size()&&(u[n]={top:e("."+n).offset().top,adCalled:0,slug:n.replace("-","_")})}),e.isEmptyObject(u)||i.on("scroll",m),"homepage"!==window.commercialNode||s?m():i.on("blur focus",function(){m()})}if(a.leaderboardRollup&&!c&&l&&!mobileMode()&&("article"===window.commercialPageType||"front"===window.commercialPageType)&&"homepage"!==window.commercialNode){var b=e("#slug_leaderboard"),g=(e("#article_rollup"),e(".top")),v=(e("section.content"),i.scrollTop()),y=i.height(),_=0;b.size()&&(g.sticky().parent().css({height:"auto"}),g.on("sticky-start",function(){"250"==b.height()&&g.css("position","static"),e(this).css({backgroundColor:"white",width:"100%",zIndex:9999})}),i.on("scroll",function(){"250"!=b.height()&&(v=i.scrollTop(),v>=y&&(_||(_=1,e(".sticky-wrapper .top").slideToggle(425,function(){}))),0===v&&_&&(_=0,e(".sticky-wrapper .top").slideToggle(400,function(){})))}))}if(t.ads.viewabilityEnabled&&l){var w={},k=function(){s&&e.each(w,function(t,n){var i=e("#"+t);if(i.visible(!0,!1,.5)){if(w[t].toBeRefreshed)return console.log("%crefreshing: "+t,"color:white; background:#281b21;"),w[t].toBeRefreshed=0,void placeAd2(commercialNode,i.attr("data-ad-type"),"AJAX","");null!==w[t].viewableTimeout||w[t].viewed||(w[t].viewableTimeout=setTimeout(function(){console.log("%c"+t+" considered viewable: setting "+a.refreshInterval+"sec timeout","color:white; background:#281b21;"),w[t].viewed=1,w[t].viewableTimeout=null,w[t].adTimeout=setTimeout(function(){console.log("%c"+t+" can be refreshed","color:white; background:#281b21;"),w[t].toBeRefreshed=1,w[t].adTimeout=null,k()},o)},r))}else null===w[t].adTimeout||w[t].viewed||(console.log("%cclearing ad timeout: "+t,"color:white; background:#281b21;"),clearTimeout(w[t].adTimeout),w[t].adTimeout=null),null!==w[t].viewableTimeout&&(console.log("%cclearing viewable timeout: "+t,"color:white; background:#281b21;"),clearTimeout(w[t].viewableTimeout),w[t].viewableTimeout=null)})};i.on("adrendered adrefreshed",function(e,t){"slug_interstitial"!==t.containerId&&"slug_teads"!==t.containerId&&("slug_homepage_bb"===t.containerId&&i.trigger("scroll"),w[t.containerId]={inView:0,viewed:0,adInterval:null,toBeRefreshed:0,consideredVisible:0,viewableTimeout:null,adTimeout:null},setTimeout(k,500))}),i.on("scroll focus",k)}if(!t.ads.viewabilityEnabled&&"homepage"===window.commercialNode){var x=new Date,S=540;x.getDay()%6===0&&(S=900),d(S)}})}),define("ads",function(){}),define("janrain/janrain-init",["jquery","config","modernizr"],function(e,t){var n=t.janrain;if(Modernizr.localstorage){var i="prod"!==t.env.environment||window.location.search.toLowerCase().indexOf("janraindebug")>-1;localStorage.setItem("janrainDebugEnabled",i);var a=JSON.parse(localStorage.getItem("janrainDebugEnabled"))}return"object"!=typeof window.janrain&&(window.janrain={}),"object"!=typeof window.janrain.settings&&(window.janrain.settings={}),"object"!=typeof window.janrain.settings.capture&&(window.janrain.settings.capture={}),janrain.settings.packages=["login","capture"],janrain.settings.capture.stylesheets=[t.site.staticUrl+"/etc/designs/slate/css/janrain.css"],janrain.settings.language="en-US",janrain.settings.tokenAction="event",janrain.settings.width="465",janrain.settings.showAttribution=!1,janrain.settings.providersPerPage=8,janrain.settings.backgroundColor="#f3f5f5",janrain.settings.borderRadius="0",janrain.settings.capture.redirectUri="http://localhost/",janrain.settings.capture.flowName="the_slate_group_embedded",janrain.settings.capture.registerFlow="socialRegistration",janrain.settings.capture.setProfileCookie=!0,janrain.settings.capture.keepProfileCookieAfterLogout=!0,janrain.settings.capture.noModalBorderInlineCss=!0,janrain.settings.capture.responseType="token",janrain.settings.capture.beforeJanrainCaptureWidgetOnLoad=[function(e){a&&console.log("beforeJanrainCaptureWidgetOnLoad_0")}],e.extend(!0,janrain.settings,n),e(document).ready(function(){a&&console.log("janrain doc ready"),janrain.ready=!0}),window.janrainWidgetOnload=function(){a&&console.log("janrainWidgetOnload")},window.janrainCaptureWidgetOnLoad=function(){var t=function(e){janrain.events[e].addHandler(function(t){console.info(e,t)})};if(janrain.settings.debug.enabled){for(var i in janrain.events)try{var a=i;i.hasOwnProperty("eventName")&&(a=i.eventName),t(a)}catch(r){}console.log("%c%s","font-weight: bold;","JANRAIN ACTUALLY READY")}e(window).trigger("janrain.ready"),n.siteConfig.ready=1,janrain.capture.ui.start()},requirejs(["rpxnow"]),window.janrain}),define("janrain/janrain-functions",["jquery","config","slateplus","myslate","s_code","templates","libs/jquery-plugins/jquery.storageapi","janrain/janrain-init"],function(e,t,n,i,a,r){var o={settingsPage:e("#settings").size()&&"account"===window.commercialNode,isHomePage:"homepage"===window.commercialNode?1:0,isPitchPage:t.page.pitchPage,hasRoadblock:t.page.roadblocked,shownRoadblock:0,storage:e.initNamespaceStorage(t.janrain.siteConfig.jsNamespace),myslateAjax:null,delay:0,debugEnabled:JSON.parse(localStorage.janrainDebugEnabled),screenToRenderParam:null,config:t.janrain.siteConfig,isSecure:0,defaultScreens:["resetPasswordRequestCode"],myslateStatuses:["deactivated","declined"]},s=e(window);o.init=function(){return this.debug("init"),this.initListeners(),this},o.initListeners=function(){this.debug("initListeners");var e=this,t={storage:function(e){var t=["janrainCaptureToken"];t.indexOf(e.originalEvent.key)>-1&&(e.originalEvent.newValue?janrain.capture.ui.start():janrain.capture.ui.endCaptureSession())},"MySlateData.Fetch":function(t,n){e.handlePlusButton().handlePlusHomepagePromo().showSlatePlusEmail()}};mobileMode()&&s.one("janrain.mobileNavClick",function(t,n){e.mobileProfileHeader()}),s.on(t)},o.visible=function(){this.debug("visible");var e;return"undefined"!=typeof document.hidden?e="hidden":"undefined"!=typeof document.mozHidden?e="mozHidden":"undefined"!=typeof document.msHidden?e="msHidden":"undefined"!=typeof document.oHidden?e="oHidden":"undefined"!=typeof document.webkitHidden&&(e="webkitHidden"),!document[e]},o.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=location.search.replace(/&amp;/g,"&"),n=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=n.exec(t);return this.screenToRenderParam=null===i?"":decodeURIComponent(i[1].replace(/\+/g," ")),this.screenToRenderParam},o.trackEvent=function(e){return this.debug("trackEvent"),this.visible()?(a.trackJanrainOmnitureEvent(e),this):this},o.renderScreen=function(e){return this.debug("renderScreen"),janrain.capture.ui.renderScreen(e),this},o.endSession=function(){return this.debug("endSession"),janrain.capture.ui.hasActiveSession()&&janrain.capture.ui.endCaptureSession(),this},o.getCaptureToken=function(){return this.debug("getCaptureToken"),localStorage.janrainCaptureToken||""},o.showProfile=function(e){return this.debug("showProfile"),this.settingsPage&&this.profileHeader(e).renderScreen("editProfile").handlePlusButton().showSlatePlusEmail(),this},o.showRegistration=function(){return this.debug("showRegistration"),e(".sign-in-link, .sign-up-link").parent().show(),e("#mobile_username_display, .username-display").html("").hide(),mobileMode()&&e("#mobile_identity").show(),this},o.handleCaptureLinkAccountError=function(t){return e("#capture_editProfile_linkAccountContainer").append("      <p><strong>An error occurred:</strong> "+t.message+"<br>      <small>Provider: "+t.provider+"</small></p>    "),this},o.login=function(){if(this.debug("login"),!this.visible())return this;var e=this.storage.localStorage,t=(janrain.capture.ui.getReturnExperienceData("displayName"),janrain.capture.ui.getReturnExperienceData("uuid"));return e.set({wapo_login_id:t}),this.assignLoginID(),this},o.getTokens=function(n){if(this.debug("getTokens"),!this.visible())return this;var a=this,r=a.storage.localStorage,o=janrain.capture.ui.getReturnExperienceData("displayName"),s=janrain.capture.ui.getReturnExperienceData("uuid"),l=["lf_secure_login_id","sp_secure_id"];return r.isEmpty(l)?this.myslateAjax=e.ajax({url:i.getMySlateURL(t.myslate.myslateTokenPath),method:"GET",data:{user_id:s,display_name:o,expires:localStorage.janrainCaptureToken_Expires,token:n.accessToken},dataType:"jsonp"}).done(function(e){janrain.capture.ui.hasActiveSession()&&(r.set(e),a.assignLoginID("sp_secure_id").handleLivefyre().handleUserAuthentication())}).fail(function(e,t){a.debug("	",t)}):a.handleLivefyre().handleUserAuthentication(),this},o.renewJanrainToken=function(n){this.debug("renewJanrainToken"),n=n||0;var a=janrain.capture.ui.getReturnExperienceData("uuid"),r=this;return e.ajax({url:i.getMySlateURL(t.myslate.myslateJanrainTokenPath),method:"GET",data:{uuid:a,redirect_uri:window.location.href},dataType:"jsonp"}).done(function(e){return e.success?(janrain.capture.ui.createCaptureSession(e.access_token),void(n&&setTimeout(function(){window.location.href=window.location.href},r.config.raceConditionTimeout))):void r.debug("	",e)}).fail(function(e,t){r.debug("	",t)}),this},o.setSlateProfileToken=function(){this.debug("setSlateProfileToken");var e=this.storage.localStorage,t=new Date,n=t.getTime();return n+=3e6,t.setTime(n),e.set("slateProfileToken",Date.parse(t)),this},o.handleSlateProfileToken=function(){this.debug("handleSlateProfileToken");var e=this.storage.localStorage,t=e.get("slateProfileToken");return Date.now()>t&&this.setSlateProfileToken().renewJanrainToken(0),this},o.moveLegalAcceptances=function(){this.debug("moveLegalAcceptances");var t=e("#legalAcceptances");return t.size()&&this.settingsPage&&e("#settings").append(t),this},o.handleLivefyre=function(){if(this.debug("handleLivefyre"),!this.visible()||"undefined"==typeof Livefyre)return this;var t=this.storage.localStorage;return Livefyre.require(["auth"],function(n){var i=t.get("lf_secure_login_id");return i?(n.authenticate({livefyre:i}),e("#livefyre, #livechat").on("click",".fyre-edit-profile-link a",function(e){window.location.href="/account.settings.html"}),this):void n.logout()}),this},o.profileHeader=function(t){this.debug("profileHeader");var n="ACCOUNT SIGN IN AND REGISTRATION";return t&&(n='<span class="username">Hi '+t+'</span>              <em>Here\'s Your Slate Account!</em>              <a href="javascript: void(0)" onclick="janrain.capture.ui.endCaptureSession()" class="sign-out">Sign Out</a>'),e("#account_header").html(n),this},o.mobileProfileHeader=function(){return this.debug("mobileProfileHeader"),janrain.capture.ui.hasActiveSession()&&(e("#mobile_identity").hide(),e("#mobile_username_display").html('<span class="welcome link option"><a href="/account.settings.html" class="nav-option first" style="padding-right:10px;">Hi <span class="username">'+janrain.capture.ui.getReturnExperienceData("displayName")+'</span></a></span><span class="link option" style="padding-left:10px;"><a href="#" class="sign-out nav-option">SIGN OUT</a></span>').show(),e(".sign-out").click(function(){janrain.capture.ui.endCaptureSession(),e(".nav-panel .user-link").click(function(e){e.preventDefault()})})),this},o.redirectTo=function(t,n){return this.debug("redirectTo"),t=t||"/",n="undefined"!==e.type(n)?n:1,this.settingsPage&&(n&&this.endSession(),this.delay?setTimeout(function(){window.location.href=t},this.delay):window.location.href=t),this},o.showAccountDeactivated=function(){if(this.debug("showAccountDeactivated"),this.settingsPage){var t=5;this.delay=1e3*t,e("#settings").html('        <div id="accountDeactivated--settings">          <div class="capture_header">            <h1>Deactivated Account</h1>          </div>          <div class="content_wrapper">            <p>Your account has been deactivated.</p>            <p>Trouble? Get help: <a href="mailto:plus@slate.com">plus@slate.com</a></p>          </div>        </div>      ')}return this},o.showUserMessage=function(t){this.debug("showUserMessage");var n=e("#"+t);return n.size()&&n.append(this.config.userMessage),this},o.deleteProfileData=function(){if(this.debug("deleteProfileData"),this.isSecure&&i.isSlatePlusUser)return this;var n=this.storage.localStorage;n.removeAll(!0),n=this.storage.sessionStorage,n.removeAll(!0),$cookies=["wapo_login_id","wapo_vis_id","sp_secure_id"];for(var a=$cookies.length,r=0;a>r;r++)"undefined"!==e.type(e.cookie($cookies[r]))&&e.removeCookie($cookies[r],{domain:t.myslate.site_base_domain,path:"/"});return i.removeAllCookies(),this},o.checkSecure=function(){this.debug("checkSecure");var e=["secure.slate.com","pub1.slate.com","pub2.slate.com","pub1w.slate.com","pub2w.slate.com","author.slate.com"];return this.isSecure=e.indexOf(window.location.hostname)>-1,this},o.logout=function(){return this.debug("logout"),"undefined"==typeof Livefyre?this:(Livefyre.require(["auth"],function(e){e.hasDelegate()&&e.logout()}),this)},o.removeProfile=function(){return this.debug("removeProfile"),this.settingsPage&&this.renderScreen("signIn"),this},o.handlePasswordReset=function(){var t=this;return e(document).on("click","#resetPasswordRequestCodeSuccess a",function(){t.profileNavOpen()}),this};var l=0;o.profileNavOpen=function(){if(this.debug("profileNavOpen"),l)return this;l=1;var t=this;if(this.defaultScreens.indexOf(this.screenToRenderParam)>-1)return this.screenToRenderParam=null,this;if(this.settingsPage){var n=e("html").hasClass("touch")?"touchstart":"click";e(e(".global-nav-handle:visible").filter(function(t){return e(this).visible()}).get(0)).trigger(n),setTimeout(function(){e("#sign_in_link").click(),t.handlePlusUserLoggedout()},this.config.raceConditionTimeout)}return this},o.navClose=function(){return this.debug("navClose"),e(".nav-header").data("plugin_SGGlobalNav")&&e(".nav-header").data("plugin_SGGlobalNav").close(),this},o.showUsername=function(t){return this.debug("showUsername"),this.mobileProfileHeader(),"undefined"===e.type(t)?this.showRegistration():(0===e(".username-display").size()&&e(".buttons").prepend('<span class="link option username-display" style="display:none;"></span>'),e(".sign-in-link, .sign-up-link").parent().hide(),e("#mobile_identity").hide(),e(".username-display").html('<span class="welcome link option"><a href="/account.settings.html" class="nav-option first">Hi <span class="username">'+t+'</span></a></span><span class="link option"><a href="#" class="sign-out nav-option">SIGN OUT</a></span>').show(),e(".nav-panel .user-link").click(function(){window.location="/account.settings.html"}),e(".sign-out").on("click",function(e){return janrain.capture.ui.endCaptureSession(),!1})),this},o.assignLoginID=function(n){if(this.debug("assignLoginID"),n=n||"wapo_login_id","undefined"===e.type(e.cookie(n))){var i=this.storage.localStorage;e.cookie(n,i.get(n),{domain:t.myslate.site_base_domain,path:"/",expires:10950})}return this},o.getMySlateUserData=function(){return this.debug("getMySlateData"),i.getMySlateUserData(),this},o.checkMySlateUserData=function(){return this.debug("checkMySlateUserData"),t.page.slateplus&&this.getMySlateUserData(),this},o.myslatePageRefresh=function(){return this.debug("myslatePageRefresh"),t.page.slateplus&&window.location.reload(),this};var c=0;return o.handleMySlateCall=function(n){if(c)return this;this.debug("handleMySlateCall",c),c=1,n=n||"s_session";var i=this.storage.sessionStorage;if(i.isEmpty(n)){var a={};e.cookie("s_vi")&&(a.s_vi=e.cookie("s_vi")),e.cookie("wapo_login_id")&&(a.wapo_login_id=e.cookie("wapo_login_id"));var r=t.myslate.myslate_domain,o=t.myslate.myslate_https,s=(o?"https:":"http:")+r+"store/segments/";e.ajax(s,{dataType:"jsonp",data:a,success:function(a){var r="none",o=new Date;if(o.setTime(o.getTime()+2592e6),a.success===!0){r="";for(var s=0,l=a.visitor.segments.length;l>s;s++)r+=a.visitor.segments[s],s<a.visitor.segments.length-1&&(r+=",")}e.cookie("s_segs",r,{domain:t.myslate.site_base_domain,expires:o,path:"/"}),i.set(n,!0)}})}},o.myslateSegments=function(){if(this.debug("myslateSegments"),!this.visible())return this;var e="s_session";return janrain.capture.ui.hasActiveSession()&&(e="s_session_loggedin"),this.handleMySlateCall(e),this},o.getMembershipStatus=function(){return this.debug("getMembershipStatus"),"undefined"!==e.type(i.membership)&&null!==i.membership?i.membership.membership_status_display||"":""},o.showSlatePlus=function(){return this.debug("showSlatePlus"),i.isSlatePlusUser?this:((this.hasRoadblock||this.isPitchPage)&&n.showFormInFrame("roadblock_form",janrain.capture.ui.hasActiveSession()),this)},o.handleSlatePlusDeactivationWarning=function(){return this.debug("handleSlatePlusDeactivationWarning"),i.isSlatePlusUser&&e("#confirmAccountDeactivation .content_wrapper form").before('        <p class="member-warning"><strong>SLATE PLUS MEMBER WARNING:</strong>        Deactivating your Slate.com account will prevent you from accessing Slate Plus content.        It will NOT cancel your Slate Plus membership.        Any recurring payments will continue.        To cancel your membership, <a href="/account.plususer.html">visit your Slate Plus account page</a>.</p>      '),this},o.showSlatePlusEmail=function(){return this.debug("showSlatePlusEmail"),$email=e(['#capture_editProfile_form_item_subscriptionList input[data-subid="Plus"]','#capture_editProfile_form_item_subscriptionList input[data-subid="S+ Prudie Early Release"]','#capture_editProfile_form_item_subscriptionList input[data-subid="S+ Recommended for You (Horizon Feed)"]','#capture_editProfile_form_item_subscriptionList input[data-subid="S+ What We Like Right Now"]'].join(",")).parent(),this.settingsPage&&i.isSlatePlusUser?($email.show(),e(".slateplus-account").addClass("slateplus-account--visible")):$email.hide(),this},o.handlePlusUserLoggedout=function(){return document.referrer.indexOf(".plususer.")>-1&&this.settingsPage&&e("#nav_registration_content").prepend(['<p class="secure-info">',"Plus members, please sign in again to access your account information securely.","</p>"].join("")),this},o.handleUserAuthentication=function(){if(this.debug("handleUserAuthentication"),!this.settingsPage)return this;var n=this,a="",o=window.location.pathname.split(".");if(o.length>2&&(a=o[1]),"plususer"==a&&(i.isSlatePlusUser||this.myslateStatuses.indexOf(this.getMembershipStatus())>-1)){var l=this.storage.localStorage,c=l.get("sp_secure_id"),u=l.get("wapo_login_id");e.ajax({url:i.getMySlateURL()+t.myslate.myslateVerifyPath,dataType:"jsonp",data:{uuid:u,sp_secure_id:c}}).done(function(a){if(a.valid){e("#settings").html(r["account.identity"]({url:i.getMySlateURL()+t.myslate.myslateSubscriptionsManagePath}));var o=function l(n){if(n.originalEvent.origin.indexOf(t.myslate.site_base_domain)>-1){var i=JSON.parse(n.originalEvent.data);e("#myslate-manage-subscriptions").height(i.accountHeight),s.off("message",l)}};s.on("message",o)}else n.redirectTo(window.location.href.replace(".plususer.",".settings."))}).fail(function(e,t){n.debug(t),n.redirectTo(window.location.href.replace(".plususer.",".settings."))})}return this},o.checkWrongPage=function(){this.debug("checkWrongPage");var e="",t=window.location.pathname.split(".");return t.length>2&&(e=t[1]),"plususer"!==e||i.isSlatePlusUser||-1!==this.myslateStatuses.indexOf(this.getMembershipStatus())||this.redirectTo(window.location.href.replace(".plususer.",".settings."),0),this},o.handlePlusButton=function(){return this.debug("handlePlusButton"),"pw"===i.slatePlusType?this:((i.isSlatePlusUser||this.myslateStatuses.indexOf(this.getMembershipStatus())>-1)&&e("#plususer_button").show(),this)},o.hideRoadblock=function(){return this.debug("hideRoadblock"),this.hasRoadblock&&n.hideRoadblock(),this},o.handlePlusHomepagePromo=function(){if(this.debug("handlePlusHomepagePromo"),!this.isHomePage)return this;var t="slateplus-promo__upsell--visible";return i.isSlatePlusUser&&(e(".slateplus-promo__title").addClass("slateplus-promo__title--full-width"),t="slateplus-promo__upsell--hidden"),e(".slateplus-promo__upsell").addClass(t),this},o.removePlusHomepagePromo=function(){return this.debug("removePlusHomepagePromo"),this.isHomePage?(e(".slateplus-promo__title").removeClass("slateplus-promo__title--full-width"),e(".slateplus-promo__upsell").removeClass("slateplus-promo__upsell--hidden").addClass("slateplus-promo__upsell--visible"),
this):this},o.addKeywee=function(){return this.debug("addKeywee"),requirejs(["https://connect.facebook.net/en_US/fbds.js"],function(){window._fbq=window._fbq||[],window._fbq.push(["track","6037386672854",{value:"0.00",currency:"USD"}])}),this},o.beginDebug=function(e){return this.debugEnabled&&console.group(e.split(":").join("\n	")),this},o.debug=function(e){this.debugEnabled&&console.log.apply(console,arguments)},o.endDebug=function(){return this.debugEnabled&&console.groupEnd(),this},o.init()}),define("janrain/janrain-events",["config","s_code"],function(e,t){return[{janrainEvent:"onCaptureLoginStart",janrainCallback:function(e){var n="";t.trackJanrainOmnitureEvent({event:"event21",title:e.provider,eVars:n})}},{janrainEvent:"onCaptureLoginSuccess",janrainCallback:function(n){var i="eVar35,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",a="Reg - Sign In";e.page.slateplus&&(a="SP - "+a),t.trackJanrainOmnitureEvent({event:"event33",title:a,eVars:i})}},{janrainEvent:"onCaptureLoginFailed",janrainCallback:function(e){var n="";t.trackJanrainOmnitureEvent({event:"event23",title:e.provider,eVars:n})}},{janrainEvent:"onCaptureRegistrationStart",janrainCallback:function(e){var n="";t.trackJanrainOmnitureEvent({event:"event18",title:e.screen,eVars:n})}},{janrainEvent:"onCaptureRegistrationFailed",janrainCallback:function(e){var n="";t.trackJanrainOmnitureEvent({event:"event20",title:e.provider,eVars:n})}},{janrainEvent:"onCaptureRegistrationSuccess",janrainCallback:function(n){var i="eVar36,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",a="Reg - New Registration";e.page.slateplus&&(a="SP - "+a),t.trackJanrainOmnitureEvent({event:"event34",title:a,eVars:i})}},{janrainEvent:"onCaptureScreenShow",janrainCallback:function(n){var i="eVar35,eVar41,eVar59,eVar60,eVar1,eVar2,eVar11,eVar13,eVar17",a="Identity form";e.page.slateplus&&(a="SP - "+a),t.trackJanrainOmnitureEvent({event:"event32",title:a+" ("+n.screen+")",eVars:i})}}]}),requirejs(["jquery","config","templates","janrain/janrain-functions","janrain/janrain-events"],function(e,t,n,i,a){e(window).on("janrain.ready",function(e){i.debug("janrain.ready",e);for(var t=0;t<a.length;t++){var n=a[t];janrain.events[n.janrainEvent].addHandler(n.janrainCallback)}janrain.settings.capture.screenToRender=i.getParameterByName("screenToRender"),janrain.events.onCaptureRenderComplete.addHandler(function(e){var t=e.screen;switch(i.beginDebug("onCaptureRenderComplete:"+t),t){case"confirmAccountDeactivation":i.handleSlatePlusDeactivationWarning();break;case"editProfile":i.showSlatePlusEmail()}i.endDebug()}),janrain.events.onCaptureScreenShow.addHandler(function(e){var t=e.screen;switch(i.beginDebug("onCaptureScreenShow:"+t),t){case"traditionalAuthenticateMerge":i.moveLegalAcceptances();break;case"resetPasswordRequestCodeSuccess":i.handlePasswordReset();break;case"signIn":i.showUserMessage(t)}i.endDebug()}),janrain.events.onCaptureSessionEnded.addHandler(function(){i.beginDebug("onCaptureSessionEnded").deleteProfileData().showRegistration().navClose().myslateSegments().logout().redirectTo().showSlatePlus().myslatePageRefresh().removePlusHomepagePromo().endDebug()}),janrain.events.onCaptureSessionFound.addHandler(function(e){var t=janrain.capture.ui.getReturnExperienceData("displayName");i.beginDebug("onCaptureSessionFound").showUsername(t).myslateSegments().getTokens(e).checkMySlateUserData().checkWrongPage().showSlatePlus().handlePlusHomepagePromo().showProfile(t).handleSlateProfileToken().endDebug()}),janrain.events.onCaptureSessionNotFound.addHandler(function(e){i.beginDebug("onCaptureSessionNotFound").checkSecure().logout().deleteProfileData().myslateSegments().profileNavOpen().showRegistration().showSlatePlus().handlePlusHomepagePromo().endDebug()}),janrain.events.onCaptureLoginStart.addHandler(function(e){(!i.shownRoadblock&&i.hasRoadblock||!i.shownRoadblock&&i.isPitchPage)&&(i.shownRoadblock=1)}),janrain.events.onCaptureLoginSuccess.addHandler(function(e){janrain.capture.ui.modal.close();var t=janrain.capture.ui.getReturnExperienceData("displayName");i.beginDebug("onCaptureLoginSuccess").login().showUsername(t).navClose().myslateSegments().getTokens(e).getMySlateUserData().showSlatePlus().showProfile(t).setSlateProfileToken().endDebug()}),janrain.events.onCaptureLoginFailed.addHandler(function(e){"accountDeactivated"===e.statusMessage&&i.beginDebug("onCaptureLoginFailed").renderScreen("accountDeactivated").endDebug()}),janrain.events.onCaptureRegistrationSuccess.addHandler(function(e){janrain.capture.ui.modal.close();var t=janrain.capture.ui.getReturnExperienceData("displayName");i.beginDebug("onCaptureRegistrationSuccess").login().showUsername(t).navClose().myslateSegments().getTokens(e).showSlatePlus().showProfile(t).addKeywee().endDebug()}),janrain.events.onCaptureSaveSuccess.addHandler(function(e){var t=janrain.capture.ui.getReturnExperienceData("displayName");"editProfile"===e.screen&&i.beginDebug("onCaptureSaveSuccess").profileHeader(t).endDebug()}),janrain.events.onCaptureSaveFailed.addHandler(function(e){var t=e.statusMessage;switch(i.beginDebug("onCaptureSaveFailed:"+t),e.statusMessage){case"accountDeactivated":i.logout().renderScreen("accountDeactivated").showUsername().profileHeader();break;case"accountAlreadyDeactivated":i.logout().showAccountDeactivated().showUsername().profileHeader().redirectTo();break;case"invalidAccessToken":i.renewJanrainToken(1)}i.endDebug()}),janrain.events.onCaptureAccountDeactivateSuccess.addHandler(function(e){i.beginDebug("onCaptureAccountDeactivateSuccess").deleteProfileData().logout().myslateSegments().showAccountDeactivated().showUsername().profileHeader().redirectTo().endDebug()}),janrain.events.onCaptureLinkAccountError.addHandler(function(e){i.handleCaptureLinkAccountError(e)})})}),define("janrain/janrain",function(){}),define("tp",["config","templates","myslate","announcements","tinypass","janrain/janrain","optimizely","s_code"],function(e,t,n,i){var a=e.tinypass,r=e.janrain;if(a.enabled&&!e.env.edit){var o="prod"!==e.env.environment||window.location.search.toLowerCase().indexOf("tpdebug")>-1;localStorage.setItem("tpDebugEnabled",o);var l=JSON.parse(localStorage.getItem("tpDebugEnabled"));l&&console.log("myslate.js",n);var c=$(window),u=$("body"),d={namespace:a.jsNamespace.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),rid:a.rid,settingsPage:"account"===window.commercialNode,subscriptionPage:window.location.pathname.indexOf("subscription")>-1,path:requirejs.toUrl("tinypass"),meter:{},displayMode:"modal",loginRequired:!0,loginScreen:"traditionalRegistration"};d.init=function(){l&&console.log("tp.init");var e=this;return tp=window.tp||[],tp.push(["setAid",a.aid]),""!==a.contentCreated&&tp.push(["setContentCreated",a.contentCreated]),a.contentAuthor.length&&tp.push(["setContentAuthor",a.contentAuthor.join(",")]),""!==a.contentSection&&tp.push(["setContentSection",a.contentSection]),l&&console.log(this),tp.push(["init",e.initConfig]),this},d.initListeners=function(){l&&console.log("tp.initListeners");var e=this,t={message:function(t){if(-1!==e.path.indexOf(t.originalEvent.origin)||-1!==t.originalEvent.origin.indexOf("buy.tinypass.com")){var n=JSON.parse(t.originalEvent.data);if("selectTerm"===n.event)return void d.trackOmnitureEvent({eventName:"event103",eventTitle:"pw - paymentView"});var i=n.params;i&&"undefined"!==$.type(i.eventName)&&""!==i.eventName&&e[i.eventName].call()}},"MySlateData.Fetch":function(e,t){return n.isSlatePlusUser?void tp.offer.close():void(tp.janrain.isUserValid()&&d.handleOfferShow(d.meter))}};r.siteConfig.ready?e.init():t["janrain.ready"]=function(t){l&&console.log("tp.janrain.ready"),e.init()},$(window).on(t),$(document).on("click","#tp-account-container-container .tp-close.tp-active",function(){$("#tp-account-container-container").size()&&(d.toggleClass(""),$("#tp-account-container-container").remove())})},d.initConfig=function(){if(tp.util.debug("tp.initConfig"),tp.push(["setDebug",l]),a.sandbox&&(tp.push(["setEndpoint","sandbox"]),tp.push(["setSandbox",!0])),e.tinypass.ready=tp.isInitialized,d.initJanrain(),d.settingsPage&&tp.janrain.isUserValid(),d.subscriptionPage&&"pw"!==n.slatePlusType&&tp.janrain.isUserValid()){var t="settings";return n.isSlatePlusUser&&(t="plususer"),void(window.location.href=window.location.href.replace("subscription",t))}tp.meter.init({containerSelector:".tp-offer-form",paywallId:a.paywallId,showCloseButton:!0,trackPageview:d.checkTrackPageview(),onMeterInactive:d.handleMeterInactive,onMeterActive:d.handleMeterActive,onMeterExpired:d.handleMeterExpired,onMeterError:d.handleMeterError,onAccessPurchased:d.handleAccessPurchased,onAccessGranted:d.handleAccessGranted,onShowOffer:d.handleOfferShow}),c.trigger("tinypass.init",{})},d.handleAccessCheck=function(e){tp.util.debug("tp.handleAccessCheck");var t=this;tp.api.callApi("/access/check",{rid:this.rid},function(i){var a=i.access;return a.granted||n.isSlatePlusUser?(tp.util.debug("	access:",a),d.setCookie({type:"pw",referrals:0}),d.handleAccountPage(a.granted),void tp.offer.close()):void t.showOffer(e)})},d.handleAccountPage=function(e){if(tp.util.debug("handleAccountPage"),e=e||0,d.showSubscriptionButton(e),d.settingsPage&&e&&$("#subscription_button").show(),d.settingsPage&&d.subscriptionPage){if(!e)return void(window.location.href=window.location.href.replace("subscription","settings"));$("#settings").append('<h3>Slate Unlimited</h3><div id="tp-account"></div>'),tp.myaccount.show({containerSelector:"#tp-account",displayMode:"inline"}),$("#tp-account").after(['<p class="subscriber-help">','Need help? Contact us: <a href="mailto:subscribe@slate.com" data-issue-collector-value="11024" class="issue-collector">subscribe@slate.com</a>',"</p>"].join(""))}},d.getTemplates=function(e){tp.util.debug("tp.getTemplates"),$.extend(a.templates,a.internationalOffers[e.region],a.internationalOffers[e.country_code])},d.showSubscriptionButton=function(e){return d.settingsPage&&e&&$("#subscription_button").show(),this},d.showOffer=function(t){if(tp.util.debug("tp.showOffer"),(!(d.meter.views<d.meter.max_views)||d.meter.show_reminder)&&(!e.page.roadblocked&&d.checkTrackPageview()||a.faqPage)){var n="undefined"!=typeof tpOverride?tpOverride:{};t=$.extend({displayMode:d.displayMode,offerId:a.templates.offerId,showCloseButton:!1,templateId:a.templates.defaultOffer,containerSelector:".tp-offer-form"},t,n);var i={containerSelector:t.containerSelector,displayMode:t.displayMode,showCloseButton:t.showCloseButton,offerId:t.offerId,templateId:t.templateId,close:this.handleOfferClose,cancel:this.handleOfferCancel,complete:this.handleOfferComplete,error:this.handleOfferError,loginSuccess:this.loginSuccess,customEvent:function(e){}};d.loginRequired||(i.loginRequired=d.loginRequired);var r="event87",o="pw - curtainView";d.meter.show_reminder&&(r="event83",o="pw - reminderView"),a.faqPage||d.trackOmnitureEvent({eventName:r,eventTitle:o}),tp.util.debug(i),tp.offer.show(i)}},d.loginSuccess=function(){if(tp.util.debug("loginSuccess"),tp.janrain.isUserValid()){var e="event96",t="pw - regSuccess";"signIn"===d.loginScreen&&(e="event101",t="pw - loginSuccess"),d.trackOmnitureEvent({eventName:e,eventTitle:t})}$("#tp-account-container-container").removeClass("active"),setTimeout(function(){$("#tp-account-container-container").remove()},1e3)},d.checkTrackPageview=function(){tp.util.debug("checkTrackPageview");var t=a.globalTrackPageview;e.page.roadblocked&&(t=!1),"front"===commercialPageType&&(t=!1),3===window.location.pathname.split(".").length&&(t=!1),"undefined"!==$.type(a.trackPageview)&&(t=a.trackPageview),n.isSlatePlusUser&&(t=!1),this.settingsPage&&(t=!1),"ia"===d.meter.state&&(t=!1);var i=a.excludedSocialDomains,r=i.length;if(r)for(var o=$.url(document.referrer),s=o.attr("host"),l=0;r>l;l++)if(s.indexOf(i[l])>-1){t=!1;break}return tp.util.debug("	",t),t},d.toggleClass=function(e){e=e||"";var t=new RegExp("(^|\\s)"+this.namespace+"-\\S+");t.global=!0,""!==e&&(e=this.namespace+"-"+e),u.removeClass(function(e,n){return(n.match(t)||[]).join(" ").trim()}).addClass(e)},d.showReminder=function(){tp.meter.isExpired()||d.toggleClass("show-reminder")},d.trackReminder5Click=function(){d.trackOmnitureEvent({eventName:"event84",eventTitle:"pw - reminder5click"}),d.insertLogin()},d.trackReminder50Click=function(){d.trackOmnitureEvent({eventName:"event85",eventTitle:"pw - reminder50click"}),d.insertLogin()},d.trackCurtain5Click=function(){d.trackOmnitureEvent({eventName:"event88",eventTitle:"pw - curtain5click"}),d.insertLogin()},d.trackCurtain50Click=function(){d.trackOmnitureEvent({eventName:"event89",eventTitle:"pw - curtain50click"}),d.insertLogin()},d.trackPurchaseClick=function(){f="",d.trackOmnitureEvent({eventName:"event104",eventTitle:"pw - paymentSubmit"})},d.infinityCheck=function(e,t,n){n=n||100;var i=setInterval(function(){var n=$(e);n.size()&&(clearInterval(i),t.call())},n);return this},d.insertLogin=function(){tp.util.debug("insertLogin"),requirejs(["css!//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min"]),d.toggleClass("janrain-open"),tp.janrain.isUserValid()||($("#signIn").remove(),u.append(['<div id="tp-account-container-container">','<div id="tp-account-container">','<div class="tp-janrain__header">','<a href="javascript:void(0)" id="tp-janrain-back">&lt; Back</a><span>Step 1 of 2</span>',"</div>","</div>","</div>"].join("")),$("#tp-account-container").append(t["tp.janrain.signIn"].call()+t["tp.janrain.registration"].call(this,{isChecked:function(){return"CA"!==d.meter.country_code?"checked":""}})+t["janrain.mergeAccount"].call()+t["janrain.forgotPassword"].call()),$(document).on("change","#global-opt-imposter",function(){$("#capture_traditionalRegistration_globalOpt").prop("checked",$(this).prop("checked"))}),d.infinityCheck("#capture_traditionalRegistration_globalOpt",function(){var e=$("#capture_traditionalRegistration_globalOpt"),t=$("#global-opt-imposter");e.size()&&e.prop("checked",t.prop("checked"))}).infinityCheck("#capture_traditionalRegistration_form_item_emailAddress",function(){janrain.events.onCaptureValidationFailed.addHandler(function(e){tp.util.debug("tp.janrain.onCaptureValidationFailed",e),"Email address is already being used."===e.message&&$("#capture_traditionalRegistration_form_item_emailAddress").find(".capture_tip_error").append(' <a href="javascript:void(0)" onclick="janrain.capture.ui.renderScreen(\'signIn\')" style="text-decoration: underline;">Login</a>')})}),$("#tp-janrain-back").on("click",function(){return d.loginSuccess(),a.faqPage?void d.toggleClass(""):(tp.meter.isExpired()||d.toggleClass("show-reminder"),void d.handleOfferShow(d.meter))}),setTimeout(function(){$("#tp-account-container-container").addClass("active")},500))},d.insertSignIn=function(){tp.offer.close(),d.insertLogin(),d.initJanrain("signIn"),tp.janrain.login(function(){d.toggleClass(""),d.loginSuccess(),d.handleOfferShow(d.meter)})},d.setCookie=function(t){n.createSlatePlusCookie(t.type,t.referrals);var i=$.cookie("s_segs")||"plus";"none"===i&&(i="plus");var a=i.split(",");-1===a.indexOf("plus")&&a.push("plus"),i=a.join(",");var r=new Date;return r.setTime(r.getTime()+2592e6),$.cookie("s_segs",i,{domain:e.myslate.site_base_domain,expires:r,path:"/"}),this},d.initJanrain=function(e){e=e||"traditionalRegistration",tp.janrain.init({appName:a.janrainAppName,appId:r.capture.appId,clientId:r.capture.clientId,loginRequiredScreen:e})},d.initJanrainListeners=function(){l&&console.log("initJanrainListeners"),janrain.events.onCaptureSessionEnded.addHandler(function(){tp.util.debug("tp.janrain.onCaptureSessionEnded")}),janrain.events.onCaptureScreenShow.addHandler(function(e){var t=e.screen,n="event90",i="pw - registrationView";"signIn"===t&&(n="event98",i="pw - loginView",d.loginScreen=t),d.trackOmnitureEvent({eventName:n,eventTitle:i})}),janrain.events.onProviderLoginSuccess.addHandler(function(e){tp.util.debug("tp.janrain.onProviderLoginSuccess");var t=e.provider,n="event92",i="pw - fbRegClick";switch(t){case"twitter":n="event93",i="pw - twRegClick";break;case"googleplus":n="event94",i="pw - googleRegClick";break;case"yahoo":n="event95",i="pw - yahooRegClick"}d.trackOmnitureEvent({eventName:n,eventTitle:i})}),janrain.events.onCaptureValidationComplete.addHandler(function(e){if(e.fieldsWithError.length){var t="event97",n="pw - regError";"signIn"===d.loginScreen&&(t="event102",n="pw - loginError"),d.trackOmnitureEvent({eventName:t,eventTitle:n})}})},d.handleMeterActive=function(e){tp.util.debug("tp.meter.onMeterActive",e),d.initJanrainListeners(),d.meter=e,e.show_reminder&&(d.toggleClass("show-reminder"),janrain.events.onCaptureLoginSuccess.addHandler(function(e){tp.util.debug("onCaptureLoginSuccess"),d.loginRequired=!1})),""!==$.trim(a.ribbonText)&&d.showAnnouncement()},d.handleMeterExpired=function(e){tp.util.debug("tp.meter.onMeterExpired",e),d.meter=e,d.handleAccessCheck()},d.handleMeterInactive=function(e){tp.util.debug("tp.meter.onMeterInactive"),d.meter=e},d.handleMeterError=function(e){tp.util.debug("tp.meter.onMeterError",e),d.meter=e},d.handleOfferShow=function(e){tp.util.debug("tp.meter.onShowOffer",e),d.getTemplates(e);var t={templateId:a.templates.defaultOffer,showCloseButton:!1};if(e.show_reminder){var n=a.templates.reminder;switch(e.views){case 4:n=a.templates.template4of5;break;case 5:n=a.templates.template5of5}t.templateId=n,t.showCloseButton=!0}d.handleAccessCheck(t)},d.handleAccessPurchased=function(e){tp.util.debug("tp.meter.onAccessPurchased",e)},d.handleAccessGranted=function(e){tp.util.debug("tp.meter.onAccessGranted",e),d.setCookie({type:"pw",referrals:0}),d.handleAccountPage(1)},d.handleOfferClose=function(){tp.util.debug("tp.offer.close"),d.trackOmnitureEvent({eventName:"event86",eventTitle:"pw - reminderCloseClick"}),d.toggleClass(""),d.meter.show_reminder&&janrain.capture.ui.hasActiveSession()&&!tp.janrain.isConfigured()&&d.initJanrain()},d.handleOfferCancel=function(){tp.util.debug("tp.offer.cancel")};var p=0;d.handleOfferComplete=function(e){tp.util.debug("tp.offer.complete",e),p||(p=1,d.toggleClass(""),d.setCookie({type:"pw",referrals:0}).trackOmnitureEvent({eventName:"event105",eventTitle:"pw - purchase"}).trackOptimizelyEvent())},d.handleOfferError=function(){tp.util.debug("tp.offer.error"),d.trackOmnitureEvent({eventName:"event106",eventTitle:"pw - paymentError"})},d.loginRequired=function(e){return tp.util.debug("loginRequired",e,"<====="),!1},d.trackOptimizelyEvent=function(e){return tp.util.debug("trackOptimizelyEvent"),e=e||"paywall_subscription",window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent",e]),this};var f="";return d.trackOmnitureEvent=function(e){return tp.util.debug("trackOmnitureEvent"),f!==e.eventName?(tp.util.debug(e),f=e.eventName,s.trackEvent({eVars:e.eVars,eventName:e.eventName,eventTitle:e.eventTitle}),this):void 0},d.showAnnouncement=function(){tp.util.debug("showAnnouncement",a.showAnnouncement),("undefined"===$.type(a.showAnnouncement)||a.showAnnouncement)&&i.showLSBanner({bannerName:"tinypass-announcement",bannerHTML:$("<div/>").html(a.ribbonText).text(),bannerMaxViews:10})},d.initListeners(),d}}),requirejs(["config","jquery","announcements"],function(e,t,n){var i={twitter:"t.co",facebook:"facebook.com"},a=function(i){if("undefined"==typeof t.cookie("slate-social-referral-noshow")){var a="Like us on Facebook for more great Slate stories!",r='<div class="fb-like" data-href="https://www.facebook.com/Slate" data-layout="button" data-action="like" data-show-faces="true" data-share="false"></div>';"twitter"===i&&(a="Follow us on Twitter for more great Slate stories!",r='<a href="https://twitter.com/slate" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @slate</a>'),a+='<div class="social social--'+i+'">'+r+"</div>",n.showLSBanner({bannerName:"socialbanners",bannerHTML:a,bannerValue:i,closeCallback:function(n){t.cookie("slate-social-referral-noshow",i,{expires:30,path:"/",domain:e.myslate.site_base_domain})}}),t("head").append('<style id="social-loading">#socialbanners_announcement iframe { width: 0 !important; height: 0 !important; }</style>'),requirejs([i],function(){"facebook"===i?(FB.XFBML.parse(document.getElementById("socialbanners_announcement"),function(){t("#social-loading").remove()}),FB.Event.subscribe("edge.create",function(e,t){n.showNoMore("socialbanners")}),FB.Event.subscribe("edge.remove",function(e,t){n.showAgain("socialbanners")})):twttr.ready(function(e){t("#social-loading").remove(),e.events.bind("follow",function(e){n.showNoMore("socialbanners"),s.trackSocialShare("twitter-follow","event6")}),e.events.bind("unfollow",function(e){n.showAgain("socialbanners")})})})}},r=n.getLSBannerItem("socialbanners");return r?void a(r.value):void Object.keys(i).forEach(function(e){return document.referrer.indexOf(i[e])>-1?void a(e):void 0})}),define("socialbanners",function(){}),requirejs(["a9"],function(e){try{e.getAdsAsync("3075")}catch(t){}}),requirejs(["jquery","config","s_code","libs/jquery-plugins/jquery.cookie"],function(e,t,n,i){if(window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","pageview",{anonymous:!0}]),window.optimizely.push(["activateSiteCatalyst"]),e.cookie("s_segs")&&"none"!==e.cookie("s_segs")){var a=e.cookie("s_segs");s_segs_array=a.split(",");for(var r=0,o=s_segs_array.length;o>r;r++)window.optimizely.push(["setDimensionValue",s_segs_array[r],"true"])}"undefined"!=typeof e.cookie("wapo_login_id")?window.optimizely.push(["setDimensionValue","logged_in",e.cookie("wapo_login_id")]):window.optimizely.push(["setDimensionValue","logged_in",null])}),requirejs(["jquery","config","libs/jquery-plugins/jquery.cookie","libs/jquery-plugins/purl"],function(e,t,n,i){if("undefined"!=typeof e.url().param("mc_eid")){var a=new Date;a.setTime(a.getTime()+2592e6);var r=e.url().param("mc_eid");e.cookie("mc_eid",r,{expires:a,path:t.myslate.site_path,domain:t.myslate.site_base_domain})}}),requirejs(["config"],function(e){e.env.edit||requirejs(["janrain/janrain"])}),requirejs(["jquery"],function(e){bm_website_code="4C9B46DD86634E5A",e(document).ready(function(){requirejs(["https://asset.pagefair.com/measure.min.js","https://asset.pagefair.net/ads.min.js"])})}),requirejs(["jquery","hcs/plugins/jquery.transit"],function(e,t){e.support.transition||(e.fn.transition=e.fn.animate)}),define("logEvent",["jquery"],function(e){return function(t,n,i){var a=document.domain.split("."),r="event."+document.domain;a.length>=2&&(this.eventHost="event."+a[a.length-2]+"."+a[a.length-1]);var o={};o.event=t,o.app=n,o.referer=document.referer&&document.referer.substr(0,254)||document.referrer&&document.referrer.substr(0,254),o.url=window.location.href.substr(0,254),o.pn="slate",o.qn="slate.SGCTR.queue",o.en="slate.SGCTR.exchange","object"==typeof JSON&&(o.appdata=JSON.stringify(i));var s={type:"GET",dataType:"jsonp",url:"http://"+r+"/events",cache:!1,data:o};e.ajax(s)}}),requirejs(["config","jquery"],function(e,t){e.page.enableIssueCollector&&!mobileMode()&&t(document).ready(function(){var e=function(e){var n=t(this);return n.data({previousText:n.text()}).text("Please wait...").addClass("issue-collector-loading"),requirejs(["issue-collector"],function(e){e.call(this,{$elem:n})}),!1};t("#nav_sections, #livefyre, body").one("click",".issue-collector",e)})}),define("userIP",["jquery"],function(e){var t=new e.Deferred;return e.ajax({type:"GET",url:"http://ipv4.myexternalip.com/json",dataType:"json"}).done(function(e){t.resolve(e)}).fail(function(){t.resolve({})}),t.promise()}),define("errorCollector",[],function(){var e=[];return requirejs.onError=function(t){var n=0;t.requireModules&&(n=t.requireModules.length);for(var i=0;n>i;i++){var a={},r=t.requireModules[i];a[r]=t.message,e.push(a)}},e}),requirejs(["optimizely","myslate","socialpopups","search","logEvent","errorCollector","slateplus","shared/devicemode","shared/sgads","hcs/script","libs/jquery-plugins/jquery.browser","hcs/plugins/jquery.transit","hcs/plugins/SGFootnote.jquery","hcs/plugins/SGSocialIcons.jquery","hcs/plugins/SGNavDropdown.jquery","hcs/plugins/SGComments.jquery","hcs/plugins/SGRollup.jquery","hcs/plugins/SGGlobalNav.jquery","hcs/plugins/SGLightbox.jquery","hcs/plugins/jQuery.highlighter","hcs/libs/swipe","hcs/libs/magnific","hcs/plugins/jquery.swipebox","hcs/plugins/SGBigSlider.jquery","hcs/plugins/jquery.placeholder.min","libs/jquery-plugins/jquery.timeago","libs/jquery-plugins/jquery.form","libs/jquery-plugins/jquery.fittext","libs/jquery-plugins/jquery.sticky","libs/jquery-plugins/jquery.autoComplete","libs/jquery-plugins/jquery.boxfit","libs/jquery-plugins/jquery.backgroundSize","libs/jquery-plugins/jquery.dateformat","libs/jquery-plugins/jquery.lazyloadxt","libs/jquery-plugins/jquery.lazyloadxt.extra","libs/jquery-plugins/jquery.lazyloadxt.bg","libs/jquery-plugins/jquery.lazyloadxt.widget","libs/jquery-plugins/jquery.visible","libs/jquery-plugins/jquery.storageapi","libs/jquery-plugins/jquery.ba-throttle-debounce","externalservices","templates","libs/jquery-plugins/jquery.ctr","eventtracking","util","shared/campaignManager","fresca-scroll","ads","tp","keywee","socialbanners"]),define("main",function(){});